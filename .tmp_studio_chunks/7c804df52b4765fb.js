(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,462142,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(78162);async function a({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["parseDbSchemaString",0,e=>e.split(",").map(e=>e.trim()).filter(e=>e.length>0),"useProjectPostgrestConfigQuery",0,({projectRef:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.configKeys.postgrest(e),queryFn:({signal:t})=>a({projectRef:e},t),enabled:r&&void 0!==e,...s})])},753515,e=>{"use strict";var t=e.i(478902),r=e.i(305551),i=e.i(843778);function a({align:e="left",children:a,className:s,descriptionText:o,error:n,id:l,label:c,labelOptional:u,layout:d="vertical",style:p,labelLayout:m,responsive:h=!0,size:g="medium",beforeLabel:y,afterLabel:f,nonBoxInput:S=!c}){let b=r.default.form_layout,x="flex"===d,_=[];_.push(b.size[g]);let v=[],j=[];"horizontal"===d||m||x?"horizontal"===m?v.push(b.labels_horizontal_layout):v.push(b.labels_vertical_layout):v.push(b.labels_horizontal_layout),"horizontal"!==d?j.push(b.data_input_horizontal_layout):(j.push(b.data_input_vertical_layout),"right"===e&&j.push(b.data_input_vertical_layout__align_right)),x?(_.push(b.flex[e].base),"left"===e&&(v.push(b.flex.left.labels),j.push(b.flex.left.data_input)),"right"===e&&(v.push(b.flex.right.labels),j.push(b.flex.right.data_input))):_.push(b.container,h?b.responsive:b.non_responsive),s&&_.push(s);let R=!!(c||y||f),C=n&&(0,t.jsx)("p",{"data-state":n?"show":"hide",className:[b.error.base,b.error.size[g]].join(" "),children:n}),E=o&&(0,t.jsx)("div",{className:[b.description.base,b.description.size[g]].join(" "),id:l+"-description",children:o});return(0,t.jsxs)("div",{className:_.join(" "),children:[x&&(0,t.jsx)("div",{className:b.flex[e].content,children:a}),R||u||"horizontal"===d?(0,t.jsxs)("div",{className:v.join(" "),children:[R&&(0,t.jsxs)("label",{className:(0,i.cn)(b.label.base,b.label.size[g],"break-all"),htmlFor:l,children:[y&&(0,t.jsx)("span",{className:[b.label_before.base,b.label_before.size[g]].join(" "),id:l+"-before",children:y}),c,f&&(0,t.jsx)("span",{className:[b.label_after.base,b.label_after.size[g]].join(" "),id:l+"-after",children:f})]}),u&&(0,t.jsx)("span",{className:[b.label_optional.base,b.label_optional.size[g]].join(" "),id:l+"-optional",children:u}),x&&(0,t.jsxs)(t.Fragment,{children:[E,C]})]}):null,!x&&(0,t.jsx)("div",{className:j.join(" "),style:p,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:S&&c&&"vertical"===d?b.non_box_data_input_spacing_vertical:S&&c&&"horizontal"===d?b.non_box_data_input_spacing_horizontal:"",children:a}),C,E]})})]})}e.s(["FormLayout",()=>a])},140449,e=>{"use strict";var t=e.i(478902),r=e.i(389959);let i=(0,r.createContext)({formContextOnChange:null,values:null,errors:null,handleBlur:null,touched:null,fieldLevelValidation:null});e.s(["FormContextProvider",0,e=>{let{formContextOnChange:r,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l}=e;return(0,t.jsx)(i.Provider,{value:{formContextOnChange:r,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l},children:e.children})},"useFormContext",0,()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useFormContextOnChange must be used within a FormContextProvider.");return e}])},440401,701823,e=>{"use strict";var t=e.i(478902),r=e.i(938933),i=e.i(867637);let a={tiny:14,small:16,medium:20,large:24,xlarge:32};function s({style:e,size:s="medium"}){let o=(0,r.default)("inputErrorIcon");return(0,t.jsx)("div",{className:o.base,style:e,children:(0,t.jsx)(i.AlertCircle,{size:a[s],strokeWidth:2})})}e.s(["default",()=>s],440401);var o=e.i(843778);function n({icon:e,className:i,size:a}){let s=(0,r.default)("inputIconContainer");return(0,t.jsx)("div",{className:(0,o.cn)(s.base,s.size[a],i),children:e})}e.s(["default",()=>n],701823)},440523,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(816467),a=e.i(753515),s=e.i(440401),o=e.i(701823),n=e.i(282410),l=e.i(938933),c=e.i(375761),u=e.i(843778),d=e.i(837710),p=e.i(140449);function m({autoComplete:e,autoFocus:m,className:h,inputClassName:g,iconContainerClassName:y,copy:f,defaultValue:S,descriptionText:b,disabled:x,error:_,icon:v,id:j="",name:R="",inputRef:C,label:E,afterLabel:P,beforeLabel:k,labelOptional:I,layout:w,onChange:O,onBlur:N,onCopy:D,placeholder:A,type:T="text",value:z,style:M,reveal:L=!1,actions:B,size:q="medium",borderless:V=!1,validation:F,...W}){let[U,K]=(0,r.useState)("Copy"),[Q,$]=(0,r.useState)(!0),H=(0,l.default)("input"),{formContextOnChange:Y,values:G,errors:X,handleBlur:J,touched:Z,fieldLevelValidation:ee}=(0,p.useFormContext)();G&&!z&&(z=G[j||R]),_||(X&&!_&&(_=X[j||R]),_=Z&&Z[j]?_:void 0),(0,r.useEffect)(()=>{F&&ee(j,F(z))},[]);let et=["peer/input",H.base];return _&&et.push(H.variants.error),_||et.push(H.variants.standard),q&&et.push(H.size[q]),v&&et.push(H.with_icon[q]),x&&et.push(H.disabled),g&&et.push(g),(0,t.jsx)(a.FormLayout,{label:E,afterLabel:P,beforeLabel:k,labelOptional:I,layout:w,id:j,error:_,descriptionText:b,style:M,size:q,className:h,children:(0,t.jsxs)("div",{className:H.container,children:[(0,t.jsx)("input",{"data-size":q,autoComplete:e,autoFocus:m,defaultValue:S,disabled:x,id:j,name:R,onChange:function(e){O&&O(e),Y&&Y(e),F&&ee(j,F(e.target.value))},onBlur:function(e){J&&setTimeout(()=>{J(e)},100),N&&N(e)},onCopy:D,placeholder:A,ref:C,type:T,value:L&&Q?n.HIDDEN_PLACEHOLDER:z,className:(0,u.cn)(et),...W}),v&&(0,t.jsx)(o.default,{size:q,icon:v,className:y}),f||_||B?(0,t.jsxs)("div",{className:H.actions_container,children:[_&&(0,t.jsx)(s.default,{size:q}),f&&!(L&&Q)?(0,t.jsx)(d.Button,{size:"tiny",type:"default",icon:(0,t.jsx)(i.Copy,{}),onClick:()=>{var e;return e=z,void(0,c.copyToClipboard)(e,()=>{K("Copied"),setTimeout(()=>{K("Copy")},3e3),D?.()})},children:U}):null,L&&Q?(0,t.jsx)(d.Button,{size:"tiny",type:"default",onClick:function(){$(!1)},children:"Reveal"}):null,B&&B]}):null]})})}m.TextArea=function({className:e,textAreaClassName:o,descriptionText:n,disabled:u,error:m,icon:h,id:g="",name:y="",label:f,afterLabel:S,beforeLabel:b,labelOptional:x,layout:_,onChange:v,onBlur:j,placeholder:R,value:C,style:E,rows:P=4,limit:k,size:I="medium",borderless:w=!1,validation:O,copy:N=!1,onCopy:D,actions:A,...T}){let[z,M]=(0,r.useState)(0),[L,B]=(0,r.useState)("Copy"),{formContextOnChange:q,values:V,errors:F,handleBlur:W,touched:U,fieldLevelValidation:K}=(0,p.useFormContext)();V&&!C&&(C=V[g||y]),m||(F&&!m&&(m=F[g||y]),m=U&&U[g||y]?m:void 0),(0,r.useEffect)(()=>{O&&K(g,O(C))},[]);let Q=(0,l.default)("input"),$=[Q.base];return m&&$.push(Q.variants.error),m||$.push(Q.variants.standard),h&&$.push(Q.with_icon[I]),I&&$.push(Q.size[I]),u&&$.push(Q.disabled),o&&$.push(o),(0,t.jsx)(a.FormLayout,{className:e,label:f,afterLabel:S,beforeLabel:b,labelOptional:x,layout:_,id:g,error:m,descriptionText:n,style:E,size:I,children:(0,t.jsxs)("div",{className:Q.container,children:[(0,t.jsx)("textarea",{disabled:u,id:g,name:y,rows:P,cols:100,placeholder:R,onChange:function(e){M(e.target.value.length),v&&v(e),q&&q(e),O&&K(g,O(e.target.value))},onBlur:function(e){W&&setTimeout(()=>{W(e)},100),j&&j(e)},onCopy:D,value:C,className:$.join(" "),maxLength:k,...T}),N||m||A?(0,t.jsx)("div",{className:Q.textarea_actions_container,children:(0,t.jsxs)("div",{className:Q.textarea_actions_container_items,children:[m&&(0,t.jsx)(s.default,{size:I}),N&&(0,t.jsx)(d.Button,{size:"tiny",type:"default",onClick:()=>{var e;return e=C,void(0,c.copyToClipboard)(e,()=>{B("Copied"),setTimeout(()=>{B("Copy")},3e3),D?.()})},icon:(0,t.jsx)(i.Copy,{}),children:L}),A&&A]})}):null]})})},e.s(["default",0,m])},171997,e=>{"use strict";var t=e.i(440523);e.s(["Input",()=>t.default])},236134,e=>{"use strict";var t=e.i(478902),r=e.i(217027),i=e.i(837710),a=e.i(613580),s=e.i(938933);let o=({id:e,disabled:o,className:n,children:l,header:c,visible:u,open:d,size:p="medium",loading:m,align:h="right",hideFooter:g=!1,customFooter:y,onConfirm:f,onCancel:S,confirmText:b="Confirm",cancelText:x="Cancel",triggerElement:_,defaultOpen:v,tooltip:j,...R})=>{let C=(0,s.default)("sidepanel"),E=y||(0,t.jsxs)("div",{className:C.footer,children:[(0,t.jsx)("div",{children:(0,t.jsx)(i.Button,{disabled:m,type:"default",onClick:()=>S?S():null,children:x})}),!!f&&(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsx)(i.Button,{htmlType:"submit",disabled:o||m,loading:m,onClick:f,children:b})})}),void 0!==j&&(0,t.jsx)(a.TooltipContent,{side:"bottom",children:j})]})]});d=d||u;let{onOpenAutoFocus:P,onCloseAutoFocus:k,onEscapeKeyDown:I,onPointerDownOutside:w,onInteractOutside:O}=R;return(0,t.jsxs)(r.Root,{open:d,onOpenChange:function(e){void 0!==u&&!e&&S&&S()},defaultOpen:v,children:[_&&(0,t.jsx)(r.Trigger,{asChild:!0,children:_}),(0,t.jsxs)(r.Portal,{children:[(0,t.jsx)(r.Overlay,{className:C.overlay}),(0,t.jsxs)(r.Content,{className:[C.base,C.size[p],C.align[h],n&&n].join(" "),onOpenAutoFocus:P,onCloseAutoFocus:k,onEscapeKeyDown:I,onPointerDownOutside:w,onInteractOutside:e=>{e.target?.closest("#toast")&&e.preventDefault(),O&&O(e)},...R,children:[c&&(0,t.jsx)("header",{className:C.header,children:c}),(0,t.jsx)("div",{className:C.contents,children:l}),!g&&E]})]})]})};o.Content=function({children:e,className:r}){let i=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:[i.content,r].join(" ").trim(),children:e})},o.Separator=function(){let e=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:e.separator})},e.s(["default",0,o])},539013,e=>{"use strict";var t=e.i(236134);e.s(["SidePanel",()=>t.default])},707843,e=>{"use strict";var t=e.i(478902);function r({body:e,head:r,className:i,containerClassName:a,borderless:s,headTrClasses:o,bodyClassName:n,style:l}){let c=["table-container"];a&&c.push(a),s&&c.push("table-container--borderless");let u=["table"];return i&&u.push(i),(0,t.jsx)("div",{className:c.join(" "),children:(0,t.jsxs)("table",{className:u.join(" "),style:l,children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:o,children:r})}),(0,t.jsx)("tbody",{className:n,children:e})]})})}r.th=({children:e,className:r,style:i})=>{let a=["p-3 px-4 text-left"];return r&&a.push(r),(0,t.jsx)("th",{className:a.join(" "),style:i,children:e})},r.td=({children:e,colSpan:r,className:i,style:a,...s})=>(0,t.jsx)("td",{className:i,colSpan:r,style:a,...s,children:e}),r.tr=({children:e,className:r,onClick:i,style:a,hoverable:s})=>{let o=[r];return(i||s)&&o.push("tr--link"),(0,t.jsx)("tr",{className:o.join(" "),onClick:i,style:a,children:e})},e.s(["default",0,r])},417403,e=>{"use strict";var t=e.i(907019);e.s(["default",0,t])},617976,e=>{"use strict";e.s(["organizationKeys",0,{rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}])},793595,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let[i,a]=await Promise.all([(0,r.get)("/platform/organizations/{slug}/members",{params:{path:{slug:e}},signal:t}),(0,r.get)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:e}},signal:t})]),{data:s,error:o}=i,{data:n,error:l}=a;return o&&(0,r.handleError)(o),l&&(0,r.handleError)(l),[...s,...n.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}e.s(["useOrganizationMembersQuery",0,({slug:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.organizationKeys.members(e),queryFn:({signal:t})=>a({slug:e},t),enabled:r&&void 0!==e,...s})])},781894,388531,e=>{"use strict";var t=e.i(478902),r=e.i(532728),i=e.i(389959),a=e.i(408891),s=e.i(355901),o=e.i(417403),n=e.i(242882),l=e.i(234745),c=e.i(617976);let u=["Owner","Administrator","Developer","Read-only"];async function d({slug:e},t){if(!e)throw Error("slug is required");let{data:r,error:i}=await (0,l.get)("/platform/organizations/{slug}/roles",{params:{path:{slug:e}},headers:{Version:2},signal:t});return i&&(0,l.handleError)(i),r}let p=({slug:e},{enabled:t=!0,...r}={})=>(0,n.useQuery)({queryKey:c.organizationKeys.rolesV2(e),queryFn:({signal:t})=>d({slug:e},t),enabled:t&&void 0!==e,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>u.indexOf(e.name)-u.indexOf(t.name))}),...r});e.s(["useOrganizationRolesV2Query",0,p],388531);var m=e.i(793595),h=e.i(38429);async function g({slug:e,plan:t,note:r}){if(!e)throw Error("Slug is required");let{data:i,error:a}=await (0,l.post)("/platform/organizations/{slug}/billing/upgrade-request",{params:{path:{slug:e}},body:{requested_plan:t,note:r}});return a&&(0,l.handleError)(a),i}var y=e.i(265735),f=e.i(635494),S=e.i(967052),b=e.i(587433),x=e.i(837710),_=e.i(253214),v=e.i(428353),j=e.i(24315),R=e.i(61863),C=e.i(398876),E=e.i(613580),P=e.i(538482);let k=o.default.object({note:o.default.string().optional()}),I="request-upgrade-form";e.s(["RequestUpgradeToBillingOwners",0,({block:e=!1,plan:o="Pro",addon:n,featureProposition:l,children:c,className:u})=>{let[d,w]=(0,i.useState)(!1),O=(0,S.useTrack)(),{data:N}=(0,f.useSelectedProjectQuery)(),{data:D}=(0,y.useSelectedOrganizationQuery)(),A=D?.slug,T=D?.plan?.id,z="free"===T,{data:M=[]}=(0,m.useOrganizationMembersQuery)({slug:D?.slug}),{data:L}=p({slug:D?.slug}),B=L?.org_scoped_roles??[],{mutate:q,isPending:V}=(({onSuccess:e,onError:t,...r}={})=>(0,h.useMutation)({mutationFn:e=>g(e),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,r,i){void 0===t?s.toast.error(`Failed to send upgrade request: ${e.message}`):t(e,r,i)},...r}))({onSuccess:()=>{O("request_upgrade_submitted",{requestedPlan:o,addon:n,currentPlan:T}),s.toast.success("Successfully sent request to billing owners!"),w(!1)}}),F="pitr"===n?"PITR":"customDomain"===n?"Custom Domain":"",W=N?`for the project "${N?.name}"`:D?`for the organization "${D.name}"`:"",U="spendCap"===n?"disable spend cap":"computeSize"===n?"change the compute size":`enable the ${F} add-on`,K=n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute size":`Request to enable the ${F} add-on`:`Request an upgrade for the ${o} Plan`,Q=c||(n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute":"Request to enable addon":`Request upgrade to ${o}`),$={note:n?`We'd like to ${z?"upgrade to Pro and ":""}${U} ${W} so that we can ${l}`:`We'd like to upgrade to the ${o} plan ${l?` to ${l} `:""}${W}`},H=(0,a.useForm)({resolver:(0,r.zodResolver)(k),defaultValues:$,values:$}),Y=M.filter(e=>{let t=e.role_ids.map(e=>B.find(t=>t.id===e)?.name).filter(Boolean);return!e.invited_id&&(t.includes("Owner")||t.includes("Administrator"))}),G=async e=>{if(!A)return console.error("Slug is required");q({slug:A,plan:o,note:e.note})};return(0,t.jsxs)(_.Dialog,{open:d,onOpenChange:e=>{e&&O("request_upgrade_modal_opened",{requestedPlan:o,addon:n,currentPlan:T,featureProposition:l}),w(e)},children:[(0,t.jsx)(_.DialogTrigger,{asChild:!0,children:(0,t.jsx)(x.Button,{block:e,type:"primary",className:u,children:Q})}),(0,t.jsx)(_.DialogContent,{children:(0,t.jsx)(v.Form_Shadcn_,{...H,children:(0,t.jsxs)("form",{id:I,onSubmit:H.handleSubmit(G),children:[(0,t.jsxs)(_.DialogHeader,{children:[(0,t.jsx)(_.DialogTitle,{children:K}),(0,t.jsx)(_.DialogDescription,{children:"Let your organization's billing owners know your interest in this"})]}),(0,t.jsx)(_.DialogSectionSeparator,{}),(0,t.jsxs)(_.DialogSection,{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Your request will be sent to the following emails, who are billing owners of your organization:"}),(0,t.jsxs)("div",{className:"text-sm flex gap-x-2",children:[(0,t.jsx)("p",{children:Y.slice(0,2).map(e=>e.primary_email).join(", ")}),Y.length>2&&(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{tabIndex:-1,children:(0,t.jsx)(b.Badge,{children:"+1 others"})}),(0,t.jsx)(E.TooltipContent,{side:"bottom",children:(0,t.jsx)("ul",{className:"",children:Y.slice(2).map(e=>(0,t.jsx)("li",{children:e.primary_email},e.gotrue_id))})})]})]})]}),(0,t.jsx)(R.FormField_Shadcn_,{control:H.control,name:"note",render:({field:e})=>(0,t.jsx)(P.FormItemLayout,{name:"note",label:"Add a note to your request (optional)",layout:"vertical",children:(0,t.jsx)(j.FormControl_Shadcn_,{children:(0,t.jsx)(C.TextArea_Shadcn_,{id:"note",...e,rows:3,placeholder:n?"spendCap"===n?"e.g. We need to disabled spend cap on this project to do something":"e.g. We need to enable this add-on to do something with the project":"e.g. We need to upgrade to the Pro plan to use this feature"})})})})]}),(0,t.jsxs)(_.DialogFooter,{children:[(0,t.jsx)(x.Button,{type:"default",disabled:V,onClick:()=>w(!1),children:"Cancel"}),(0,t.jsx)(x.Button,{htmlType:"submit",form:I,loading:V,children:"Submit request"})]})]})})})]})}],781894)},794231,e=>{"use strict";var t=e.i(478902),r=e.i(902858),i=e.i(210419);e.i(128328);var a=e.i(657588),s=e.i(158639),o=e.i(196621),n=e.i(2579),l=e.i(912793),c=e.i(265735),u=e.i(837710),d=e.i(215312),p=e.i(781894);let m="<Specify which plan to upgrade to: Pro | Team | Enterprise>";e.s(["PLAN_REQUEST_EMPTY_PLACEHOLDER",0,m,"UpgradePlanButton",0,({source:e,variant:h="primary",plan:g="Pro",addon:y,featureProposition:f,disabled:S,children:b,className:x})=>{let{ref:_}=(0,s.useParams)(),{data:v}=(0,c.useSelectedOrganizationQuery)(),j=v?.plan?.id==="free",R=v?.slug??"_",C=(0,a.useFlag)("disableProjectCreationAndUpdate"),{billingAll:E}=(0,l.useIsFeatureEnabled)(["billing:all"]),{can:P}=(0,n.useAsyncCheckPermissions)(r.PermissionAction.BILLING_WRITE,"stripe.subscriptions"),k=`Enquiry to upgrade ${g?`to ${g} `:""}plan for organization`,I=`Name: ${v?.name}
Slug: ${R}
Requested plan: ${g??m}`,w="spendCap"===y,O=!j&&!!y,N=w?`/org/${R??"_"}/billing?panel=costControl&source=${e}`:O?"computeSize"===y?`/project/${_??"_"}/settings/compute-and-disk`:`/project/${_??"_"}/settings/addons?panel=${y}&source=${e}`:`/org/${R??"_"}/billing?panel=subscriptionPlan&source=${e}`,D=b||(y?"Enable add-on":`Upgrade to ${g}`),A=E?(0,t.jsx)(i.default,{href:N,children:D}):(0,t.jsx)(o.SupportLink,{queryParams:{orgSlug:R,category:"Plan_upgrade",subject:k,message:I},children:D});return P?C?(0,t.jsx)(d.ButtonTooltip,{disabled:!0,type:h,className:x,tooltip:{content:{side:"bottom",text:"Plan changes are currently disabled, our engineers are working on a fix"}},children:D}):(0,t.jsx)(u.Button,{asChild:!0,type:h,disabled:S,className:x,children:A}):(0,t.jsx)(p.RequestUpgradeToBillingOwners,{plan:g,addon:y,featureProposition:f,className:x,children:b})}])},235458,e=>{"use strict";var t=e.i(478902),r=e.i(843778),i=e.i(710483),a=e.i(794231);e.s(["UpgradeToPro",0,({icon:e,primaryText:s,secondaryText:o,plan:n="Pro",addon:l,featureProposition:c,buttonText:u,source:d="upgrade",disabled:p=!1,fullWidth:m=!1,layout:h="horizontal",variant:g="primary",className:y})=>(0,t.jsx)(i.Admonition,{type:"default",icon:e,layout:h,title:s,description:o,className:(0,r.cn)(m&&"border-0 rounded-none border-b",y),actions:(0,t.jsx)(a.UpgradePlanButton,{plan:n,addon:l,source:d,featureProposition:c,disabled:p,variant:g,children:u})})])},918117,e=>{"use strict";var t=e.i(479084),r=e.i(21150);e.s(["getLiveTupleEstimate",0,(e,r="public")=>`
SELECT n_live_tup AS live_tuple_estimate
FROM pg_stat_user_tables
WHERE schemaname = ${(0,t.literal)(r)}
AND relname = ${(0,t.literal)(e)};
`.trim(),"getLiveTupleEstimateKey",0,(e,t,i="public")=>r.sqlKeys.query(e,["live-tuple-estimate",i,t])])},170149,e=>{"use strict";var t=e.i(478902);e.i(128328);var r=e.i(657588),i=e.i(532728),a=e.i(370410),s=e.i(816467),o=e.i(389959),n=e.i(408891),l=e.i(837710),c=e.i(253214),u=e.i(24315),d=e.i(215317),p=e.i(61863),m=e.i(191209),h=e.i(837243),g=e.i(846887),y=e.i(428353),f=e.i(378277),S=e.i(843778),b=e.i(375761),x=e.i(97429),_=e.i(710483);let v=(0,o.forwardRef)(({title:e,size:r="small",onConfirm:v,visible:j,onCancel:R,loading:C,cancelLabel:E="Cancel",confirmLabel:P="Submit",confirmPlaceholder:k,confirmString:I,alert:w,input:O,label:N,description:D,formMessage:A,text:T,children:z,blockDeleteButton:M=!0,variant:L="default",errorMessage:B="Value entered does not match",enableCopy:q=!1,...V},F)=>{let[W,U]=(0,o.useState)(!1),K=x.z.object({confirmValue:x.z.preprocess(e=>"string"==typeof e?e.trim():e,x.z.literal(I.trim(),{errorMap:()=>({message:B})}))}),Q=(0,n.useForm)({resolver:(0,i.zodResolver)(K),reValidateMode:"onChange",defaultValues:{confirmValue:""}}),$=Q.formState.isValid;return(0,o.useEffect)(()=>{I&&Q.reset()},[I]),(0,o.useEffect)(()=>{if(!W)return;let e=setTimeout(()=>U(!1),2e3);return()=>clearTimeout(e)},[W]),(0,t.jsx)(c.Dialog,{open:j,...V,onOpenChange:()=>{j&&R()},children:(0,t.jsxs)(c.DialogContent,{ref:F,className:"p-0 gap-0 pb-5 !block",size:r,children:[(0,t.jsx)(c.DialogHeader,{className:(0,S.cn)("border-b"),padding:"small",children:(0,t.jsx)(c.DialogTitle,{className:"",children:e})}),w&&(0,t.jsx)(_.Admonition,{type:L,label:w.title,description:w.description,className:"border-x-0 rounded-none -mt-px",...w?.base}),z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.DialogSection,{padding:"small",children:z}),(0,t.jsx)(c.DialogSectionSeparator,{})]}),void 0!==T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.DialogSection,{className:"p-5",padding:"small",children:(0,t.jsx)("p",{className:"text-foreground-light text-sm",children:T})}),(0,t.jsx)(c.DialogSectionSeparator,{})]}),(0,t.jsx)(y.Form_Shadcn_,{...Q,children:(0,t.jsxs)("form",{autoComplete:"off",onSubmit:Q.handleSubmit(function(e){v()}),className:"px-5 flex flex-col gap-y-3 pt-3",children:[(0,t.jsx)(p.FormField_Shadcn_,{control:Q.control,name:"confirmValue",render:({field:e})=>(0,t.jsxs)(m.FormItem_Shadcn_,{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)(h.FormLabel_Shadcn_,{...N,enableSelection:!q,children:["Type"," ",q?(0,t.jsx)(l.Button,{type:"default",className:"h-[23px] px-1.5 py-0 border-muted text-sm whitespace-pre break-all",iconRight:W?(0,t.jsx)(a.Check,{strokeWidth:2,className:"text-brand"}):(0,t.jsx)(s.Copy,{}),onClick:()=>{U(!0),(0,b.copyToClipboard)(I)},children:I}):(0,t.jsx)("span",{className:"text-foreground break-all whitespace-pre",children:I})," ","to confirm."]}),(0,t.jsx)(u.FormControl_Shadcn_,{children:(0,t.jsx)(f.Input_Shadcn_,{autoComplete:"off",placeholder:k,...O,...e})}),!!D&&(0,t.jsx)(d.FormDescription_Shadcn_,{...D}),(0,t.jsx)(g.FormMessage_Shadcn_,{...A})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!M&&(0,t.jsx)(l.Button,{size:"medium",block:!0,type:"default",disabled:C,onClick:R,children:E}),(0,t.jsx)(l.Button,{block:!0,size:"medium",type:"destructive"===L?"danger":"warning"===L?"warning":"primary",htmlType:"submit",loading:C,disabled:!$||C,className:"truncate",children:P})]})]})})]})})});v.displayName="TextConfirmModal",e.s(["TextConfirmModal",0,e=>{let i=(0,r.useFlag)("textConfirmationModalClickToCopy");return(0,t.jsx)(v,{...e,enableCopy:i})}],170149)},471998,e=>{"use strict";let t=(0,e.i(388019).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],471998)},240788,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(10429),a=e.i(68205);async function s({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/v1/projects/{ref}/functions",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useEdgeFunctionsQuery",0,({projectRef:e},{enabled:r=!0,...o}={})=>(0,t.useQuery)({queryKey:a.edgeFunctionsKeys.list(e),queryFn:({signal:t})=>s({projectRef:e},t),enabled:i.IS_PLATFORM&&r&&void 0!==e,...o})])},699879,e=>{"use strict";let t=(0,e.i(388019).default)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);e.s(["Minimize2",()=>t],699879)},467619,219187,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(78162);async function a({cloudProvider:e,dbRegion:t,organizationSlug:i},a){if(!i)throw Error("organizationSlug is required");let{data:s,error:o}=await (0,r.post)("/platform/organizations/{slug}/available-versions",{params:{path:{slug:i}},body:{provider:e,region:t},signal:a});return o&&(0,r.handleError)(o),s}let s=({cloudProvider:e,dbRegion:r,organizationSlug:s},{enabled:o=!0,...n}={})=>(0,t.useQuery)({queryKey:i.configKeys.projectCreationPostgresVersions(s,e,r),queryFn:({signal:t})=>a({organizationSlug:s,cloudProvider:e,dbRegion:r},t),enabled:o&&void 0!==s&&"_"!==s&&void 0!==r,...n});async function o({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/platform/projects/{ref}/restore/versions",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useAvailableOrioleImageVersion",0,({cloudProvider:e,dbRegion:t,organizationSlug:r},{enabled:i})=>{let{data:a}=s({cloudProvider:e,dbRegion:t,organizationSlug:r},{enabled:i});return(a?.available_versions??[]).find(e=>"17-oriole"===e.postgres_engine)},"useProjectCreationPostgresVersionsQuery",0,s],467619),e.s(["useProjectUnpausePostgresVersionsQuery",0,({projectRef:e},{enabled:r=!0,...a}={})=>(0,t.useQuery)({queryKey:i.configKeys.projectUnpausePostgresVersions(e),queryFn:({signal:t})=>o({projectRef:e},t),enabled:r&&void 0!==e,...a})],219187)},295057,e=>{"use strict";e.i(10429);var t=e.i(837508);let r={micro:{label:"Micro",ram:"1 GB",cpu:"2-core",priceHourly:.01344,priceMonthly:10,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},small:{label:"Small",ram:"2 GB",cpu:"2-core",priceHourly:.0206,priceMonthly:15,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},medium:{label:"Medium",ram:"4 GB",cpu:"2-core",priceHourly:.0822,priceMonthly:60,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},large:{label:"Large",ram:"8 GB",cpu:"2-core",priceHourly:.1517,priceMonthly:110,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},xlarge:{label:"XL",ram:"16 GB",cpu:"4-core",priceHourly:.2877,priceMonthly:210,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"2xlarge":{label:"2XL",ram:"32 GB",cpu:"8-core",priceHourly:.562,priceMonthly:410,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"4xlarge":{label:"4XL",ram:"64 GB",cpu:"16-core",priceHourly:1.32,priceMonthly:960,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"8xlarge":{label:"8XL",ram:"128 GB",cpu:"32-core",priceHourly:2.562,priceMonthly:1870,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"12xlarge":{label:"12XL",ram:"192 GB",cpu:"48-core",priceHourly:3.836,priceMonthly:2800,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"16xlarge":{label:"16XL",ram:"256 GB",cpu:"64-core",priceHourly:5.12,priceMonthly:3730,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge":{label:"24XL",ram:"384 GB",cpu:"96-core",priceHourly:9.73,priceMonthly:7100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_cpu":{label:"24XL - Optimized CPU",ram:"192 GB",cpu:"96-core",priceHourly:8.9,priceMonthly:6500,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_memory":{label:"24XL - Optimized Memory",ram:"768 GB",cpu:"96-core",priceHourly:13.84,priceMonthly:10100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_high_memory":{label:"24XL - High Memory",ram:"1536 GB",cpu:"96-core",priceHourly:21.91,priceMonthly:16e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge":{label:"48XL",ram:"768 GB",cpu:"192-core",priceHourly:19.47,priceMonthly:14200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_cpu":{label:"48XL - Optimized CPU",ram:"384 GB",cpu:"192-core",priceHourly:17.8,priceMonthly:13e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_memory":{label:"48XL - Optimized Memory",ram:"1536 GB",cpu:"192-core",priceHourly:27.68,priceMonthly:20200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_high_memory":{label:"48XL - High Memory",ram:"3072 GB",cpu:"192-core",priceHourly:43.84,priceMonthly:32e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]}};e.s(["instanceSizeSpecs",0,r])},372598,715801,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(467619),a=e.i(219187),s=e.i(635494),o=e.i(587433),n=e.i(451031),l=e.i(57492),c=e.i(831927),u=e.i(156722),d=e.i(719754),p=e.i(449123),m=e.i(538482),h=e.i(869176),g=e.i(295057);e.i(287509);var y=e.i(434934);function f(e){return y.SMART_REGION_TO_EXACT_REGION_MAP.get(e)??e}function S(e){switch(e){case"AWS":case"AWS_K8S":return y.AWS_REGIONS;case"AWS_NIMBUS":if("prod"!==h.default.env.NEXT_PUBLIC_ENVIRONMENT)return{SOUTHEAST_ASIA:y.AWS_REGIONS.SOUTHEAST_ASIA};return{EAST_US:y.AWS_REGIONS.EAST_US};case"FLY":return y.FLY_REGIONS;default:throw Error("Invalid cloud provider")}}e.s(["getAvailableRegions",()=>S,"instanceLabel",0,e=>g.instanceSizeSpecs[e]?.label||"Micro","monthlyInstancePrice",0,e=>g.instanceSizeSpecs[e]?.priceMonthly||10,"smartRegionToExactRegion",()=>f],715801);let b=({postgres_engine:e,release_channel:t})=>`${e}|${t}`;e.s(["PostgresVersionSelector",0,({cloudProvider:e,dbRegion:h,organizationSlug:g,field:y,form:S,type:x="create",layout:_="horizontal",label:v="Postgres version"})=>{let{data:j}=(0,s.useSelectedProjectQuery)(),R=f(h),{data:C,isPending:E,isSuccess:P}=(0,i.useProjectCreationPostgresVersionsQuery)({cloudProvider:e,dbRegion:R,organizationSlug:g},{enabled:"create"===x}),{data:k,isPending:I}=(0,a.useProjectUnpausePostgresVersionsQuery)({projectRef:j?.ref},{enabled:"unpause"===x}),w=("create"===x?C?.available_versions??[]:k?.available_versions??[]).sort((e,t)=>e.version.localeCompare(t.version)).reverse(),{postgresVersionSelection:O}=S.watch();return(0,r.useEffect)(()=>{if(w.length>0){let e=w.find(e=>"ga"===e.release_channel),t=e?b(e):b(w[0]);S.setValue("postgresVersionSelection",t)}},[P,w,S]),(0,t.jsx)(m.FormItemLayout,{label:v,layout:_,children:(0,t.jsxs)(p.Select_Shadcn_,{value:O,onValueChange:y.onChange,disabled:0===w.length||"create"===x&&E||"unpause"===x&&I,children:[(0,t.jsx)(u.SelectTrigger_Shadcn_,{className:"[&>:nth-child(1)]:w-full [&>:nth-child(1)]:flex [&>:nth-child(1)]:items-start",children:(0,t.jsx)(d.SelectValue_Shadcn_,{placeholder:"Select a Postgres version for your project"})}),(0,t.jsx)(n.SelectContent_Shadcn_,{children:(0,t.jsx)(l.SelectGroup_Shadcn_,{children:w.map(e=>{let r=e.version.split("supabase-postgres-")[1].replace("-orioledb","");return(0,t.jsx)(c.SelectItem_Shadcn_,{value:b(e),className:"w-full [&>:nth-child(2)]:w-full",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,t.jsx)("span",{className:"text-foreground",children:r}),(0,t.jsxs)("div",{className:"flex flex-row gap-x-2",children:["ga"!==e.release_channel&&(0,t.jsx)(o.Badge,{variant:"warning",children:e.release_channel}),e.postgres_engine.includes("oriole")&&(0,t.jsx)(o.Badge,{variant:"default",children:"OrioleDB"})]})]})},b(e))})})})]})})},"extractPostgresVersionDetails",0,e=>{if(!e)return{postgresEngine:void 0,releaseChannel:void 0};let[t,r]=e.split("|");return{postgresEngine:t,releaseChannel:r}}],372598)},761755,e=>{"use strict";var t=e.i(469449),r=e.i(817729);e.i(128328);var i=e.i(657588),a=e.i(124416),s=e.i(10642),o=e.i(234745),n=e.i(10429);async function l(e){if(!(0,s.hasConsented)()||!n.IS_PLATFORM)return;let{data:t,error:r}=await (0,o.post)("/platform/telemetry/feature-flags/track",{body:e});return r&&(0,o.handleError)(r),t}let c=e=>0===Object.keys(e).length;function u(e){let s=(0,i.useFeatureFlags)(),[o,n]=(0,a.useLocalStorageQuery)(`ph_${e}`,""),u=s.posthog,d=u[e];if(!c(u)){if(!c(u)&&void 0===d)return void console.error(`Flag key "${e}" does not exist in PostHog flag store`);if(o!==d)try{l({feature_flag_name:e,feature_flag_value:d}),n(d)}catch(e){t.withScope(t=>{t.setTag("type","phTrackFailure"),r.captureException(e)}),console.error(e.message)}return d}}e.s(["usePHFlag",()=>u],761755)},940750,e=>{"use strict";var t=e.i(478902),r=e.i(389959);let i=(0,r.createContext)(null),a=(0,r.createContext)(()=>{});e.s(["MainScrollContainerProvider",0,({children:e})=>{let[s,o]=(0,r.useState)(null);return(0,t.jsx)(i.Provider,{value:s,children:(0,t.jsx)(a.Provider,{value:o,children:e})})},"useMainScrollContainer",0,()=>(0,r.useContext)(i),"useSetMainScrollContainer",0,()=>(0,r.useContext)(a)])},710377,e=>{"use strict";let t=(0,e.i(388019).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],710377)},427432,e=>{"use strict";var t=e.i(478902);e.s(["default",0,({active:e})=>e?(0,t.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5"}):null])},677436,e=>{"use strict";var t=e.i(38429),r=e.i(356003),i=e.i(355901),a=e.i(234745),s=e.i(522525);async function o({projectRef:e,is_default:t,branchName:r,gitBranch:i,region:s,withData:o,desired_instance_size:n}){let{data:l,error:c}=await (0,a.post)("/v1/projects/{ref}/branches",{params:{path:{ref:e}},body:{is_default:t,branch_name:r,git_branch:i,region:s,with_data:o,desired_instance_size:n}});return c&&(0,a.handleError)(c),l}e.s(["useBranchCreateMutation",0,({onSuccess:e,onError:a,...n}={})=>{let l=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>o(e),async onSuccess(t,r,i){let{projectRef:a}=r;await l.invalidateQueries({queryKey:s.branchKeys.list(a)}),await e?.(t,r,i)},async onError(e,t,r){void 0===a?i.toast.error(`Failed to create branch: ${e.message}`):a(e,t,r)},...n})}])},362784,e=>{"use strict";var t=e.i(38429),r=e.i(355901),i=e.i(234745);async function a({repositoryId:e,branchName:t},r){let{data:a,error:s}=await (0,i.get)("/platform/integrations/github/repositories/{repository_id}/branches/{branch_name}",{params:{path:{repository_id:e,branch_name:t}},signal:r});return s&&(0,i.handleError)(s),a}e.s(["useCheckGithubBranchValidity",0,({onSuccess:e,onError:i,...s}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,t,a){void 0===i?r.toast.error(`Failed to check GitHub branch: ${e.message}`):i(e,t,a)},...s})])},148210,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(224649);async function a({organizationId:e},t){if(!e)throw Error("organizationId is required");let{data:i,error:a}=await (0,r.get)("/platform/integrations/github/connections",{params:{query:{organization_id:e}},signal:t});return a&&(0,r.handleError)(a),i.connections}e.s(["useGitHubConnectionsQuery",0,({organizationId:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.integrationKeys.githubConnectionsList(e),queryFn:({signal:t})=>a({organizationId:e},t),enabled:r&&void 0!==e,staleTime:18e5,...s})])},585915,e=>{"use strict";let t=(0,e.i(388019).default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["Loader",()=>t],585915)},1606,136764,e=>{"use strict";let t=(0,e.i(388019).default)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);e.s(["default",()=>t],136764),e.s(["PauseCircle",()=>t],1606)},589314,598952,210942,e=>{"use strict";var t=e.i(242882);e.i(128328);var r=e.i(86086),i=e.i(234745),a=e.i(557282);async function s(e,t){let{data:r,error:a}=await (0,i.get)("/platform/projects-resource-warnings",{params:{query:{ref:e?.ref,slug:e?.slug}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useResourceWarningsQuery",0,(e,{enabled:i=!0,...o}={})=>(0,t.useQuery)({queryKey:a.usageKeys.resourceWarnings(e.slug,e.ref),queryFn:({signal:t})=>s(e,t),enabled:r.IS_PLATFORM&&i&&(void 0!==e.ref||void 0!==e.slug),staleTime:36e5,...o})],589314);var o=e.i(10429);let n={is_readonly_mode_enabled:{bannerContent:{warning:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"},critical:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"}},cardContent:{warning:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."},critical:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."}},docsUrl:`${o.DOCS_URL}/guides/platform/database-size#disabling-read-only-mode`,buttonText:"Learn more",metric:"read_only"},disk_io_exhaustion:{bannerContent:{warning:{title:"Your project is about to deplete its Disk IO Budget, and may become unresponsive once fully exhausted",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project has depleted its Disk IO Budget, and may become unresponsive",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project is depleting its Disk IO Budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has depleted its Disk IO Budget",description:"It may become unresponsive"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/exhaust-disk-io`,buttonText:"Learn more",metric:"disk_io"},disk_space_exhaustion:{bannerContent:{warning:{title:"Your project is about to exhaust its available disk space, and may become unresponsive once fully exhausted",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."},critical:{title:"Your project has exhausted its available disk space, and may become unresponsive",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."}},cardContent:{warning:{title:"Project is exhausting its available disk space",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has exhausted its available disk space",description:"It may become unresponsive"}},docsUrl:`${o.DOCS_URL}/guides/platform/database-size#disk-management`,buttonText:void 0,metric:"disk_space"},cpu_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high CPU usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's CPU usage is at 100% and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high CPU usage",description:"Performance is affected"},critical:{title:"Project CPU usage is at 100%",description:"Performance is affected"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/high-cpu-usage`,buttonText:"Learn more",metric:"cpu"},memory_and_swap_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high memory usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's memory usage is at 100%, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high memory usage",description:"Performance is affected"},critical:{title:"Project memory usage is at 100%",description:"Performance is affected"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/exhaust-ram`,buttonText:"Learn more",metric:"ram"},auth_rate_limit_exhaustion:{bannerContent:{warning:{title:"Your project has exceeded email rate limits in the past 24 hours and may not reliably send auth related emails to users",description:"Set up a custom SMTP and adjust rate limits where necessary to ensure that emails are sent out reliably."},critical:{title:void 0,description:void 0}},cardContent:{warning:{title:"Your project has exceeded email rate limits",description:"You will need to set up a custom SMTP provider and adjust rate limits where necessary"},critical:{title:void 0,description:void 0}},docsUrl:`${o.DOCS_URL}/guides/platform/going-into-prod#auth-rate-limits`,buttonText:"Enable custom SMTP",metric:"auth_email_rate_limit"},multiple_resource_warnings:{bannerContent:{warning:{title:"Your project is currently exhausting multiple resources, and its performance is affected",description:"Check which resources are reaching their threshold on your project's usage page."},critical:{title:"Your project has exhausted multiple resources, and its performance is affected",description:"Check which resources have reached their threshold on your project's usage page."}},cardContent:{warning:{title:"Project is exhausting multiple resources",description:"Performance is affected."},critical:{title:"Project has exhausted multiple resources",description:"Performance is affected."}},docsUrl:void 0,buttonText:"Check usage",metric:null}};e.s(["RESOURCE_WARNING_MESSAGES",0,n],598952),e.s(["getWarningContent",0,(e,t,r)=>{if("is_readonly_mode_enabled"===t)return n.is_readonly_mode_enabled.cardContent.warning;let i=e[t];if("string"==typeof i)return n[t]?.[r]?.[i]}],210942)},382710,e=>{"use strict";let t=(0,e.i(388019).default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);e.s(["Monitor",()=>t],382710)},489084,e=>{"use strict";let t=(0,e.i(388019).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["default",()=>t])},31563,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let{data:i,error:a}=await (0,r.get)("/platform/organizations/{slug}/members/reached-free-project-limit",{params:{path:{slug:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useFreeProjectLimitCheckQuery",0,({slug:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.organizationKeys.freeProjectLimitCheck(e),queryFn:({signal:t})=>a({slug:e},t),enabled:r&&void 0!==e,...s})])},423782,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(874311),a=e.i(613580),s=e.i(843778);let o=(0,r.forwardRef)(({...e},r)=>(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(i.DropdownMenuItem,{ref:r,...e,className:(0,s.cn)(e.className,"!pointer-events-auto"),onClick:t=>{!e.disabled&&e.onClick&&e.onClick(t)},children:e.children})}),e.disabled&&void 0!==e.tooltip.content.text&&(0,t.jsx)(a.TooltipContent,{...e.tooltip.content,children:e.tooltip.content.text})]}));o.displayName="DropdownMenuItemTooltip",e.s(["DropdownMenuItemTooltip",0,o])},981682,e=>{"use strict";var t=e.i(38429),r=e.i(355901),i=e.i(234745);async function a({projectRef:e,orgSlug:t,reasons:r,message:a,exitAction:s}){let{data:o,error:n}=await (0,i.post)("/platform/feedback/downgrade",{body:{...void 0!==e&&{projectRef:e},...void 0!==t&&{orgSlug:t},reasons:r,additionalFeedback:a,exitAction:s}});return n&&(0,i.handleError)(n),o}e.s(["useSendDowngradeFeedbackMutation",0,({onError:e,...i}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onError(t,i,a){void 0===e?r.toast.error(`Failed to submit exit survey: ${t.message}`):e(t,i,a)},...i})])},872646,e=>{"use strict";let t=(0,e.i(388019).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],872646)},786741,e=>{"use strict";let t=(0,e.i(388019).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],786741)},776578,e=>{"use strict";e.s(["CANCELLATION_REASONS",0,[{value:"I was just exploring, or it was a hobby/student project."},{value:"I was not satisfied with the customer support I received.",label:"Could you tell us more about your experience with our support team?"},{value:"Supabase is missing a specific feature I need.",label:"What specific feature(s) are we missing?"},{value:"I found it difficult to use or build with.",label:"What specific parts of Supabase did you find difficult or frustrating?"},{value:"Performance or reliability insufficient.",label:"Could you tell us more about the specific issues you encountered (e.g., UI bugs, API latency, downtime)?"},{value:"My project was cancelled or put on hold."},{value:"Too expensive",label:"We appreciate your perspective on our pricing, what aspects of the cost felt too high?"},{value:"The pricing is unpredictable and hard to budget for.",label:"Which aspects of our pricing model made it difficult for you to predict your monthly costs?"},{value:"My company went out of business or was acquired."},{value:"I lost trust in the company or its future direction.",label:"Building and maintaining your trust is our highest priority, could you please share the specific event or reason that led to this loss of trust?"}],"USAGE_APPROACHING_THRESHOLD",0,.8])},937163,e=>{"use strict";e.s(["storageKeys",0,{bucket:(e,t)=>["projects",e,"buckets",t],buckets:e=>["projects",e,"buckets"],bucketsList:(e,t={})=>["projects",e,"buckets","list",{limit:t.limit,search:t.search,sortColumn:t.sortColumn,sortOrder:t.sortOrder}],analyticsBuckets:e=>["projects",e,"analytics-buckets"],vectorBuckets:e=>["projects",e,"vector-buckets"],vectorBucket:(e,t)=>["projects",e,"vector-bucket",t],vectorBucketsIndexes:(e,t)=>["projects",e,"vector-buckets",t,"indexes"],archive:e=>["projects",e,"archive"],icebergNamespaces:({projectRef:e,warehouse:t})=>[e,"warehouse",t,"namespaces"],icebergNamespace:({projectRef:e,warehouse:t,namespace:r})=>[e,"warehouse",t,"namespaces",r],icebergNamespaceTables:({projectRef:e,warehouse:t,namespace:r})=>[e,"warehouse",t,"namespaces",r,"tables"]}])},201683,813088,e=>{"use strict";var t=e.i(242882),r=e.i(356003),i=e.i(389959),a=e.i(714403),s=e.i(21150);let o=`
SELECT id, name, file_size_limit
FROM storage.buckets
WHERE file_size_limit IS NOT NULL
ORDER BY file_size_limit DESC
LIMIT 51;
`.trim(),n=e=>s.sqlKeys.query(e,["buckets-with-largest-size-limit"]);e.s(["LARGEST_SIZE_LIMIT_BUCKETS_COUNT",0,50,"getLargestSizeLimitBucketsKey",0,n,"getLargestSizeLimitBucketsSqlUnoptimized",0,o],813088);var l=e.i(918117);let c=e=>(0,l.getLiveTupleEstimateKey)(e,"buckets","storage"),u=async({projectRef:e,connectionString:t})=>{if(!e)throw Error("Project reference is required");let r=c(e);try{let i=(0,l.getLiveTupleEstimate)("buckets","storage"),{result:s}=await (0,a.executeSql)({projectRef:e,connectionString:t,queryKey:r,sql:i});return s[0]?.live_tuple_estimate}catch{return}},d=async({projectRef:e,connectionString:t})=>{if(!e)throw Error("Project reference is required");if(!t)throw Error("Connection string is required");let r=n(e),{result:i}=await (0,a.executeSql)({projectRef:e,connectionString:t,queryKey:r,sql:o});return i};e.s(["THRESHOLD_FOR_AUTO_QUERYING_BUCKET_LIMITS",0,1e4,"getBucketNumberEstimate",0,u,"getBucketNumberEstimateKey",0,c,"useLargestBucketSizeLimitsCheck",0,({projectRef:e,connectionString:a})=>{let s=(0,r.useQueryClient)(),o=c(e),{data:l,isPending:p}=(0,t.useQuery)({queryKey:o,queryFn:()=>u({projectRef:e,connectionString:a}),enabled:!!e&&!!a}),m=n(e);return{runCondition:void 0!==l&&l<=1e4?"auto":"confirm",runQuery:(0,i.useCallback)(()=>s.fetchQuery({queryKey:m,queryFn:()=>d({projectRef:e,connectionString:a})}),[s,e,a,m]),isEstimatePending:p}}],201683)},34231,e=>{"use strict";var t=e.i(201844),r=e.i(867088),i=e.i(242882),a=e.i(356003),s=e.i(389959),o=e.i(234745),n=e.i(741391),l=e.i(635494);e.i(10429);var c=e.i(837508);e.i(56031);var u=e.i(237948),d=e.i(201683),p=e.i(937163);async function m({projectRef:e,bucketId:t},r){if(!e)throw Error("projectRef is required");if(!t)throw Error("bucketId is required");let{data:i,error:a}=await (0,o.get)("/platform/storage/{ref}/buckets/{id}",{params:{path:{ref:e,id:t}},signal:r});return a&&(0,o.handleError)(a),i}let h=100,g="created_at",y="desc",f=async({projectRef:e,page:t=0,limit:r=h,sortColumn:i=g,sortOrder:a=y,search:s},n)=>{if(!e)throw Error("projectRef is required");let l=s?.trim(),c=l&&l.length>0?l:void 0,{data:u,error:d}=await (0,o.get)("/platform/storage/{ref}/buckets",{params:{path:{ref:e},query:{limit:r,offset:t*r,sortColumn:i,sortOrder:a,search:c}},signal:n});return d&&(0,o.handleError)(d),u},S=({projectRef:e,bucketId:t},{enabled:r=!0,...a})=>{let{data:s}=(0,l.useSelectedProjectQuery)(),o=s?.status===c.PROJECT_STATUS.ACTIVE_HEALTHY;return(0,i.useQuery)({queryKey:p.storageKeys.bucket(e,t),queryFn:({signal:r})=>m({projectRef:e,bucketId:t},r),enabled:r&&!!t&&o,...a,retry:b})},b=(e,t)=>!(t instanceof u.ResponseError&&(t.message.includes("Missing tenant config")||t.message.includes("Project has no active API keys")))&&e<n.MAX_RETRY_FAILURE_COUNT;e.s(["useBucketInfoQueryPreferCached",0,(e,t)=>{let r=(0,a.useQueryClient)(),i=(0,s.useMemo)(()=>{if(!e)return;let i=r.getQueryData(p.storageKeys.bucketsList(t));return(i?.pages.flatMap(e=>e)??[]).find(t=>t.name===e)},[e,t,r]),o=!!e&&!i,{data:n}=S({projectRef:t,bucketId:e},{enabled:o});if(e)return i??n},"useBucketNumberEstimateQuery",0,({projectRef:e},{enabled:t=!0,...r}={})=>{let{data:a}=(0,l.useSelectedProjectQuery)(),s=a?.connectionString;return(0,i.useQuery)({queryKey:(0,d.getBucketNumberEstimateKey)(e),queryFn:()=>(0,d.getBucketNumberEstimate)({projectRef:e,connectionString:s}),enabled:t&&!!e,...r})},"useBucketQuery",0,S,"usePaginatedBucketsQuery",0,({projectRef:e,...i},{enabled:a=!0,...s}={})=>{let{data:o}=(0,l.useSelectedProjectQuery)(),n=o?.status===c.PROJECT_STATUS.ACTIVE_HEALTHY,{placeholderData:u,...d}=s,m=u??t.keepPreviousData;return(0,r.useInfiniteQuery)({queryKey:p.storageKeys.bucketsList(e,i),queryFn:({signal:t,pageParam:r})=>f({projectRef:e,page:r,...i},t),enabled:a&&void 0!==e&&n,initialPageParam:0,getNextPageParam:(e,t)=>{let r=t.length,a=i.limit??h;if(!(e.length<a))return r},...d,placeholderData:m,retry:b})}])}]);