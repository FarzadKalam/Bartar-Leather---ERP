(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,257556,(e,t,r)=>{"use strict";var n=e.r(389959),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,o=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return a(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),o(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},605988,(e,t,r)=>{"use strict";t.exports=e.r(257556)},931297,(e,t,r)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},481311,(e,t,r)=>{t.exports=e.g&&e.g.Object===Object&&e.g},19948,(e,t,r)=>{var n=e.r(481311),i="object"==typeof self&&self&&self.Object===Object&&self;t.exports=n||i||Function("return this")()},322170,(e,t,r)=>{var n=e.r(19948);t.exports=function(){return n.Date.now()}},785853,(e,t,r)=>{var n=/\s/;t.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},139794,(e,t,r)=>{var n=e.r(785853),i=/^\s+/;t.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},95645,(e,t,r)=>{t.exports=e.r(19948).Symbol},682605,(e,t,r)=>{var n=e.r(95645),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n?n.toStringTag:void 0;t.exports=function(e){var t=s.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[a]=r:delete e[a]),i}},209928,(e,t,r)=>{var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}},702114,(e,t,r)=>{var n=e.r(95645),i=e.r(682605),s=e.r(209928),o=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):s(e)}},588631,(e,t,r)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},280041,(e,t,r)=>{var n=e.r(702114),i=e.r(588631);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},752451,(e,t,r)=>{var n=e.r(139794),i=e.r(931297),s=e.r(280041),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(s(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?o:+e}},91763,(e,t,r)=>{var n=e.r(931297),i=e.r(322170),s=e.r(752451),o=Math.max,a=Math.min;t.exports=function(e,t,r){var l,u,c,h,d,p,f=0,g=!1,v=!1,_=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var r=l,n=u;return l=u=void 0,f=t,h=e.apply(n,r)}function y(e){var r=e-p,n=e-f;return void 0===p||r>=t||r<0||v&&n>=c}function b(){var e,r,n,s=i();if(y(s))return E(s);d=setTimeout(b,(e=s-p,r=s-f,n=t-e,v?a(n,c-r):n))}function E(e){return(d=void 0,_&&l)?m(e):(l=u=void 0,h)}function S(){var e,r=i(),n=y(r);if(l=arguments,u=this,p=r,n){if(void 0===d)return f=e=p,d=setTimeout(b,t),g?m(e):h;if(v)return clearTimeout(d),d=setTimeout(b,t),m(p)}return void 0===d&&(d=setTimeout(b,t)),h}return t=s(t)||0,n(r)&&(g=!!r.leading,c=(v="maxWait"in r)?o(s(r.maxWait)||0,t):c,_="trailing"in r?!!r.trailing:_),S.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=u=d=void 0},S.flush=function(){return void 0===d?h:E(i())},S}},240987,(e,t,r)=>{t.exports=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i}},942623,(e,t,r)=>{t.exports=function(){this.__data__=[],this.size=0}},100822,(e,t,r)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}},731759,(e,t,r)=>{var n=e.r(100822);t.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}},840312,(e,t,r)=>{var n=e.r(731759),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},380171,(e,t,r)=>{var n=e.r(731759);t.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},488556,(e,t,r)=>{var n=e.r(731759);t.exports=function(e){return n(this.__data__,e)>-1}},847554,(e,t,r)=>{var n=e.r(731759);t.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},301025,(e,t,r)=>{var n=e.r(942623),i=e.r(840312),s=e.r(380171),o=e.r(488556),a=e.r(847554);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},514298,(e,t,r)=>{var n=e.r(301025);t.exports=function(){this.__data__=new n,this.size=0}},387621,(e,t,r)=>{t.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},963950,(e,t,r)=>{t.exports=function(e){return this.__data__.get(e)}},276462,(e,t,r)=>{t.exports=function(e){return this.__data__.has(e)}},837574,(e,t,r)=>{var n=e.r(702114),i=e.r(931297);t.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},406712,(e,t,r)=>{t.exports=e.r(19948)["__core-js_shared__"]},166718,(e,t,r)=>{var n,i=e.r(406712),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(e){return!!s&&s in e}},877230,(e,t,r)=>{var n=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},127474,(e,t,r)=>{var n=e.r(837574),i=e.r(166718),s=e.r(931297),o=e.r(877230),a=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,h=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!s(e)||i(e))&&(n(e)?h:a).test(o(e))}},785108,(e,t,r)=>{t.exports=function(e,t){return null==e?void 0:e[t]}},86091,(e,t,r)=>{var n=e.r(127474),i=e.r(785108);t.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},965259,(e,t,r)=>{t.exports=e.r(86091)(e.r(19948),"Map")},245497,(e,t,r)=>{t.exports=e.r(86091)(Object,"create")},172945,(e,t,r)=>{var n=e.r(245497);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},68252,(e,t,r)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},674700,(e,t,r)=>{var n=e.r(245497),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},106034,(e,t,r)=>{var n=e.r(245497),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},528344,(e,t,r)=>{var n=e.r(245497);t.exports=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},542653,(e,t,r)=>{var n=e.r(172945),i=e.r(68252),s=e.r(674700),o=e.r(106034),a=e.r(528344);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},705894,(e,t,r)=>{var n=e.r(542653),i=e.r(301025),s=e.r(965259);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},375176,(e,t,r)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},716096,(e,t,r)=>{var n=e.r(375176);t.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},310109,(e,t,r)=>{var n=e.r(716096);t.exports=function(e){var t=n(this,e).delete(e);return this.size-=!!t,t}},152446,(e,t,r)=>{var n=e.r(716096);t.exports=function(e){return n(this,e).get(e)}},327137,(e,t,r)=>{var n=e.r(716096);t.exports=function(e){return n(this,e).has(e)}},982339,(e,t,r)=>{var n=e.r(716096);t.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=+(r.size!=i),this}},481303,(e,t,r)=>{var n=e.r(705894),i=e.r(310109),s=e.r(152446),o=e.r(327137),a=e.r(982339);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},527106,(e,t,r)=>{var n=e.r(301025),i=e.r(965259),s=e.r(481303);t.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(e,t),this.size=r.size,this}},268726,(e,t,r)=>{var n=e.r(301025),i=e.r(514298),s=e.r(387621),o=e.r(963950),a=e.r(276462),l=e.r(527106);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,t.exports=u},475994,(e,t,r)=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},49162,(e,t,r)=>{t.exports=function(e){return this.__data__.has(e)}},176211,(e,t,r)=>{var n=e.r(481303),i=e.r(475994),s=e.r(49162);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},600391,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},737469,(e,t,r)=>{t.exports=function(e,t){return e.has(t)}},826552,(e,t,r)=>{var n=e.r(176211),i=e.r(600391),s=e.r(737469);t.exports=function(e,t,r,o,a,l){var u=1&r,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,g=!0,v=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var _=e[f],m=t[f];if(o)var y=u?o(m,_,f,t,e,l):o(_,m,f,e,t,l);if(void 0!==y){if(y)continue;g=!1;break}if(v){if(!i(t,function(e,t){if(!s(v,t)&&(_===e||a(_,e,r,o,l)))return v.push(t)})){g=!1;break}}else if(!(_===m||a(_,m,r,o,l))){g=!1;break}}return l.delete(e),l.delete(t),g}},212056,(e,t,r)=>{t.exports=e.r(19948).Uint8Array},40613,(e,t,r)=>{t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},46728,(e,t,r)=>{t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},673896,(e,t,r)=>{var n=e.r(95645),i=e.r(212056),s=e.r(100822),o=e.r(826552),a=e.r(40613),l=e.r(46728),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(e,t,r,n,u,h,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!h(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&n;if(p||(p=l),e.size!=t.size&&!f)break;var g=d.get(e);if(g)return g==t;n|=2,d.set(e,t);var v=o(p(e),p(t),n,u,h,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},959472,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},413850,(e,t,r)=>{t.exports=Array.isArray},734522,(e,t,r)=>{var n=e.r(959472),i=e.r(413850);t.exports=function(e,t,r){var s=t(e);return i(e)?s:n(s,r(e))}},235168,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}},696907,(e,t,r)=>{t.exports=function(){return[]}},531089,(e,t,r)=>{var n=e.r(235168),i=e.r(696907),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(e){return null==e?[]:n(o(e=Object(e)),function(t){return s.call(e,t)})}:i},195965,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},53602,(e,t,r)=>{var n=e.r(702114),i=e.r(588631);t.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},663792,(e,t,r)=>{var n=e.r(53602),i=e.r(588631),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable;t.exports=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")}},122214,(e,t,r)=>{t.exports=function(){return!1}},127505,(e,t,r)=>{var n=e.r(19948),i=e.r(122214),s=r&&!r.nodeType&&r,o=s&&t&&!t.nodeType&&t,a=o&&o.exports===s?n.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||i},553319,(e,t,r)=>{var n=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},744540,(e,t,r)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},510483,(e,t,r)=>{var n=e.r(702114),i=e.r(744540),s=e.r(588631),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return s(e)&&i(e.length)&&!!o[n(e)]}},778436,(e,t,r)=>{t.exports=function(e){return function(t){return e(t)}}},581835,(e,t,r)=>{var n=e.r(481311),i=r&&!r.nodeType&&r,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&n.process;t.exports=function(){try{var e=s&&s.require&&s.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}()},374301,(e,t,r)=>{var n=e.r(510483),i=e.r(778436),s=e.r(581835),o=s&&s.isTypedArray;t.exports=o?i(o):n},482709,(e,t,r)=>{var n=e.r(195965),i=e.r(663792),s=e.r(413850),o=e.r(127505),a=e.r(553319),l=e.r(374301),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r=s(e),c=!r&&i(e),h=!r&&!c&&o(e),d=!r&&!c&&!h&&l(e),p=r||c||h||d,f=p?n(e.length,String):[],g=f.length;for(var v in e)(t||u.call(e,v))&&!(p&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,g)))&&f.push(v);return f}},599901,(e,t,r)=>{var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},302873,(e,t,r)=>{t.exports=function(e,t){return function(r){return e(t(r))}}},604269,(e,t,r)=>{t.exports=e.r(302873)(Object.keys,Object)},37958,(e,t,r)=>{var n=e.r(599901),i=e.r(604269),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},140023,(e,t,r)=>{var n=e.r(837574),i=e.r(744540);t.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},588159,(e,t,r)=>{var n=e.r(482709),i=e.r(37958),s=e.r(140023);t.exports=function(e){return s(e)?n(e):i(e)}},134749,(e,t,r)=>{var n=e.r(734522),i=e.r(531089),s=e.r(588159);t.exports=function(e){return n(e,s,i)}},243784,(e,t,r)=>{var n=e.r(134749),i=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,s,o,a){var l=1&r,u=n(e),c=u.length;if(c!=n(t).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in t:i.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=l;++h<c;){var _=e[d=u[h]],m=t[d];if(s)var y=l?s(m,_,d,t,e,a):s(_,m,d,e,t,a);if(!(void 0===y?_===m||o(_,m,r,s,a):y)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var b=e.constructor,E=t.constructor;b!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E)&&(g=!1)}return a.delete(e),a.delete(t),g}},916006,(e,t,r)=>{t.exports=e.r(86091)(e.r(19948),"DataView")},951596,(e,t,r)=>{t.exports=e.r(86091)(e.r(19948),"Promise")},260460,(e,t,r)=>{t.exports=e.r(86091)(e.r(19948),"Set")},757501,(e,t,r)=>{t.exports=e.r(86091)(e.r(19948),"WeakMap")},650078,(e,t,r)=>{var n=e.r(916006),i=e.r(965259),s=e.r(951596),o=e.r(260460),a=e.r(757501),l=e.r(702114),u=e.r(877230),c="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=u(n),v=u(i),_=u(s),m=u(o),y=u(a),b=l;(n&&b(new n(new ArrayBuffer(1)))!=f||i&&b(new i)!=c||s&&b(s.resolve())!=h||o&&b(new o)!=d||a&&b(new a)!=p)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case g:return f;case v:return c;case _:return h;case m:return d;case y:return p}return t}),t.exports=b},467913,(e,t,r)=>{var n=e.r(268726),i=e.r(826552),s=e.r(673896),o=e.r(243784),a=e.r(650078),l=e.r(413850),u=e.r(127505),c=e.r(374301),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,g,v,_){var m=l(e),y=l(t),b=m?d:a(e),E=y?d:a(t);b=b==h?p:b,E=E==h?p:E;var S=b==p,w=E==p,O=b==E;if(O&&u(e)){if(!u(t))return!1;m=!0,S=!1}if(O&&!S)return _||(_=new n),m||c(e)?i(e,t,r,g,v,_):s(e,t,b,r,g,v,_);if(!(1&r)){var x=S&&f.call(e,"__wrapped__"),T=w&&f.call(t,"__wrapped__");if(x||T){var R=x?e.value():e,I=T?t.value():t;return _||(_=new n),v(R,I,r,g,_)}}return!!O&&(_||(_=new n),o(e,t,r,g,v,_))}},955905,(e,t,r)=>{var n=e.r(467913),i=e.r(588631);t.exports=function e(t,r,s,o,a){return t===r||(null!=t&&null!=r&&(i(t)||i(r))?n(t,r,s,o,e,a):t!=t&&r!=r)}},359685,(e,t,r)=>{var n=e.r(268726),i=e.r(955905);t.exports=function(e,t,r,s){var o=r.length,a=o,l=!s;if(null==e)return!a;for(e=Object(e);o--;){var u=r[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=r[o])[0],h=e[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var p=new n;if(s)var f=s(h,d,c,e,t,p);if(!(void 0===f?i(d,h,3,s,p):f))return!1}}return!0}},285354,(e,t,r)=>{var n=e.r(931297);t.exports=function(e){return e==e&&!n(e)}},344627,(e,t,r)=>{var n=e.r(285354),i=e.r(588159);t.exports=function(e){for(var t=i(e),r=t.length;r--;){var s=t[r],o=e[s];t[r]=[s,o,n(o)]}return t}},998266,(e,t,r)=>{t.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},344052,(e,t,r)=>{var n=e.r(359685),i=e.r(344627),s=e.r(998266);t.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},298834,(e,t,r)=>{var n=e.r(413850),i=e.r(280041),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||i(e))||o.test(e)||!s.test(e)||null!=t&&e in Object(t)}},646610,(e,t,r)=>{var n=e.r(481303);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},414323,(e,t,r)=>{var n=e.r(646610);t.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},188939,(e,t,r)=>{var n=e.r(414323),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;t.exports=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(s,"$1"):r||e)}),t})},632981,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},339190,(e,t,r)=>{var n=e.r(95645),i=e.r(632981),s=e.r(413850),o=e.r(280041),a=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}},896955,(e,t,r)=>{var n=e.r(339190);t.exports=function(e){return null==e?"":n(e)}},847799,(e,t,r)=>{var n=e.r(413850),i=e.r(298834),s=e.r(188939),o=e.r(896955);t.exports=function(e,t){return n(e)?e:i(e,t)?[e]:s(o(e))}},173517,(e,t,r)=>{var n=e.r(280041),i=1/0;t.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},803658,(e,t,r)=>{var n=e.r(847799),i=e.r(173517);t.exports=function(e,t){t=n(t,e);for(var r=0,s=t.length;null!=e&&r<s;)e=e[i(t[r++])];return r&&r==s?e:void 0}},784820,(e,t,r)=>{var n=e.r(803658);t.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},829268,(e,t,r)=>{t.exports=function(e,t){return null!=e&&t in Object(e)}},863772,(e,t,r)=>{var n=e.r(847799),i=e.r(663792),s=e.r(413850),o=e.r(553319),a=e.r(744540),l=e.r(173517);t.exports=function(e,t,r){t=n(t,e);for(var u=-1,c=t.length,h=!1;++u<c;){var d=l(t[u]);if(!(h=null!=e&&r(e,d)))break;e=e[d]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&a(c)&&o(d,c)&&(s(e)||i(e))}},161563,(e,t,r)=>{var n=e.r(829268),i=e.r(863772);t.exports=function(e,t){return null!=e&&i(e,t,n)}},473520,(e,t,r)=>{var n=e.r(955905),i=e.r(784820),s=e.r(161563),o=e.r(298834),a=e.r(285354),l=e.r(998266),u=e.r(173517);t.exports=function(e,t){return o(e)&&a(t)?l(u(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?s(r,e):n(t,o,3)}}},269879,(e,t,r)=>{t.exports=function(e){return e}},231966,(e,t,r)=>{t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},826655,(e,t,r)=>{var n=e.r(803658);t.exports=function(e){return function(t){return n(t,e)}}},676510,(e,t,r)=>{var n=e.r(231966),i=e.r(826655),s=e.r(298834),o=e.r(173517);t.exports=function(e){return s(e)?n(o(e)):i(e)}},567265,(e,t,r)=>{var n=e.r(344052),i=e.r(473520),s=e.r(269879),o=e.r(413850),a=e.r(676510);t.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):a(e)}},970238,(e,t,r)=>{t.exports=function(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return -1}},34719,(e,t,r)=>{t.exports=function(e){return e!=e}},552685,(e,t,r)=>{t.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}},737688,(e,t,r)=>{var n=e.r(970238),i=e.r(34719),s=e.r(552685);t.exports=function(e,t,r){return t==t?s(e,t,r):n(e,i,r)}},99625,(e,t,r)=>{var n=e.r(737688);t.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},905799,(e,t,r)=>{t.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},116782,(e,t,r)=>{var n=e.r(260460),i=e.r(964727),s=e.r(46728);t.exports=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i},227746,(e,t,r)=>{var n=e.r(176211),i=e.r(99625),s=e.r(905799),o=e.r(737469),a=e.r(116782),l=e.r(46728);t.exports=function(e,t,r){var u=-1,c=i,h=e.length,d=!0,p=[],f=p;if(r)d=!1,c=s;else if(h>=200){var g=t?null:a(e);if(g)return l(g);d=!1,c=o,f=new n}else f=t?[]:p;e:for(;++u<h;){var v=e[u],_=t?t(v):v;if(v=r||0!==v?v:0,d&&_==_){for(var m=f.length;m--;)if(f[m]===_)continue e;t&&f.push(_),p.push(v)}else c(f,_,r)||(f!==p&&f.push(_),p.push(v))}return p}},605031,(e,t,r)=>{var n=e.r(567265),i=e.r(227746);t.exports=function(e,t){return e&&e.length?i(e,n(t,2)):[]}},495303,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useRouter",{enumerable:!0,get:function(){return s}});let n=e.r(389959),i=e.r(29202);function s(){return(0,n.useContext)(i.RouterContext)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},359512,(e,t,r)=>{t.exports=e.r(495303)},853529,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={AppRouterContext:function(){return o},GlobalLayoutRouterContext:function(){return l},LayoutRouterContext:function(){return a},MissingSlotContext:function(){return c},TemplateContext:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(2879)._(e.r(389959)),o=s.default.createContext(null),a=s.default.createContext(null),l=s.default.createContext(null),u=s.default.createContext(null),c=s.default.createContext(new Set)},224087,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NavigationPromisesContext:function(){return u},PathParamsContext:function(){return l},PathnameContext:function(){return a},SearchParamsContext:function(){return o},createDevToolsInstrumentedPromise:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(389959),o=(0,s.createContext)(null),a=(0,s.createContext)(null),l=(0,s.createContext)(null),u=(0,s.createContext)(null);function c(e,t){let r=Promise.resolve(t);return r.status="fulfilled",r.value=t,r.displayName=`${e} (SSR)`,r}},18067,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return i}});class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},372715,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ServerInsertedHTMLContext:function(){return o},useServerInsertedHTML:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(887602)._(e.r(389959)),o=s.default.createContext(null);function a(e){let t=(0,s.useContext)(o);t&&t(e)}},697042,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={UnrecognizedActionError:function(){return s},unstable_isUnrecognizedActionError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});class s extends Error{constructor(...e){super(...e),this.name="UnrecognizedActionError"}}function o(e){return!!(e&&"object"==typeof e&&e instanceof s)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},558064,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return i}});var n,i=((n={})[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},874221,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={REDIRECT_ERROR_CODE:function(){return a},RedirectType:function(){return l},isRedirectError:function(){return u}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let o=e.r(558064),a="NEXT_REDIRECT";var l=((n={}).push="push",n.replace="replace",n);function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),s=Number(t.at(-2));return r===a&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(s)&&s in o.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},808752,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={bindSnapshot:function(){return u},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class o{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return a?new a:new o}function u(e){return a?a.bind(e):o.bind(e)}function c(){return a?a.snapshot():function(e,...t){return e(...t)}}},775284,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"actionAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(808752).createAsyncLocalStorage)()},58205,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"actionAsyncStorage",{enumerable:!0,get:function(){return n.actionAsyncStorageInstance}});let n=e.r(775284)},464338,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return h},permanentRedirect:function(){return c},redirect:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(558064),o=e.r(874221),a="undefined"==typeof window?e.r(58205).actionAsyncStorage:void 0;function l(e,t,r=s.RedirectStatusCode.TemporaryRedirect){let n=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=`${o.REDIRECT_ERROR_CODE};${t};${e};${r};`,n}function u(e,t){throw l(e,t??=a?.getStore()?.isAction?o.RedirectType.push:o.RedirectType.replace,s.RedirectStatusCode.TemporaryRedirect)}function c(e,t=o.RedirectType.replace){throw l(e,t,s.RedirectStatusCode.PermanentRedirect)}function h(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function p(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},594696,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HTTPAccessErrorStatus:function(){return s},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return a},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return u},isHTTPAccessFallbackError:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},o=new Set(Object.values(s)),a="NEXT_HTTP_ERROR_FALLBACK";function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===a&&o.has(Number(r))}function u(e){return Number(e.digest.split(";")[1])}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},127741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return s}});let n=e.r(594696),i=`${n.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function s(){let e=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=i,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},141718,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return n}}),e.r(594696).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},700164,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return n}}),e.r(594696).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},197100,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={BailoutToCSRError:function(){return o},isBailoutToCSRError:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="BAILOUT_TO_CLIENT_SIDE_RENDERING";class o extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=s}}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}},190055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return s}});let n=e.r(594696),i=e.r(874221);function s(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},895382,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,i.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(197100),i=e.r(190055);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},478881,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isHangingPromiseRejectionError:function(){return s},makeDevtoolsIOAwarePromise:function(){return h},makeHangingPromise:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===o}let o="HANGING_PROMISE_REJECTION";class a extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=o}}let l=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new a(t,r));{let n=new Promise((n,i)=>{let s=i.bind(null,new a(t,r)),o=l.get(e);if(o)o.push(s);else{let t=[s];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(c),n}}function c(){}function h(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},181277,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return i}});let n=Symbol.for("react.postpone");function i(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},267e3,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DynamicServerError:function(){return o},isDynamicServerError:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="DYNAMIC_SERVER_USAGE";class o extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=s}}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},542988,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={StaticGenBailoutError:function(){return o},isStaticGenBailoutError:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="NEXT_STATIC_GEN_BAILOUT";class o extends Error{constructor(...e){super(...e),this.code=s}}function a(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},669880,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workUnitAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(808752).createAsyncLocalStorage)()},546102,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_HEADER:function(){return o},FLIGHT_HEADERS:function(){return f},NEXT_ACTION_NOT_FOUND_HEADER:function(){return E},NEXT_DID_POSTPONE_HEADER:function(){return _},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return h},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_HTML_REQUEST_ID_HEADER:function(){return w},NEXT_IS_PRERENDER_HEADER:function(){return b},NEXT_REQUEST_ID_HEADER:function(){return S},NEXT_REWRITTEN_PATH_HEADER:function(){return m},NEXT_REWRITTEN_QUERY_HEADER:function(){return y},NEXT_ROUTER_PREFETCH_HEADER:function(){return l},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return u},NEXT_ROUTER_STALE_TIME_HEADER:function(){return v},NEXT_ROUTER_STATE_TREE_HEADER:function(){return a},NEXT_RSC_UNION_QUERY:function(){return g},NEXT_URL:function(){return d},RSC_CONTENT_TYPE_HEADER:function(){return p},RSC_HEADER:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="rsc",o="next-action",a="next-router-state-tree",l="next-router-prefetch",u="next-router-segment-prefetch",c="next-hmr-refresh",h="__next_hmr_refresh_hash__",d="next-url",p="text/x-component",f=[s,a,l,c,u],g="_rsc",v="x-nextjs-stale-time",_="x-nextjs-postponed",m="x-nextjs-rewritten-path",y="x-nextjs-rewritten-query",b="x-nextjs-prerender",E="x-nextjs-action-not-found",S="x-nextjs-request-id",w="x-nextjs-html-request-id";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},652710,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getCacheSignal:function(){return v},getDraftModeProviderForCacheScope:function(){return g},getHmrRefreshHash:function(){return d},getPrerenderResumeDataCache:function(){return c},getRenderResumeDataCache:function(){return h},getRuntimeStagePromise:function(){return _},getServerComponentsHmrCache:function(){return f},isHmrRefresh:function(){return p},throwForMissingRequestStore:function(){return l},throwInvariantForMissingStore:function(){return u},workUnitAsyncStorage:function(){return s.workUnitAsyncStorageInstance}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(669880),o=e.r(546102),a=e.r(198248);function l(e){throw Object.defineProperty(Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function u(){throw Object.defineProperty(new a.InvariantError("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function c(e){switch(e.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return e.prerenderResumeDataCache;case"request":if(e.prerenderResumeDataCache)return e.prerenderResumeDataCache;case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return e}}function h(e){switch(e.type){case"request":case"prerender":case"prerender-runtime":case"prerender-client":if(e.renderResumeDataCache)return e.renderResumeDataCache;case"prerender-ppr":return e.prerenderResumeDataCache??null;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return e}}function d(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"prerender":case"prerender-runtime":return t.hmrRefreshHash;case"request":var r;return null==(r=t.cookies.get(o.NEXT_HMR_REFRESH_HASH_COOKIE))?void 0:r.value}}function p(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"request":return t.isHmrRefresh??!1}return!1}function f(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"request":return t.serverComponentsHmrCache}}function g(e,t){if(e.isDraftMode)switch(t.type){case"cache":case"private-cache":case"unstable-cache":case"prerender-runtime":case"request":return t.draftMode}}function v(e){switch(e.type){case"prerender":case"prerender-client":case"prerender-runtime":return e.cacheSignal;case"request":if(e.cacheSignal)return e.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return e}}function _(e){switch(e.type){case"prerender-runtime":case"private-cache":return e.runtimeStagePromise;case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"unstable-cache":return null;default:return e}}},485730,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(808752).createAsyncLocalStorage)()},621713,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=e.r(485730)},581286,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={METADATA_BOUNDARY_NAME:function(){return s},OUTLET_BOUNDARY_NAME:function(){return a},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="__next_metadata_boundary__",o="__next_viewport_boundary__",a="__next_outlet_boundary__",l="__next_root_layout_boundary__"},806891,(e,t,r)=>{"use strict";var n=e.i(869176);Object.defineProperty(r,"__esModule",{value:!0});var i={atLeastOneTask:function(){return l},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return o},waitAtLeastOneReactRenderTask:function(){return u}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let o=e=>{Promise.resolve().then(()=>{n.default.nextTick(e)})},a=e=>{setImmediate(e)};function l(){return new Promise(e=>a(e))}function u(){return new Promise(e=>setImmediate(e))}},766114,(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return n}})},94284,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={RenderStage:function(){return l},StagedRenderingController:function(){return u}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let o=e.r(198248),a=e.r(766114);var l=((n={})[n.Static=1]="Static",n[n.Runtime=2]="Runtime",n[n.Dynamic=3]="Dynamic",n);class u{constructor(e=null){this.abortSignal=e,this.currentStage=1,this.runtimeStagePromise=(0,a.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,a.createPromiseWithResolvers)(),e&&e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(c),this.runtimeStagePromise.reject(t)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(c),this.dynamicStagePromise.reject(t))},{once:!0})}advanceStage(e){!(this.currentStage>=e)&&(this.currentStage=e,e>=2&&this.runtimeStagePromise.resolve(),e>=3&&this.dynamicStagePromise.resolve())}getStagePromise(e){switch(e){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new o.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var n,i,s;let o,a=(n=this.getStagePromise(e),i=t,s=r,o=new Promise((e,t)=>{n.then(e.bind(null,s),t)}),void 0!==i&&(o.displayName=i),o);return this.abortSignal&&a.catch(c),a}}function c(){}},539651,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,s={Postpone:function(){return A},PreludeState:function(){return X},abortAndThrowOnSynchronousRequestDataAccess:function(){return I},abortOnSynchronousPlatformIOAccess:function(){return T},accessedDynamicData:function(){return F},annotateDynamicAccess:function(){return H},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return y},createDynamicValidationState:function(){return b},createHangingInputAbortSignal:function(){return q},createRenderInBrowserAbortSignal:function(){return U},delayUntilRuntimeStage:function(){return ee},formatDynamicAPIAccesses:function(){return $},getFirstDynamicReason:function(){return E},isDynamicPostpone:function(){return P},isPrerenderInterruptedError:function(){return D},logDisallowedDynamicError:function(){return Z},markCurrentScopeAsDynamic:function(){return S},postponeWithTracking:function(){return C},throwIfDisallowedDynamic:function(){return Q},throwToInterruptStaticGeneration:function(){return w},trackAllowedDynamicAccess:function(){return J},trackDynamicDataInDynamicRender:function(){return O},trackSynchronousPlatformIOAccessInDev:function(){return R},useDynamicRouteParams:function(){return B},useDynamicSearchParams:function(){return V}};for(var o in s)Object.defineProperty(r,o,{enumerable:!0,get:s[o]});let a=(n=e.r(389959))&&n.__esModule?n:{default:n},l=e.r(267e3),u=e.r(542988),c=e.r(652710),h=e.r(621713),d=e.r(478881),p=e.r(581286),f=e.r(806891),g=e.r(197100),v=e.r(198248),_=e.r(94284),m="function"==typeof a.default.unstable_postpone;function y(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function b(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function E(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function S(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return C(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function w(e,t,r){let n=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function O(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function x(e,t,r){let n=L(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function T(e,t,r,n){let i=n.dynamicTracking;x(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function R(e){e.stagedRendering&&e.stagedRendering.advanceStage(_.RenderStage.Dynamic)}function I(e,t,r,n){if(!1===n.controller.signal.aborted){x(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw L(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function A({reason:e,route:t}){let r=c.workUnitAsyncStorage.getStore();C(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function C(e,t,r){(function(){if(!m)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),a.default.unstable_postpone(k(e,t))}function k(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function P(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&N(e.message)}function N(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===N(k("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let j="NEXT_PRERENDER_INTERRUPTED";function L(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=j,t}function D(e){return"object"==typeof e&&null!==e&&e.digest===j&&"name"in e&&"message"in e&&e instanceof Error}function F(e){return e.length>0}function M(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function $(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function U(){let e=new AbortController;return e.abort(Object.defineProperty(new g.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function q(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,c.getRuntimeStagePromise)(e);r?r.then(()=>(0,f.scheduleOnNextTick)(()=>t.abort())):(0,f.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function H(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function B(e){let t=h.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let n=r.fallbackRouteParams;n&&n.size>0&&a.default.use((0,d.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return C(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new v.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new v.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function V(e){let t=h.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,c.throwForMissingRequestStore)(e),r.type){case"prerender-client":a.default.use((0,d.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new g.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new v.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new v.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let W=/\n\s+at Suspense \(<anonymous>\)/,z=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${p.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),G=RegExp(`\\n\\s+at ${p.METADATA_BOUNDARY_NAME}[\\n\\s]`),K=RegExp(`\\n\\s+at ${p.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),Y=RegExp(`\\n\\s+at ${p.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function J(e,t,r,n){if(!Y.test(t)){if(G.test(t)){r.hasDynamicMetadata=!0;return}if(K.test(t)){r.hasDynamicViewport=!0;return}if(z.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(W.test(t)){r.hasAllowedDynamic=!0;return}else{var i,s;let o;if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let a=(i=`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,s=t,(o=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=o.name+": "+i+s,o);return void r.dynamicErrors.push(a)}}}var X=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function Z(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Q(e,t,r,n){if(n.syncDynamicErrorWithStack)throw Z(e,n.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let n=r.dynamicErrors;if(n.length>0){for(let t=0;t<n.length;t++)Z(e,n[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function ee(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},728485,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,o.isNextRouterError)(t)||(0,s.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,a.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t)||(0,a.isPrerenderInterruptedError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(478881),i=e.r(181277),s=e.r(197100),o=e.r(190055),a=e.r(539651),l=e.r(267e3);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},85761,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n="undefined"==typeof window?e.r(728485).unstable_rethrow:e.r(895382).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},158387,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ReadonlyURLSearchParams:function(){return s.ReadonlyURLSearchParams},RedirectType:function(){return a.RedirectType},forbidden:function(){return u.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return o.permanentRedirect},redirect:function(){return o.redirect},unauthorized:function(){return c.unauthorized},unstable_isUnrecognizedActionError:function(){return d},unstable_rethrow:function(){return h.unstable_rethrow}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(18067),o=e.r(464338),a=e.r(874221),l=e.r(127741),u=e.r(141718),c=e.r(700164),h=e.r(85761);function d(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},904495,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ReadonlyURLSearchParams:function(){return d.ReadonlyURLSearchParams},RedirectType:function(){return d.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},forbidden:function(){return d.forbidden},notFound:function(){return d.notFound},permanentRedirect:function(){return d.permanentRedirect},redirect:function(){return d.redirect},unauthorized:function(){return d.unauthorized},unstable_isUnrecognizedActionError:function(){return h.unstable_isUnrecognizedActionError},unstable_rethrow:function(){return d.unstable_rethrow},useParams:function(){return m},usePathname:function(){return v},useRouter:function(){return _},useSearchParams:function(){return g},useSelectedLayoutSegment:function(){return b},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return c.useServerInsertedHTML}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(887602)._(e.r(389959)),o=e.r(853529),a=e.r(224087),l=e.r(390441),u=e.r(18067),c=e.r(372715),h=e.r(697042),d=e.r(158387),p="undefined"==typeof window?e.r(539651).useDynamicRouteParams:void 0,f="undefined"==typeof window?e.r(539651).useDynamicSearchParams:void 0;function g(){f?.("useSearchParams()");let e=(0,s.useContext)(a.SearchParamsContext);return(0,s.useMemo)(()=>e?new u.ReadonlyURLSearchParams(e):null,[e])}function v(){return p?.("usePathname()"),(0,s.useContext)(a.PathnameContext)}function _(){let e=(0,s.useContext)(o.AppRouterContext);if(null===e)throw Object.defineProperty(Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:!1,configurable:!0});return e}function m(){return p?.("useParams()"),(0,s.useContext)(a.PathParamsContext)}function y(e="children"){p?.("useSelectedLayoutSegments()");let t=(0,s.useContext)(o.LayoutRouterContext);return t?(0,l.getSelectedLayoutSegmentPath)(t.parentTree,e):null}function b(e="children"){p?.("useSelectedLayoutSegment()"),(0,s.useContext)(a.NavigationPromisesContext);let t=y(e);return(0,l.computeSelectedLayoutSegment)(t,e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},742251,(e,t,r)=>{t.exports=e.r(904495)},149231,(e,t,r)=>{t.exports=e.r(317067)},128328,947748,704206,637972,991435,416785,24970,86086,688894,10642,67818,117672,657588,625665,232107,298650,667938,727095,622833,158639,212591,102101,656217,69870,432553,751349,367905,239745,709364,e=>{"use strict";let t,r,n;var i=e.i(478902),s=e.i(389959);let o={AI_ASSISTANT_STATE:e=>`supabase-ai-assistant-state-${e}`,SIDEBAR_BEHAVIOR:"supabase-sidebar-behavior",EDITOR_PANEL_STATE:"supabase-editor-panel-state",PROJECTS_VIEW:"projects-view",FEEDBACK_WIDGET_CONTENT:"feedback-widget-content",FEEDBACK_WIDGET_SCREENSHOT:"feedback-widget-screenshot",UI_PREVIEW_API_SIDE_PANEL:"supabase-ui-api-side-panel",UI_PREVIEW_CLS:"supabase-ui-cls",UI_PREVIEW_INLINE_EDITOR:"supabase-ui-preview-inline-editor",UI_PREVIEW_UNIFIED_LOGS:"supabase-ui-preview-unified-logs",UI_ONBOARDING_NEW_PAGE_SHOWN:"supabase-ui-onboarding-new-page-shown",UI_PREVIEW_BRANCHING_2_0:"supabase-ui-branching-2-0",UI_PREVIEW_ADVISOR_RULES:"supabase-ui-advisor-rules",NEW_LAYOUT_NOTICE_ACKNOWLEDGED:"new-layout-notice-acknowledge",TABS_INTERFACE_ACKNOWLEDGED:"tabs-interface-acknowledge",AI_ASSISTANT_MCP_OPT_IN:"ai-assistant-mcp-opt-in",DASHBOARD_HISTORY:e=>`dashboard-history-${e}`,STORAGE_PREFERENCE:e=>`storage-explorer-${e}`,AUTH_USERS_FILTER:e=>`auth-users-filter-${e}`,AUTH_USERS_SORT_BY_VALUE:e=>`auth-users-sort-by-value-${e}`,AUTH_USERS_COLUMNS_CONFIGURATION:e=>`supabase-auth-users-columns-${e}`,AUTH_USERS_IMPROVED_SEARCH_DISMISSED:e=>`auth-users-improved-search-dismissed-${e}`,SQL_EDITOR_INTELLISENSE:"supabase_sql-editor-intellisense-enabled",SQL_EDITOR_SPLIT_SIZE:"supabase_sql-editor-split-size",SQL_EDITOR_AI_SCHEMA:e=>`supabase_sql-editor-ai-schema-enabled-${e}`,SQL_EDITOR_AI_OPEN:"supabase_sql-editor-ai-open",SQL_EDITOR_LAST_SELECTED_DB:e=>`sql-editor-last-selected-db-${e}`,SQL_EDITOR_SQL_BLOCK_ACKNOWLEDGED:e=>`sql-editor-sql-block-acknowledged-${e}`,SQL_EDITOR_SECTION_STATE:e=>`sql-editor-section-state-${e}`,SQL_EDITOR_SORT:e=>`sql-editor-sort-${e}`,SECURITY_NOTIFICATIONS_ACKNOWLEDGED:e=>`security-notifications-acknowledged-${e}`,LOG_EXPLORER_SPLIT_SIZE:"supabase_log-explorer-split-size",GRAPHIQL_RLS_BYPASS_WARNING:"graphiql-rls-bypass-warning-dismissed",CLS_DIFF_WARNING:"cls-diff-warning-dismissed",CLS_SELECT_STAR_WARNING:"cls-select-star-warning-dismissed",QUERY_PERF_SHOW_BOTTOM_SECTION:"supabase-query-perf-show-bottom-section",LINTER_SHOW_FOOTER:"supabase-linter-show-footer",ACCOUNT_DELETION_REQUEST:"supabase-account-deletion-request",SENTRY_USER_ID:"supabase-sentry-user-id",LAST_SIGN_IN_METHOD:"supabase-last-sign-in-method",LAST_SELECTED_SCHEMA:e=>`last-selected-schema-${e}`,SCHEMA_VISUALIZER_POSITIONS:(e,t)=>`schema-visualizer-positions-${e}-${t}`,EXPAND_NAVIGATION_PANEL:"supabase-expand-navigation-panel",GITHUB_AUTHORIZATION_STATE:"supabase-github-authorization-state",FLY_POSTGRES_DEPRECATION_WARNING:"fly-postgres-deprecation-warning-dismissed",API_KEYS_FEEDBACK_DISMISSED:e=>`supabase-api-keys-feedback-dismissed-${e}`,MAINTENANCE_WINDOW_BANNER:"maintenance-window-banner-2026-01-16",REPORT_DATERANGE:"supabase-report-daterange",API_KEYS_VIEW:e=>`supabase-api-keys-view-${e}`,LAST_VISITED_ORGANIZATION:"last-visited-organization",USER_IMPERSONATION_SELECTOR_PREVIOUS_SEARCHES:e=>`user-impersonation-selector-previous-searches-${e}`,HOTKEY_COMMAND_MENU:"supabase-dashboard-hotkey-command-menu",LAST_OPENED_SIDE_BAR:e=>`last-opened-sidebar-${e}`,HOTKEY_SIDEBAR:e=>`supabase-dashboard-hotkey-sidebar-${e}`,INDEX_ADVISOR_NOTICE_DISMISSED:e=>`index-advisor-notice-dismissed-${e}`,RLS_EVENT_TRIGGER_BANNER_DISMISSED:e=>`rls-event-trigger-banner-dismissed-${e}`,OBSERVABILITY_BANNER_DISMISSED:e=>`observability-banner-dismissed-${e}`,TELEMETRY_CONSENT:"supabase-consent-ph",TELEMETRY_DATA:"supabase-telemetry-data",SAVED_ORG:"docs.ui.user.selected.org",SAVED_PROJECT:"docs.ui.user.selected.project",SAVED_BRANCH:"docs.ui.user.selected.branch",HIDE_PROMO_TOAST:"supabase-hide-promo-toast-lw15-ticket",BLOG_VIEW:"supabase-blog-view",TABLE_QUICKSTART_EXPOSURE_TRACKED:e=>`table-quickstart-exposure-tracked-${e}`},a=["graphiql:theme","theme","supabaseDarkMode","supabase.dashboard.auth.debug","supabase.dashboard.auth.navigatorLock.disabled",o.TELEMETRY_CONSENT,o.UI_PREVIEW_API_SIDE_PANEL,o.UI_PREVIEW_INLINE_EDITOR,o.UI_PREVIEW_CLS,o.UI_PREVIEW_UNIFIED_LOGS,o.LAST_SIGN_IN_METHOD,o.HIDE_PROMO_TOAST,o.BLOG_VIEW,o.AI_ASSISTANT_MCP_OPT_IN,o.UI_PREVIEW_BRANCHING_2_0,o.LINTER_SHOW_FOOTER,o.SIDEBAR_BEHAVIOR];function l(){for(let e in localStorage)a.includes(e)||localStorage.removeItem(e)}e.s(["LOCAL_STORAGE_KEYS",0,o,"clearLocalStorage",()=>l],947748);var u=e.i(109294);let c={access_token:void 0,expires_at:0,expires_in:0,refresh_token:"",token_type:"",user:{aud:"",app_metadata:{},confirmed_at:"",created_at:"",email:"",email_confirmed_at:"",id:"",identities:[],last_signed_in_at:"",phone:"",role:"",updated_at:"",user_metadata:{}}},h=(0,s.createContext)({session:null,error:null,isLoading:!0,refreshSession:()=>Promise.resolve(null)}),d=()=>(0,s.useContext)(h),p=()=>d().session?.user??null;async function f(){let{data:{session:e},error:t}=await u.gotrueClient.getSession();if(t)throw t;return e?.access_token}u.gotrueClient.onAuthStateChange((e,t)=>{}),e.s(["AuthProvider",0,({alwaysLoggedIn:e,children:t})=>{let[r,n]=(0,s.useState)({session:null,error:null,isLoading:!0});(0,s.useEffect)(()=>{let e=!0;return u.gotrueClient.initialize().then(({error:t})=>{e&&null!==t&&n(e=>({...e,error:t}))}),()=>{e=!1}},[]),(0,s.useEffect)(()=>{let{data:{subscription:e}}=u.gotrueClient.onAuthStateChange((e,t)=>{n(e=>({session:t,error:null!==t?null:e.error,isLoading:!1}))});return e.unsubscribe},[]);let o=(0,s.useCallback)(async()=>{let{data:{session:e}}=await u.gotrueClient.refreshSession();return e},[]),a=(0,s.useMemo)(()=>e?{session:c,error:null,isLoading:!1,refreshSession:o}:{...r,refreshSession:o},[r,o]);return(0,i.jsx)(h.Provider,{value:a,children:t})},"getAccessToken",()=>f,"useAuth",0,d,"useAuthError",0,()=>d().error,"useIsLoggedIn",0,()=>null!==p(),"useIsMFAEnabled",0,()=>{let e=p();return null!==e&&e.factors&&e.factors.length>0},"useUser",0,p],704206);var g=e.i(869176),v=e.i(274466),_=function(){function e(e,t,r,n){this.configJson=e,this.config=t,this.timestamp=r,this.httpETag=n}return e.equals=function(e,t){return e.httpETag&&t.httpETag?e.httpETag===t.httpETag:e.configJson===t.configJson},e.prototype.with=function(t){return new e(this.configJson,this.config,t,this.httpETag)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.config},enumerable:!1,configurable:!0}),e.prototype.isExpired=function(t){return this===e.empty||this.timestamp+t<e.generateTimestamp()},e.generateTimestamp=function(){return new Date().getTime()},e.serialize=function(e){var t,r;return e.timestamp+"\n"+(null!=(t=e.httpETag)?t:"")+"\n"+(null!=(r=e.configJson)?r:"")},e.deserialize=function(t){for(var r,n,i=[,,],s=0,o=0;o<i.length;o++){if((s=t.indexOf("\n",s))<0)throw Error("Number of values is fewer than expected.");i[o]=s++}var a=i[0],l=t.substring(0,a),u=parseInt(l);if(isNaN(u))throw Error("Invalid fetch time: "+l);s=a+1,a=i[1];var c=(l=t.substring(s,a)).length>0?l:void 0;return s=a+1,(l=t.substring(s)).length>0&&(r=m.deserialize(l),n=l),new e(n,r,u,c)},e.serializationFormatVersion="v2",e.empty=new e(void 0,void 0,0,void 0),e}(),m=function(){function e(e){var t,r,n=this;this.preferences=null!=e.p?new y(e.p):void 0,this.segments=null!=(r=null==(t=e.s)?void 0:t.map(function(e){return new b(e)}))?r:[],this.settings=null!=e.f?Object.fromEntries(Object.entries(e.f).map(function(e){return[e[0],new S(e[1],n)]})):{}}return e.deserialize=function(t){var r=JSON.parse(t);if("object"!=typeof r||!r)throw Error("Invalid config JSON content:"+t);return new e(r)},Object.defineProperty(e.prototype,"salt",{get:function(){var e;return null==(e=this.preferences)?void 0:e.salt},enumerable:!1,configurable:!0}),e}(),y=function(e){this.baseUrl=e.u,this.redirectMode=e.r,this.salt=e.s},b=function(e){var t,r;this.name=e.n,this.conditions=null!=(r=null==(t=e.r)?void 0:t.map(function(e){return new x(e)}))?r:[]},E=function(e,t){void 0===t&&(t=!1),this.value=t?e.v:I(e.v),this.variationId=e.i},S=function(e){function t(t,r){var n,i,s,o,a,l,u=e.call(this,t,t.t<0)||this;return u.type=t.t,u.percentageOptionsAttribute=null!=(n=t.a)?n:"Identifier",u.targetingRules=null!=(s=null==(i=t.r)?void 0:i.map(function(e){return new w(e,r)}))?s:[],u.percentageOptions=null!=(a=null==(o=t.p)?void 0:o.map(function(e){return new O(e)}))?a:[],u.configJsonSalt=null!=(l=null==r?void 0:r.salt)?l:"",u}return(0,v.__extends)(t,e),t.fromValue=function(e){return new t({t:-1,v:e})},t}(E),w=function(e,t){var r,n;this.conditions=null!=(n=null==(r=e.c)?void 0:r.map(function(e){return null!=e.u?new x(e.u):null!=e.p?new T(e.p):null!=e.s?new R(e.s,t):void 0}))?n:[],this.then=null!=e.p?e.p.map(function(e){return new O(e)}):new E(e.s)},O=function(e){function t(t){var r=e.call(this,t)||this;return r.percentage=t.p,r}return(0,v.__extends)(t,e),t}(E),x=function(e){var t,r;this.type="UserCondition",this.comparisonAttribute=e.a,this.comparator=e.c,this.comparisonValue=null!=(r=null!=(t=e.s)?t:e.d)?r:e.l},T=function(e){this.type="PrerequisiteFlagCondition",this.prerequisiteFlagKey=e.f,this.comparator=e.c,this.comparisonValue=I(e.v)},R=function(e,t){this.type="SegmentCondition",this.segment=t.segments[e.s],this.comparator=e.c};function I(e){var t,r,n;return null!=(n=null!=(r=null!=(t=e.b)?t:e.s)?r:e.i)?n:e.d}var A=function(){function e(){this.callbacks=[]}return Object.defineProperty(e.prototype,"aborted",{get:function(){return!this.callbacks},enumerable:!1,configurable:!0}),e.prototype.abort=function(){if(!this.aborted){var e=this.callbacks;this.callbacks=null;for(var t=0;t<e.length;t++)(0,e[t])()}},e.prototype.registerCallback=function(e){var t=this;return this.aborted?(e(),function(){}):(this.callbacks.push(e),function(){var r,n=t.callbacks;n&&(r=n.indexOf(e))>=0&&n.splice(r,1)})},e}();function C(e,t){var r;return new Promise(function(n){var i=null==t?void 0:t.registerCallback(function(){clearTimeout(r),n(!1)});r=setTimeout(function(){null==i||i(),n(!0)},e)})}function k(e,t){return void 0===t&&(t=!1),e instanceof Error?t&&e.stack?e.stack:e.toString():e+""}function P(e){throw e}function N(e){return Array.isArray(e)}function j(e){return N(e)&&!e.some(function(e){return"string"!=typeof e})}function L(e,t,r,n){void 0===t&&(t=0),void 0===n&&(n=", ");var i=e.length;if(!i)return"";var s="";return t>0&&i>t&&(e=e.slice(0,t),r&&(s=r(i-t))),"'"+e.join("'"+n+"'")+"'"+s}function D(e){var t,r="",n=0,i=String.fromCharCode;for(t=0;t<e.length;t++){var s=function(e,t){var r=e.charCodeAt(t);if(55296<=r&&r<56320){var n=e.charCodeAt(t+1);if(56320<=n&&n<=57343)return(r<<10)+n-0x35fdc00}return r}(e,t);s<=127||(r+=e.slice(n,t),s<=2047?(r+=i(192|s>>6),r+=i(128|63&s)):s<=65535?(r+=i(224|s>>12),r+=i(128|s>>6&63),r+=i(128|63&s)):(r+=i(240|s>>18),r+=i(128|s>>12&63),r+=i(128|s>>6&63),r+=i(128|63&s),++t),n=t+1)}return r+e.slice(n,t)}function F(e){return"number"==typeof e?e:"string"!=typeof e||!e.length||/^\s*$|^\s*0[^\d.e]/.test(e)?NaN:+e}var M=function(){function e(){this.cachedConfig=_.empty}return e.prototype.set=function(e,t){this.cachedConfig=t},e.prototype.get=function(e){return this.cachedConfig},e.prototype.getInMemory=function(){return this.cachedConfig},e}(),$=function(){function e(e,t){this.cache=e,this.logger=t,this.cachedConfig=_.empty}return e.prototype.set=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),t.isEmpty)return this.cachedSerializedConfig=void 0,this.cachedConfig=t,[2];return this.cachedSerializedConfig=_.serialize(t),this.cachedConfig=t,[4,this.cache.set(e,this.cachedSerializedConfig)];case 1:return n.sent(),[3,3];case 2:return r=n.sent(),this.logger.configServiceCacheWriteError(r),[3,3];case 3:return[2]}})})},e.prototype.updateCachedConfig=function(e){null!=e&&e!==this.cachedSerializedConfig&&(this.cachedConfig=_.deserialize(e),this.cachedSerializedConfig=e)},e.prototype.get=function(e){try{var t,r=this.cache.get(e);if(t=r,"function"==typeof(null==t?void 0:t.then))return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this.updateCachedConfig,[4,r];case 1:return e.apply(this,[n.sent()]),[3,3];case 2:return t=n.sent(),this.logger.configServiceCacheReadError(t),[3,3];case 3:return[2,this.cachedConfig]}})});this.updateCachedConfig(r)}catch(e){this.logger.configServiceCacheReadError(e)}return Promise.resolve(this.cachedConfig)},e.prototype.getInMemory=function(){return this.cachedConfig},e}();(iS=iD||(iD={}))[iS.Debug=4]="Debug",iS[iS.Info=3]="Info",iS[iS.Warn=2]="Warn",iS[iS.Error=1]="Error",iS[iS.Off=-1]="Off";var U=function(){function e(e,t,r){this.strings=e,this.argNames=t,this.argValues=r}return e.from=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return new e(r,t,n)}},Object.defineProperty(e.prototype,"defaultFormattedMessage",{get:function(){var e=this.cachedDefaultFormattedMessage;if(void 0===e){e="";for(var t=this.strings,r=this.argValues,n=0;n<t.length-1;n++)e+=t[n],e+=r[n];e+=t[n],this.cachedDefaultFormattedMessage=e}return e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.defaultFormattedMessage},e}(),q=function(){function e(e,t){this.logger=e,this.hooks=t}return Object.defineProperty(e.prototype,"level",{get:function(){var e;return null!=(e=this.logger.level)?e:iD.Warn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eol",{get:function(){var e;return null!=(e=this.logger.eol)?e:"\n"},enumerable:!1,configurable:!0}),e.prototype.isEnabled=function(e){return this.level>=e},e.prototype.log=function(e,t,r,n){var i;return this.isEnabled(e)&&this.logger.log(e,t,r,n),e===iD.Error&&(null==(i=this.hooks)||i.emit("clientError",r.toString(),n)),r},e.prototype.debug=function(e){this.log(iD.Debug,0,e)},e.prototype.configJsonIsNotPresent=function(e){return this.log(iD.Error,1e3,U.from("DEFAULT_RETURN_VALUE")(iF||(iF=(0,v.__makeTemplateObject)(["Config JSON is not present. Returning ","."],["Config JSON is not present. Returning ","."])),e))},e.prototype.configJsonIsNotPresentSingle=function(e,t,r){return this.log(iD.Error,1e3,U.from("KEY","DEFAULT_PARAM_NAME","DEFAULT_PARAM_VALUE")(iM||(iM=(0,v.__makeTemplateObject)(["Config JSON is not present when evaluating setting '","'. Returning the `","` parameter that you specified in your application: '","'."],["Config JSON is not present when evaluating setting '","'. Returning the \\`","\\` parameter that you specified in your application: '","'."])),e,t,r))},e.prototype.settingEvaluationFailedDueToMissingKey=function(e,t,r,n){return this.log(iD.Error,1001,U.from("KEY","DEFAULT_PARAM_NAME","DEFAULT_PARAM_VALUE","AVAILABLE_KEYS")(i$||(i$=(0,v.__makeTemplateObject)(["Failed to evaluate setting '","' (the key was not found in config JSON). Returning the `","` parameter that you specified in your application: '","'. Available keys: [","]."],["Failed to evaluate setting '","' (the key was not found in config JSON). Returning the \\`","\\` parameter that you specified in your application: '","'. Available keys: [","]."])),e,t,r,n))},e.prototype.settingEvaluationError=function(e,t,r){return this.log(iD.Error,1002,U.from("METHOD_NAME","DEFAULT_RETURN_VALUE")(iU||(iU=(0,v.__makeTemplateObject)(["Error occurred in the `","` method. Returning ","."],["Error occurred in the \\`","\\` method. Returning ","."])),e,t),r)},e.prototype.settingEvaluationErrorSingle=function(e,t,r,n,i){return this.log(iD.Error,1002,U.from("METHOD_NAME","KEY","DEFAULT_PARAM_NAME","DEFAULT_PARAM_VALUE")(iq||(iq=(0,v.__makeTemplateObject)(["Error occurred in the `","` method while evaluating setting '","'. Returning the `","` parameter that you specified in your application: '","'."],["Error occurred in the \\`","\\` method while evaluating setting '","'. Returning the \\`","\\` parameter that you specified in your application: '","'."])),e,t,r,n),i)},e.prototype.forceRefreshError=function(e,t){return this.log(iD.Error,1003,U.from("METHOD_NAME")(iH||(iH=(0,v.__makeTemplateObject)(["Error occurred in the `","` method."],["Error occurred in the \\`","\\` method."])),e),t)},e.prototype.fetchFailedDueToInvalidSdkKey=function(){return this.log(iD.Error,1100,"Your SDK Key seems to be wrong. You can find the valid SDK Key at https://app.configcat.com/sdkkey")},e.prototype.fetchFailedDueToUnexpectedHttpResponse=function(e,t){return this.log(iD.Error,1101,U.from("STATUS_CODE","REASON_PHRASE")(iB||(iB=(0,v.__makeTemplateObject)(["Unexpected HTTP response was received while trying to fetch config JSON: "," ",""],["Unexpected HTTP response was received while trying to fetch config JSON: "," ",""])),e,t))},e.prototype.fetchFailedDueToRequestTimeout=function(e,t){return this.log(iD.Error,1102,U.from("TIMEOUT")(iV||(iV=(0,v.__makeTemplateObject)(["Request timed out while trying to fetch config JSON. Timeout value: ","ms"],["Request timed out while trying to fetch config JSON. Timeout value: ","ms"])),e),t)},e.prototype.fetchFailedDueToUnexpectedError=function(e){return this.log(iD.Error,1103,"Unexpected error occurred while trying to fetch config JSON. It is most likely due to a local network issue. Please make sure your application can reach the ConfigCat CDN servers (or your proxy server) over HTTP.",e)},e.prototype.fetchFailedDueToRedirectLoop=function(){return this.log(iD.Error,1104,"Redirection loop encountered while trying to fetch config JSON. Please contact us at https://configcat.com/support/")},e.prototype.fetchReceived200WithInvalidBody=function(e){return this.log(iD.Error,1105,"Fetching config JSON was successful but the HTTP response content was invalid.",e)},e.prototype.fetchReceived304WhenLocalCacheIsEmpty=function(e,t){return this.log(iD.Error,1106,U.from("STATUS_CODE","REASON_PHRASE")(iW||(iW=(0,v.__makeTemplateObject)(["Unexpected HTTP response was received when no config JSON is cached locally: "," ",""],["Unexpected HTTP response was received when no config JSON is cached locally: "," ",""])),e,t))},e.prototype.autoPollConfigServiceErrorDuringPolling=function(e){return this.log(iD.Error,1200,"Error occurred during auto polling.",e)},e.prototype.settingForVariationIdIsNotPresent=function(e){return this.log(iD.Error,2011,U.from("VARIATION_ID")(iz||(iz=(0,v.__makeTemplateObject)(["Could not find the setting for the specified variation ID: '","'."],["Could not find the setting for the specified variation ID: '","'."])),e))},e.prototype.configServiceCacheReadError=function(e){return this.log(iD.Error,2200,"Error occurred while reading the cache.",e)},e.prototype.configServiceCacheWriteError=function(e){return this.log(iD.Error,2201,"Error occurred while writing the cache.",e)},e.prototype.clientIsAlreadyCreated=function(e){return this.log(iD.Warn,3e3,U.from("SDK_KEY")(iG||(iG=(0,v.__makeTemplateObject)(["There is an existing client instance for the specified SDK Key. No new client instance will be created and the specified options are ignored. Returning the existing client instance. SDK Key: '","'."],["There is an existing client instance for the specified SDK Key. No new client instance will be created and the specified options are ignored. Returning the existing client instance. SDK Key: '","'."])),e))},e.prototype.userObjectIsMissing=function(e){return this.log(iD.Warn,3001,U.from("KEY")(iK||(iK=(0,v.__makeTemplateObject)(["Cannot evaluate targeting rules and % options for setting '","' (User Object is missing). You should pass a User Object to the evaluation methods like `getValueAsync()` in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"],["Cannot evaluate targeting rules and % options for setting '","' (User Object is missing). You should pass a User Object to the evaluation methods like \\`getValueAsync()\\` in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"])),e))},e.prototype.dataGovernanceIsOutOfSync=function(){return this.log(iD.Warn,3002,"The `dataGovernance` parameter specified at the client initialization is not in sync with the preferences on the ConfigCat Dashboard. Read more: https://configcat.com/docs/advanced/data-governance/")},e.prototype.userObjectAttributeIsMissingPercentage=function(e,t){return this.log(iD.Warn,3003,U.from("KEY","ATTRIBUTE_NAME","ATTRIBUTE_NAME")(iY||(iY=(0,v.__makeTemplateObject)(["Cannot evaluate % options for setting '","' (the User."," attribute is missing). You should set the User."," attribute in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"],["Cannot evaluate % options for setting '","' (the User."," attribute is missing). You should set the User."," attribute in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"])),e,t,t))},e.prototype.userObjectAttributeIsMissingCondition=function(e,t,r){return this.log(iD.Warn,3003,U.from("CONDITION","KEY","ATTRIBUTE_NAME","ATTRIBUTE_NAME")(iJ||(iJ=(0,v.__makeTemplateObject)(["Cannot evaluate condition (",") for setting '","' (the User."," attribute is missing). You should set the User."," attribute in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"],["Cannot evaluate condition (",") for setting '","' (the User."," attribute is missing). You should set the User."," attribute in order to make targeting work properly. Read more: https://configcat.com/docs/advanced/user-object/"])),e,t,r,r))},e.prototype.userObjectAttributeIsInvalid=function(e,t,r,n){return this.log(iD.Warn,3004,U.from("CONDITION","KEY","REASON","ATTRIBUTE_NAME")(iX||(iX=(0,v.__makeTemplateObject)(["Cannot evaluate condition (",") for setting '","' (","). Please check the User."," attribute and make sure that its value corresponds to the comparison operator."],["Cannot evaluate condition (",") for setting '","' (","). Please check the User."," attribute and make sure that its value corresponds to the comparison operator."])),e,t,r,n))},e.prototype.userObjectAttributeIsAutoConverted=function(e,t,r,n){return this.log(iD.Warn,3005,U.from("CONDITION","KEY","ATTRIBUTE_NAME","ATTRIBUTE_VALUE")(iZ||(iZ=(0,v.__makeTemplateObject)(["Evaluation of condition (",") for setting '","' may not produce the expected result (the User."," attribute is not a string value, thus it was automatically converted to the string value '","'). Please make sure that using a non-string value was intended."],["Evaluation of condition (",") for setting '","' may not produce the expected result (the User."," attribute is not a string value, thus it was automatically converted to the string value '","'). Please make sure that using a non-string value was intended."])),e,t,r,n))},e.prototype.configServiceCannotInitiateHttpCalls=function(){return this.log(iD.Warn,3200,"Client is in offline mode, it cannot initiate HTTP calls.")},e.prototype.configServiceMethodHasNoEffectDueToDisposedClient=function(e){return this.log(iD.Warn,3201,U.from("METHOD_NAME")(iQ||(iQ=(0,v.__makeTemplateObject)(["The client object is already disposed, thus `","()` has no effect."],["The client object is already disposed, thus \\`","()\\` has no effect."])),e))},e.prototype.configServiceMethodHasNoEffectDueToOverrideBehavior=function(e,t){return this.log(iD.Warn,3202,U.from("OVERRIDE_BEHAVIOR","METHOD_NAME")(i0||(i0=(0,v.__makeTemplateObject)(["Client is configured to use the `","` override behavior, thus `","()` has no effect."],["Client is configured to use the \\`","\\` override behavior, thus \\`","()\\` has no effect."])),e,t))},e.prototype.settingEvaluated=function(e){return this.log(iD.Info,5e3,U.from("EVALUATE_LOG")(i1||(i1=(0,v.__makeTemplateObject)(["",""],["",""])),e))},e.prototype.configServiceStatusChanged=function(e){return this.log(iD.Info,5200,U.from("MODE")(i2||(i2=(0,v.__makeTemplateObject)(["Switched to "," mode."],["Switched to "," mode."])),e.toUpperCase()))},e}(),H=function(){function e(e,t){void 0===e&&(e=iD.Warn),void 0===t&&(t="\n"),this.level=e,this.eol=t,this.SOURCE="ConfigCat"}return e.prototype.log=function(e,t,r,n){var i=e===iD.Debug?[console.info,"DEBUG"]:e===iD.Info?[console.info,"INFO"]:e===iD.Warn?[console.warn,"WARN"]:e===iD.Error?[console.error,"ERROR"]:[console.log,iD[e].toUpperCase()],s=i[0],o=i[1],a=void 0!==n?this.eol+k(n,!0):"";s(this.SOURCE+" - "+o+" - ["+t+"] "+r+a)},e}(),B=function(){function e(){this.events={},this.eventCount=0,this.addListener=this.on,this.off=this.removeListener}return e.prototype.addListenerCore=function(e,t,r){if("function"!=typeof t)throw TypeError("Listener must be a function");var n=this.events[e],i={fn:t,once:r};return n?n.fn?this.events[e]=[n,i]:n.push(i):(this.events[e]=i,this.eventCount++),this},e.prototype.removeListenerCore=function(e,t,r){var n=this.events[e];if(!n)return this;if(n.fn)r(n,t)&&this.removeEvent(e);else for(var i=n.length-1;i>=0;i--)if(r(n[i],t)){n.splice(i,1),n.length?1===n.length&&(this.events[e]=n[0]):this.removeEvent(e);break}return this},e.prototype.removeEvent=function(e){0==--this.eventCount?this.events={}:delete this.events[e]},e.prototype.on=function(e,t){return this.addListenerCore(e,t,!1)},e.prototype.once=function(e,t){return this.addListenerCore(e,t,!0)},e.prototype.removeListener=function(e,t){if("function"!=typeof t)throw TypeError("Listener must be a function");return this.removeListenerCore(e,t,function(e,t){return e.fn===t})},e.prototype.removeAllListeners=function(e){return e?this.events[e]&&this.removeEvent(e):(this.events={},this.eventCount=0),this},e.prototype.listeners=function(e){var t=this.events[e];if(!t)return[];if(t.fn)return[t.fn];for(var r=t.length,n=Array(r),i=0;i<r;i++)n[i]=t[i].fn;return n},e.prototype.listenerCount=function(e){var t=this.events[e];return t?t.fn?1:t.length:0},e.prototype.eventNames=function(){var e=[];if(0===this.eventCount)return e;var t=this.events;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},e.prototype.emit=function(e,t,r,n,i){for(var s,o,a,l,u=[],c=5;c<arguments.length;c++)u[c-5]=arguments[c];var h=this.events[e];if(!h)return!1;h.fn?(a=(s=[h,1])[0],l=s[1]):(a=(o=[(h=h.slice())[0],h.length])[0],l=o[1]);for(var d=arguments.length-1,p=0;;){switch(a.once&&this.removeListenerCore(e,a,function(e,t){return e===t}),d){case 0:a.fn.call(this);break;case 1:a.fn.call(this,t);break;case 2:a.fn.call(this,t,r);break;case 3:a.fn.call(this,t,r,n);break;case 4:a.fn.call(this,t,r,n,i);break;default:for(var f=Array(d),g=0;g<d;g++)f[g]=arguments[g+1];a.fn.apply(this,f)}if(++p>=l)break;a=h[p]}return!0},e}(),V=function(){function e(){this.addListener=this.on,this.off=this.removeListener}return e.prototype.on=function(){return this},e.prototype.once=function(){return this},e.prototype.removeListener=function(){return this},e.prototype.removeAllListeners=function(){return this},e.prototype.listeners=function(){return[]},e.prototype.listenerCount=function(){return 0},e.prototype.eventNames=function(){return[]},e.prototype.emit=function(){return!1},e}();function W(e){function t(e,t){return e<<t|e>>>32-t}var r,n,i,s,o,a,l,u,c,h=Array(80),d=0x67452301,p=0xefcdab89,f=0x98badcfe,g=0x10325476,v=0xc3d2e1f0,_=(e=D(e)).length,m=[];for(n=0;n<_-3;n+=4)i=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),m.push(i);switch(_%4){case 0:n=0x80000000;break;case 1:n=e.charCodeAt(_-1)<<24|8388608;break;case 2:n=e.charCodeAt(_-2)<<24|e.charCodeAt(_-1)<<16|32768;break;case 3:n=e.charCodeAt(_-3)<<24|e.charCodeAt(_-2)<<16|e.charCodeAt(_-1)<<8|128}for(m.push(n);m.length%16!=14;)m.push(0);for(m.push(_>>>29),m.push(_<<3),r=0;r<m.length;r+=16){for(n=0;n<16;n++)h[n]=m[r+n];for(n=16;n<=79;n++)h[n]=t(h[n-3]^h[n-8]^h[n-14]^h[n-16],1);for(n=0,s=d,o=p,a=f,l=g,u=v;n<=19;n++)c=t(s,5)+(o&a|~o&l)+u+h[n]+0x5a827999|0,u=l,l=a,a=t(o,30),o=s,s=c;for(n=20;n<=39;n++)c=t(s,5)+(o^a^l)+u+h[n]+0x6ed9eba1|0,u=l,l=a,a=t(o,30),o=s,s=c;for(n=40;n<=59;n++)c=t(s,5)+(o&a|o&l|a&l)+u+h[n]+0x8f1bbcdc|0,u=l,l=a,a=t(o,30),o=s,s=c;for(n=60;n<=79;n++)c=t(s,5)+(o^a^l)+u+h[n]+0xca62c1d6|0,u=l,l=a,a=t(o,30),o=s,s=c;d=d+s|0,p=p+o|0,f=f+a|0,g=g+l|0,v=v+u|0}return G([d,p,f,g,v])}function z(e){function t(e,t){return e>>>t|e<<32-t}var r,n,i="length",s=Math.pow,o=s(2,32),a=z.h,l=z.k;if(!l){a=[],l=[];for(var u={},c=2,h=0;h<64;c++)if(!u[c]){for(r=0;r<313;r+=c)u[r]=c;a[h]=s(c,.5)*o|0,l[h++]=s(c,1/3)*o|0}z.h=a=a.slice(0,8),z.k=l}var d=8*e[i];e+="";for(var p=[];e[i]%64-56;)e+="\0";for(r=0;r<e[i];r++)n=e.charCodeAt(r),p[r>>2]|=n<<(3-r)%4*8;for(n=0,p[p[i]]=d/o|0,p[p[i]]=d;n<p[i];){var f=p.slice(n,n+=16),g=a;for(r=0,a=a.slice(0,8);r<64;r++){var v=f[r-15],_=f[r-2],m=a[0],y=a[4],b=a[7]+(t(y,6)^t(y,11)^t(y,25))+(y&a[5]^~y&a[6])+l[r]+(f[r]=r<16?f[r]:f[r-16]+(t(v,7)^t(v,18)^v>>>3)+f[r-7]+(t(_,17)^t(_,19)^_>>>10)|0);(a=[b+((t(m,2)^t(m,13)^t(m,22))+(m&a[1]^m&a[2]^a[1]&a[2]))|0].concat(a))[4]=a[4]+b|0}for(r=0;r<8;r++)a[r]=a[r]+g[r]|0}return G(a,8)}function G(e,t){var r="0123456789abcdef",n="";null!=t||(t=e.length);for(var i=0;i<t;i++)for(var s=3;s>=0;s--){var o=e[i]>>(s<<3)&255;n+=r[o>>4],n+=r[15&o]}return n}var K=new V,Y=function(){function e(e){this.addListener=this.on,this.off=this.removeListener,this.eventEmitter=e}return e.prototype.tryDisconnect=function(){var e=this.eventEmitter;return this.eventEmitter=K,e!==K},e.prototype.on=function(e,t){return this.eventEmitter.on(e,t),this},e.prototype.once=function(e,t){return this.eventEmitter.once(e,t),this},e.prototype.removeListener=function(e,t){return this.eventEmitter.removeListener(e,t),this},e.prototype.removeAllListeners=function(e){return this.eventEmitter.removeAllListeners(e),this},e.prototype.listeners=function(e){return this.eventEmitter.listeners(e)},e.prototype.listenerCount=function(e){return this.eventEmitter.listenerCount(e)},e.prototype.eventNames=function(){return this.eventEmitter.eventNames()},e.prototype.emit=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=this.eventEmitter).emit.apply(t,(0,v.__spreadArrays)([e],r))},e}();function J(){var e=function(e){this.target=e};return e.prototype.deref=function(){return this.target},e.isFallback=!0,e}var X=function(){return"function"==typeof WeakRef};(iw=i3||(i3={}))[iw.AutoPoll=0]="AutoPoll",iw[iw.LazyLoad=1]="LazyLoad",iw[iw.ManualPoll=2]="ManualPoll",(iO=i5||(i5={}))[iO.Global=0]="Global",iO[iO.EuOnly=1]="EuOnly";var Z=function(){function e(e,t,r,n,i){if(this.requestTimeoutMs=3e4,this.baseUrlOverriden=!1,this.proxy="",this.offline=!1,!e)throw Error("Invalid 'sdkKey' value");this.sdkKey=e,this.clientVersion=t,this.dataGovernance=null!=(s=null==r?void 0:r.dataGovernance)?s:i5.Global,this.dataGovernance===i5.EuOnly?this.baseUrl="https://cdn-eu.configcat.com":this.baseUrl="https://cdn-global.configcat.com";var s,o,a,l,u,c=new Y(null!=(o=null==i?void 0:i())?o:new B),h=new(X()?WeakRef:J())(c);if(this.hooks={hooks:c,hooksWeakRef:h,emit:function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return null!=(r=null==(t=this.hooksWeakRef.deref())?void 0:t.emit.apply(t,(0,v.__spreadArrays)([e],n)))&&r}},r){if(l=r.logger,u=r.cache,r.requestTimeoutMs){if(r.requestTimeoutMs<0)throw Error("Invalid 'requestTimeoutMs' value");this.requestTimeoutMs=r.requestTimeoutMs}r.baseUrl&&(this.baseUrl=r.baseUrl,this.baseUrlOverriden=!0),r.proxy&&(this.proxy=r.proxy),r.flagOverrides&&(this.flagOverrides=r.flagOverrides),r.defaultUser&&(this.defaultUser=r.defaultUser),r.offline&&(this.offline=r.offline),null==(a=r.setupHooks)||a.call(r,c)}this.logger=new q(null!=l?l:new H,this.hooks),this.cache=u?new $(u,this.logger):n?n(this):new M}return e.prototype.yieldHooks=function(){var e=this.hooks,t=e.hooks;return delete e.hooks,null!=t?t:new Y(new V)},e.prototype.getUrl=function(){return this.baseUrl+"/configuration-files/"+this.sdkKey+"/"+e.configFileName+"?sdk="+this.clientVersion},e.prototype.getCacheKey=function(){return W(this.sdkKey+"_"+e.configFileName+"_"+_.serializationFormatVersion)},e.configFileName="config_v6.json",e}(),Q=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t,r+"/a-"+n,i,s,o)||this;if(a.pollIntervalSeconds=60,a.maxInitWaitTimeSeconds=5,i&&(null!=i.pollIntervalSeconds&&(a.pollIntervalSeconds=i.pollIntervalSeconds),null!=i.maxInitWaitTimeSeconds&&(a.maxInitWaitTimeSeconds=i.maxInitWaitTimeSeconds)),!("number"==typeof a.pollIntervalSeconds&&1<=a.pollIntervalSeconds&&a.pollIntervalSeconds<=2147483))throw Error("Invalid 'pollIntervalSeconds' value");if(!("number"==typeof a.maxInitWaitTimeSeconds&&a.maxInitWaitTimeSeconds<=2147483))throw Error("Invalid 'maxInitWaitTimeSeconds' value");return a}return(0,v.__extends)(t,e),t}(Z),ee=function(e){function t(t,r,n,i,s,o){return e.call(this,t,r+"/m-"+n,i,s,o)||this}return(0,v.__extends)(t,e),t}(Z),et=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t,r+"/l-"+n,i,s,o)||this;if(a.cacheTimeToLiveSeconds=60,i&&null!=i.cacheTimeToLiveSeconds&&(a.cacheTimeToLiveSeconds=i.cacheTimeToLiveSeconds),!("number"==typeof a.cacheTimeToLiveSeconds&&1<=a.cacheTimeToLiveSeconds&&a.cacheTimeToLiveSeconds<=0x7fffffff))throw Error("Invalid 'cacheTimeToLiveSeconds' value");return a}return(0,v.__extends)(t,e),t}(Z);(ix=i4||(i4={}))[ix.Fetched=0]="Fetched",ix[ix.NotModified=1]="NotModified",ix[ix.Errored=2]="Errored";var er=function(){function e(e,t,r,n){this.status=e,this.config=t,this.errorMessage=r,this.errorException=n}return e.success=function(t){return new e(i4.Fetched,t)},e.notModified=function(t){return new e(i4.NotModified,t)},e.error=function(t,r,n){return new e(i4.Errored,t,null!=r?r:"Unknown error.",n)},e}(),en=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this,function(e,t){switch(e){case"abort":return"Request was aborted.";case"timeout":return"Request timed out. Timeout value: "+t[0]+"ms";case"failure":var r=t[0],n="Request failed due to a network or protocol error.";return r?n+" "+(r instanceof Error?r.message:r+""):n}}(r,n))||this;return s.cause=r,s instanceof t||(Object.setPrototypeOf||function(e,t){return e.__proto__=t})(s,t.prototype),s.args=n,s}return(0,v.__extends)(t,e),t}(Error);(iT=i6||(i6={}))[iT.No=0]="No",iT[iT.Should=1]="Should",iT[iT.Force=2]="Force",(iR=i8||(i8={}))[iR.Boolean=0]="Boolean",iR[iR.String=1]="String",iR[iR.Int=2]="Int",iR[iR.Double=3]="Double",(iI=i9||(i9={}))[iI.TextIsOneOf=0]="TextIsOneOf",iI[iI.TextIsNotOneOf=1]="TextIsNotOneOf",iI[iI.TextContainsAnyOf=2]="TextContainsAnyOf",iI[iI.TextNotContainsAnyOf=3]="TextNotContainsAnyOf",iI[iI.SemVerIsOneOf=4]="SemVerIsOneOf",iI[iI.SemVerIsNotOneOf=5]="SemVerIsNotOneOf",iI[iI.SemVerLess=6]="SemVerLess",iI[iI.SemVerLessOrEquals=7]="SemVerLessOrEquals",iI[iI.SemVerGreater=8]="SemVerGreater",iI[iI.SemVerGreaterOrEquals=9]="SemVerGreaterOrEquals",iI[iI.NumberEquals=10]="NumberEquals",iI[iI.NumberNotEquals=11]="NumberNotEquals",iI[iI.NumberLess=12]="NumberLess",iI[iI.NumberLessOrEquals=13]="NumberLessOrEquals",iI[iI.NumberGreater=14]="NumberGreater",iI[iI.NumberGreaterOrEquals=15]="NumberGreaterOrEquals",iI[iI.SensitiveTextIsOneOf=16]="SensitiveTextIsOneOf",iI[iI.SensitiveTextIsNotOneOf=17]="SensitiveTextIsNotOneOf",iI[iI.DateTimeBefore=18]="DateTimeBefore",iI[iI.DateTimeAfter=19]="DateTimeAfter",iI[iI.SensitiveTextEquals=20]="SensitiveTextEquals",iI[iI.SensitiveTextNotEquals=21]="SensitiveTextNotEquals",iI[iI.SensitiveTextStartsWithAnyOf=22]="SensitiveTextStartsWithAnyOf",iI[iI.SensitiveTextNotStartsWithAnyOf=23]="SensitiveTextNotStartsWithAnyOf",iI[iI.SensitiveTextEndsWithAnyOf=24]="SensitiveTextEndsWithAnyOf",iI[iI.SensitiveTextNotEndsWithAnyOf=25]="SensitiveTextNotEndsWithAnyOf",iI[iI.SensitiveArrayContainsAnyOf=26]="SensitiveArrayContainsAnyOf",iI[iI.SensitiveArrayNotContainsAnyOf=27]="SensitiveArrayNotContainsAnyOf",iI[iI.TextEquals=28]="TextEquals",iI[iI.TextNotEquals=29]="TextNotEquals",iI[iI.TextStartsWithAnyOf=30]="TextStartsWithAnyOf",iI[iI.TextNotStartsWithAnyOf=31]="TextNotStartsWithAnyOf",iI[iI.TextEndsWithAnyOf=32]="TextEndsWithAnyOf",iI[iI.TextNotEndsWithAnyOf=33]="TextNotEndsWithAnyOf",iI[iI.ArrayContainsAnyOf=34]="ArrayContainsAnyOf",iI[iI.ArrayNotContainsAnyOf=35]="ArrayNotContainsAnyOf",(iA=i7||(i7={}))[iA.Equals=0]="Equals",iA[iA.NotEquals=1]="NotEquals",(iC=se||(se={}))[iC.IsIn=0]="IsIn",iC[iC.IsNotIn=1]="IsNotIn";var ei=function(){function e(e,t){this.errorMessage=e,this.errorException=t}return Object.defineProperty(e.prototype,"isSuccess",{get:function(){return null===this.errorMessage},enumerable:!1,configurable:!0}),e.from=function(t){return t.status!==i4.Errored?e.success():e.failure(t.errorMessage,t.errorException)},e.success=function(){return new e(null)},e.failure=function(t,r){return new e(t,r)},e}();(ik=st||(st={}))[ik.NoFlagData=0]="NoFlagData",ik[ik.HasLocalOverrideFlagDataOnly=1]="HasLocalOverrideFlagDataOnly",ik[ik.HasCachedFlagDataOnly=2]="HasCachedFlagDataOnly",ik[ik.HasUpToDateFlagData=3]="HasUpToDateFlagData",(iP=sr||(sr={}))[iP.Online=0]="Online",iP[iP.Offline=1]="Offline",iP[iP.Disposed=2]="Disposed";var es=function(){function e(e,t){this.configFetcher=e,this.options=t,this.pendingFetch=null,this.cacheKey=t.getCacheKey(),this.configFetcher=e,this.options=t,this.status=t.offline?sr.Offline:sr.Online}return e.prototype.dispose=function(){this.status=sr.Disposed},Object.defineProperty(e.prototype,"disposed",{get:function(){return this.status===sr.Disposed},enumerable:!1,configurable:!0}),e.prototype.refreshConfigAsync=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r,n,i;return(0,v.__generator)(this,function(s){switch(s.label){case 0:return[4,this.options.cache.get(this.cacheKey)];case 1:if(e=s.sent(),this.isOffline)return[3,3];return[4,this.refreshConfigCoreAsync(e)];case 2:return r=(t=s.sent())[0],n=t[1],[2,[ei.from(r),n]];case 3:return i=this.options.logger.configServiceCannotInitiateHttpCalls().toString(),[2,[ei.failure(i),e]]}})})},e.prototype.refreshConfigCoreAsync=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return[4,this.fetchAsync(e)];case 1:if(t=i.sent(),r=!1,!((n=t.status===i4.Fetched)||t.config.timestamp>e.timestamp&&(!t.config.isEmpty||e.isEmpty)))return[3,3];return[4,this.options.cache.set(this.cacheKey,t.config)];case 2:i.sent(),r=n&&!_.equals(t.config,e),e=t.config,i.label=3;case 3:return this.onConfigFetched(t.config),r&&this.onConfigChanged(t.config),[2,[t,e]]}})})},e.prototype.onConfigFetched=function(e){},e.prototype.onConfigChanged=function(e){var t;this.options.logger.debug("config changed"),this.options.hooks.emit("configChanged",null!=(t=e.config)?t:new m({}))},e.prototype.fetchAsync=function(e){var t;return null!=(t=this.pendingFetch)?t:this.pendingFetch=(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),[4,this.fetchLogicAsync(e)];case 1:return[2,t.sent()];case 2:return this.pendingFetch=null,[7];case 3:return[2]}})})},e.prototype.fetchLogicAsync=function(e){var t;return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i,s,o,a;return(0,v.__generator)(this,function(l){switch(l.label){case 0:(r=this.options).logger.debug("ConfigServiceBase.fetchLogicAsync() - called."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.fetchRequestAsync(null!=(t=e.httpETag)?t:null)];case 2:switch(s=(i=l.sent())[0],o=i[1],s.statusCode){case 200:if(!(o instanceof m))return n=r.logger.fetchReceived200WithInvalidBody(o).toString(),r.logger.debug("ConfigServiceBase.fetchLogicAsync(): "+s.statusCode+" "+s.reasonPhrase+" was received but the HTTP response content was invalid. Returning null."),[2,er.error(e,n,o)];return r.logger.debug("ConfigServiceBase.fetchLogicAsync(): fetch was successful. Returning new config."),[2,er.success(new _(s.body,o,_.generateTimestamp(),s.eTag))];case 304:if(!e)return n=r.logger.fetchReceived304WhenLocalCacheIsEmpty(s.statusCode,s.reasonPhrase).toString(),r.logger.debug("ConfigServiceBase.fetchLogicAsync(): "+s.statusCode+" "+s.reasonPhrase+" was received when no config is cached locally. Returning null."),[2,er.error(e,n)];return r.logger.debug("ConfigServiceBase.fetchLogicAsync(): content was not modified. Returning last config with updated timestamp."),[2,er.notModified(e.with(_.generateTimestamp()))];case 403:case 404:return n=r.logger.fetchFailedDueToInvalidSdkKey().toString(),r.logger.debug("ConfigServiceBase.fetchLogicAsync(): fetch was unsuccessful. Returning last config (if any) with updated timestamp."),[2,er.error(e.with(_.generateTimestamp()),n)];default:return n=r.logger.fetchFailedDueToUnexpectedHttpResponse(s.statusCode,s.reasonPhrase).toString(),r.logger.debug("ConfigServiceBase.fetchLogicAsync(): fetch was unsuccessful. Returning null."),[2,er.error(e,n)]}case 3:return n=((a=l.sent())instanceof en&&"timeout"===a.cause?r.logger.fetchFailedDueToRequestTimeout(a.args[0],a):r.logger.fetchFailedDueToUnexpectedError(a)).toString(),r.logger.debug("ConfigServiceBase.fetchLogicAsync(): fetch was unsuccessful. Returning null."),[2,er.error(e,n,a)];case 4:return[2]}})})},e.prototype.fetchRequestAsync=function(e,t){return void 0===t&&(t=2),(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i,s,o,a,l;return(0,v.__generator)(this,function(u){switch(u.label){case 0:(r=this.options).logger.debug("ConfigServiceBase.fetchRequestAsync() - called."),n=0,u.label=1;case 1:return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): calling fetchLogic()"+(n>0?", retry "+n+"/"+t:"")),[4,this.configFetcher.fetchLogic(r,e)];case 2:if(200!==(i=u.sent()).statusCode)return[2,[i]];if(!i.body)return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): no response body."),[2,[i,Error("No response body.")]];s=void 0;try{s=m.deserialize(i.body)}catch(e){return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): invalid response body."),[2,[i,e]]}if(!(o=s.preferences))return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): preferences is empty."),[2,[i,s]];if(!(a=o.baseUrl)||a===r.baseUrl)return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): baseUrl OK."),[2,[i,s]];if(l=o.redirectMode,r.baseUrlOverriden&&l!==i6.Force)return r.logger.debug("ConfigServiceBase.fetchRequestAsync(): options.baseUrlOverriden && redirect !== 2."),[2,[i,s]];if(r.baseUrl=a,l===i6.No)return[2,[i,s]];if(l===i6.Should&&r.logger.dataGovernanceIsOutOfSync(),n>=t)return r.logger.fetchFailedDueToRedirectLoop(),[2,[i,s]];u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Object.defineProperty(e.prototype,"isOfflineExactly",{get:function(){return this.status===sr.Offline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOffline",{get:function(){return this.status!==sr.Online},enumerable:!1,configurable:!0}),e.prototype.setOnlineCore=function(){},e.prototype.setOnline=function(){this.status===sr.Offline?(this.setOnlineCore(),this.status=sr.Online,this.options.logger.configServiceStatusChanged(sr[this.status])):this.disposed&&this.options.logger.configServiceMethodHasNoEffectDueToDisposedClient("setOnline")},e.prototype.setOfflineCore=function(){},e.prototype.setOffline=function(){this.status===sr.Online?(this.setOfflineCore(),this.status=sr.Offline,this.options.logger.configServiceStatusChanged(sr[this.status])):this.disposed&&this.options.logger.configServiceMethodHasNoEffectDueToDisposedClient("setOffline")},e.prototype.syncUpWithCache=function(){return this.options.cache.get(this.cacheKey)},e.prototype.getReadyPromise=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return[4,t(e)];case 1:return r=n.sent(),this.options.hooks.emit("clientReady",r),[2,r]}})})},e}(),eo=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.signalInitialization=function(){},n.stopToken=new A,n.pollIntervalMs=1e3*r.pollIntervalSeconds,n.pollExpirationMs=n.pollIntervalMs-500;var i=n.syncUpWithCache();if(0!==r.maxInitWaitTimeSeconds){n.initialized=!1;var s=new Promise(function(e){return n.signalInitialization=e});n.initializationPromise=n.waitForInitializationAsync(s).then(function(e){return n.initialized=!0,e})}else n.initialized=!0,n.initializationPromise=Promise.resolve(!1);return n.readyPromise=n.getReadyPromise(n.initializationPromise,function(e){return(0,v.__awaiter)(n,void 0,void 0,function(){return(0,v.__generator)(this,function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[2,this.getCacheState(this.options.cache.getInMemory())]}})})}),r.offline||n.startRefreshWorker(i,n.stopToken),n}return(0,v.__extends)(t,e),t.prototype.waitForInitializationAsync=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(!(this.options.maxInitWaitTimeSeconds<0))return[3,2];return[4,e];case 1:return n.sent(),[2,!0];case 2:return t=new A,[4,Promise.race([e.then(function(){return!0}),C(1e3*this.options.maxInitWaitTimeSeconds,t).then(function(){return!1})])];case 3:return r=n.sent(),t.abort(),[2,r]}})})},t.prototype.getConfig=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e;function t(e){e.debug("AutoPollConfigService.getConfig() - returning value from cache.")}return(0,v.__generator)(this,function(r){switch(r.label){case 0:if(this.options.logger.debug("AutoPollConfigService.getConfig() called."),!(!this.isOffline&&!this.initialized))return[3,3];return[4,this.options.cache.get(this.cacheKey)];case 1:if(!(e=r.sent()).isExpired(this.pollIntervalMs))return t(this.options.logger),[2,e];return this.options.logger.debug("AutoPollConfigService.getConfig() - cache is empty or expired, waiting for initialization."),[4,this.initializationPromise];case 2:r.sent(),r.label=3;case 3:return[4,this.options.cache.get(this.cacheKey)];case 4:return(e=r.sent()).isExpired(this.pollIntervalMs)?this.options.logger.debug("AutoPollConfigService.getConfig() - cache is empty or expired."):t(this.options.logger),[2,e]}})})},t.prototype.refreshConfigAsync=function(){return this.options.logger.debug("AutoPollConfigService.refreshConfigAsync() called."),e.prototype.refreshConfigAsync.call(this)},t.prototype.dispose=function(){this.options.logger.debug("AutoPollConfigService.dispose() called."),e.prototype.dispose.call(this),this.stopToken.aborted||this.stopRefreshWorker()},t.prototype.onConfigFetched=function(t){e.prototype.onConfigFetched.call(this,t),this.signalInitialization()},t.prototype.setOnlineCore=function(){this.startRefreshWorker(null,this.stopToken)},t.prototype.setOfflineCore=function(){this.stopRefreshWorker(),this.stopToken=new A},t.prototype.startRefreshWorker=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i,s,o;return(0,v.__generator)(this,function(a){switch(a.label){case 0:this.options.logger.debug("AutoPollConfigService.startRefreshWorker() called."),r=!0,a.label=1;case 1:if(t.aborted)return[3,11];a.label=2;case 2:a.trys.push([2,9,,10]),n=new Date().getTime()+this.pollIntervalMs,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.refreshWorkerLogic(r,e)];case 4:return a.sent(),[3,6];case 5:return i=a.sent(),this.options.logger.autoPollConfigServiceErrorDuringPolling(i),[3,6];case 6:if(!((s=n-new Date().getTime())>0))return[3,8];return[4,C(s,t)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:return o=a.sent(),this.options.logger.autoPollConfigServiceErrorDuringPolling(o),[3,10];case 10:return r=!1,e=null,[3,1];case 11:return[2]}})})},t.prototype.stopRefreshWorker=function(){this.options.logger.debug("AutoPollConfigService.stopRefreshWorker() called."),this.stopToken.abort()},t.prototype.refreshWorkerLogic=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return this.options.logger.debug("AutoPollConfigService.refreshWorkerLogic() - called."),[4,null!=t?t:this.options.cache.get(this.cacheKey)];case 1:if(!(r=n.sent()).isExpired(this.pollExpirationMs))return[3,4];if(!(e?!this.isOfflineExactly:!this.isOffline))return[3,3];return[4,this.refreshConfigCoreAsync(r)];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:e&&this.signalInitialization(),n.label=5;case 5:return[2]}})})},t.prototype.getCacheState=function(e){return e.isEmpty?st.NoFlagData:e.isExpired(this.pollIntervalMs)?st.HasCachedFlagDataOnly:st.HasUpToDateFlagData},t}(es);function ea(e,t){this.initialSettings=this.constructor.getCurrentSettings(e),t&&(this.map=e)}(iN=sn||(sn={}))[iN.LocalOnly=0]="LocalOnly",iN[iN.LocalOverRemote=1]="LocalOverRemote",iN[iN.RemoteOverLocal=2]="RemoteOverLocal",ea.getCurrentSettings=function(e){return Object.fromEntries(Object.entries(e).map(function(e){var t=e[0],r=e[1];return[t,S.fromValue(r)]}))},ea.prototype.getOverrides=function(){return Promise.resolve(this.getOverridesSync())},ea.prototype.getOverridesSync=function(){return this.map?this.constructor.getCurrentSettings(this.map):this.initialSettings};var el=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.cacheTimeToLiveMs=1e3*r.cacheTimeToLiveSeconds;var i=n.syncUpWithCache();return n.readyPromise=n.getReadyPromise(i,function(e){return(0,v.__awaiter)(n,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return t=this.getCacheState,[4,e];case 1:return[2,t.apply(this,[r.sent()])]}})})}),n}return(0,v.__extends)(t,e),t.prototype.getConfig=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e;function t(e,t){void 0===t&&(t=""),e.debug("LazyLoadConfigService.getConfig(): cache is empty or expired"+t+".")}return(0,v.__generator)(this,function(r){switch(r.label){case 0:return this.options.logger.debug("LazyLoadConfigService.getConfig() called."),[4,this.options.cache.get(this.cacheKey)];case 1:if(!(e=r.sent()).isExpired(this.cacheTimeToLiveMs))return[3,5];if(this.isOffline)return[3,3];return t(this.options.logger,", calling refreshConfigCoreAsync()"),[4,this.refreshConfigCoreAsync(e)];case 2:return e=r.sent()[1],[3,4];case 3:t(this.options.logger),r.label=4;case 4:return[2,e];case 5:return this.options.logger.debug("LazyLoadConfigService.getConfig(): cache is valid, returning from cache."),[2,e]}})})},t.prototype.refreshConfigAsync=function(){return this.options.logger.debug("LazyLoadConfigService.refreshConfigAsync() called."),e.prototype.refreshConfigAsync.call(this)},t.prototype.getCacheState=function(e){return e.isEmpty?st.NoFlagData:e.isExpired(this.cacheTimeToLiveMs)?st.HasCachedFlagDataOnly:st.HasUpToDateFlagData},t}(es),eu=function(e){function t(t,r){var n=e.call(this,t,r)||this,i=n.syncUpWithCache();return n.readyPromise=n.getReadyPromise(i,function(e){return(0,v.__awaiter)(n,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return t=this.getCacheState,[4,e];case 1:return[2,t.apply(this,[r.sent()])]}})})}),n}return(0,v.__extends)(t,e),t.prototype.getCacheState=function(e){return e.isEmpty?st.NoFlagData:st.HasCachedFlagDataOnly},t.prototype.getConfig=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){switch(e.label){case 0:return this.options.logger.debug("ManualPollService.getConfig() called."),[4,this.options.cache.get(this.cacheKey)];case 1:return[2,e.sent()]}})})},t.prototype.refreshConfigAsync=function(){return this.options.logger.debug("ManualPollService.refreshConfigAsync() called."),e.prototype.refreshConfigAsync.call(this)},t}(es),ec="<invalid value>",eh="<invalid name>",ed="<invalid operator>",ep="<invalid reference>",ef=function(){function e(e){this.eol=e,this.log="",this.indent=""}return e.prototype.resetIndent=function(){return this.indent="",this},e.prototype.increaseIndent=function(){return this.indent+="  ",this},e.prototype.decreaseIndent=function(){return this.indent=this.indent.slice(0,-2),this},e.prototype.newLine=function(e){return this.log+=this.eol+this.indent+(null!=e?e:""),this},e.prototype.append=function(e){return this.log+=e,this},e.prototype.toString=function(){return this.log},e.prototype.appendUserConditionCore=function(e,t,r){return this.append("User."+e+" "+eg(t)+" '"+(null!=r?r:ec)+"'")},e.prototype.appendUserConditionString=function(e,t,r,n){return"string"!=typeof r?this.appendUserConditionCore(e,t):this.appendUserConditionCore(e,t,n?"<hashed value>":r)},e.prototype.appendUserConditionStringList=function(e,t,r,n){if(!j(r))return this.appendUserConditionCore(e,t);var i="value",s="values",o=eg(t);if(n)return this.append("User."+e+" "+o+" [<"+r.length+" hashed "+(1===r.length?i:s)+">]");var a=L(r,10,function(e){return", ... <"+e+" more "+(1===e?i:s)+">"});return this.append("User."+e+" "+o+" ["+a+"]")},e.prototype.appendUserConditionNumber=function(e,t,r,n){if("number"!=typeof r)return this.appendUserConditionCore(e,t);var i,s=eg(t);return n&&!isNaN(i=new Date(1e3*r))?this.append("User."+e+" "+s+" '"+r+"' ("+i.toISOString()+" UTC)"):this.append("User."+e+" "+s+" '"+r+"'")},e.prototype.appendUserCondition=function(e){var t="string"==typeof e.comparisonAttribute?e.comparisonAttribute:eh,r=e.comparator;switch(e.comparator){case i9.TextIsOneOf:case i9.TextIsNotOneOf:case i9.TextContainsAnyOf:case i9.TextNotContainsAnyOf:case i9.SemVerIsOneOf:case i9.SemVerIsNotOneOf:case i9.TextStartsWithAnyOf:case i9.TextNotStartsWithAnyOf:case i9.TextEndsWithAnyOf:case i9.TextNotEndsWithAnyOf:case i9.ArrayContainsAnyOf:case i9.ArrayNotContainsAnyOf:return this.appendUserConditionStringList(t,r,e.comparisonValue,!1);case i9.SemVerLess:case i9.SemVerLessOrEquals:case i9.SemVerGreater:case i9.SemVerGreaterOrEquals:case i9.TextEquals:case i9.TextNotEquals:return this.appendUserConditionString(t,r,e.comparisonValue,!1);case i9.NumberEquals:case i9.NumberNotEquals:case i9.NumberLess:case i9.NumberLessOrEquals:case i9.NumberGreater:case i9.NumberGreaterOrEquals:return this.appendUserConditionNumber(t,r,e.comparisonValue);case i9.SensitiveTextIsOneOf:case i9.SensitiveTextIsNotOneOf:case i9.SensitiveTextStartsWithAnyOf:case i9.SensitiveTextNotStartsWithAnyOf:case i9.SensitiveTextEndsWithAnyOf:case i9.SensitiveTextNotEndsWithAnyOf:case i9.SensitiveArrayContainsAnyOf:case i9.SensitiveArrayNotContainsAnyOf:return this.appendUserConditionStringList(t,r,e.comparisonValue,!0);case i9.DateTimeBefore:case i9.DateTimeAfter:return this.appendUserConditionNumber(t,r,e.comparisonValue,!0);case i9.SensitiveTextEquals:case i9.SensitiveTextNotEquals:return this.appendUserConditionString(t,r,e.comparisonValue,!0);default:return this.appendUserConditionCore(t,r,e.comparisonValue)}},e.prototype.appendPrerequisiteFlagCondition=function(e,t){var r="string"!=typeof e.prerequisiteFlagKey?eh:e.prerequisiteFlagKey in t?e.prerequisiteFlagKey:ep,n=e.comparator,i=e.comparisonValue;return this.append("Flag '"+r+"' "+function(e){switch(e){case i7.Equals:return"EQUALS";case i7.NotEquals:return"NOT EQUALS";default:return ed}}(n)+" '"+em(i)+"'")},e.prototype.appendSegmentCondition=function(e){var t=e.segment,r=e.comparator,n=null==t?ep:"string"==typeof t.name&&t.name?t.name:eh;return this.append("User "+e_(r)+" '"+n+"'")},e.prototype.appendConditionResult=function(e){return this.append(""+e)},e.prototype.appendConditionConsequence=function(e){return this.append(" => ").appendConditionResult(e),e?this:this.append(", skipping the remaining AND conditions")},e.prototype.appendTargetingRuleThenPart=function(e,t){(t?this.newLine():this.append(" ")).append("THEN");var r=e.then;return this.append(N(r)?" % options":" '"+em(r.value)+"'")},e.prototype.appendTargetingRuleConsequence=function(e,t,r){return this.increaseIndent(),this.appendTargetingRuleThenPart(e,r).append(" => ").append(!0===t?"MATCH, applying rule":!1===t?"no match":t),this.decreaseIndent()},e}();function eg(e){switch(e){case i9.TextIsOneOf:case i9.SensitiveTextIsOneOf:case i9.SemVerIsOneOf:return"IS ONE OF";case i9.TextIsNotOneOf:case i9.SensitiveTextIsNotOneOf:case i9.SemVerIsNotOneOf:return"IS NOT ONE OF";case i9.TextContainsAnyOf:return"CONTAINS ANY OF";case i9.TextNotContainsAnyOf:return"NOT CONTAINS ANY OF";case i9.SemVerLess:case i9.NumberLess:return"<";case i9.SemVerLessOrEquals:case i9.NumberLessOrEquals:return"<=";case i9.SemVerGreater:case i9.NumberGreater:return">";case i9.SemVerGreaterOrEquals:case i9.NumberGreaterOrEquals:return">=";case i9.NumberEquals:return"=";case i9.NumberNotEquals:return"!=";case i9.DateTimeBefore:return"BEFORE";case i9.DateTimeAfter:return"AFTER";case i9.TextEquals:case i9.SensitiveTextEquals:return"EQUALS";case i9.TextNotEquals:case i9.SensitiveTextNotEquals:return"NOT EQUALS";case i9.TextStartsWithAnyOf:case i9.SensitiveTextStartsWithAnyOf:return"STARTS WITH ANY OF";case i9.TextNotStartsWithAnyOf:case i9.SensitiveTextNotStartsWithAnyOf:return"NOT STARTS WITH ANY OF";case i9.TextEndsWithAnyOf:case i9.SensitiveTextEndsWithAnyOf:return"ENDS WITH ANY OF";case i9.TextNotEndsWithAnyOf:case i9.SensitiveTextNotEndsWithAnyOf:return"NOT ENDS WITH ANY OF";case i9.ArrayContainsAnyOf:case i9.SensitiveArrayContainsAnyOf:return"ARRAY CONTAINS ANY OF";case i9.ArrayNotContainsAnyOf:case i9.SensitiveArrayNotContainsAnyOf:return"ARRAY NOT CONTAINS ANY OF";default:return ed}}function ev(e){return new ef("").appendUserCondition(e).toString()}function e_(e){switch(e){case se.IsIn:return"IS IN SEGMENT";case se.IsNotIn:return"IS NOT IN SEGMENT";default:return ed}}function em(e){return eG(e)?e.toString():ec}var ey=/^[0-9]+$/,eb=function(e,t){var r=ey.test(e),n=ey.test(t);return r&&n&&(e*=1,t*=1),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},eE=Number.MAX_SAFE_INTEGER||0x1fffffffffffff,eS=[],ew=[],eO={},ex=0,eT=function(e,t){var r=ex++;eO[e]=r,ew[r]=t,eS[r]=new RegExp(t)};eT("NUMERICIDENTIFIER","0|[1-9]\\d*"),eT("NUMERICIDENTIFIERLOOSE","[0-9]+"),eT("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),eT("MAINVERSION","("+ew[eO.NUMERICIDENTIFIER]+")\\.("+ew[eO.NUMERICIDENTIFIER]+")\\.("+ew[eO.NUMERICIDENTIFIER]+")"),eT("MAINVERSIONLOOSE","("+ew[eO.NUMERICIDENTIFIERLOOSE]+")\\.("+ew[eO.NUMERICIDENTIFIERLOOSE]+")\\.("+ew[eO.NUMERICIDENTIFIERLOOSE]+")"),eT("PRERELEASEIDENTIFIER","(?:"+ew[eO.NUMERICIDENTIFIER]+"|"+ew[eO.NONNUMERICIDENTIFIER]+")"),eT("PRERELEASEIDENTIFIERLOOSE","(?:"+ew[eO.NUMERICIDENTIFIERLOOSE]+"|"+ew[eO.NONNUMERICIDENTIFIER]+")"),eT("PRERELEASE","(?:-("+ew[eO.PRERELEASEIDENTIFIER]+"(?:\\."+ew[eO.PRERELEASEIDENTIFIER]+")*))"),eT("PRERELEASELOOSE","(?:-?("+ew[eO.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+ew[eO.PRERELEASEIDENTIFIERLOOSE]+")*))"),eT("BUILDIDENTIFIER","[0-9A-Za-z-]+"),eT("BUILD","(?:\\+("+ew[eO.BUILDIDENTIFIER]+"(?:\\."+ew[eO.BUILDIDENTIFIER]+")*))"),eT("FULLPLAIN","v?"+ew[eO.MAINVERSION]+ew[eO.PRERELEASE]+"?"+ew[eO.BUILD]+"?"),eT("FULL","^"+ew[eO.FULLPLAIN]+"$"),eT("LOOSEPLAIN","[v=\\s]*"+ew[eO.MAINVERSIONLOOSE]+ew[eO.PRERELEASELOOSE]+"?"+ew[eO.BUILD]+"?"),eT("LOOSE","^"+ew[eO.LOOSEPLAIN]+"$");var eR=function(){function e(t,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),t instanceof e)if(!!r.loose===t.loose&&!!r.includePrerelease===t.includePrerelease)return t;else t=t.version;else if("string"!=typeof t)throw TypeError("Invalid Version: "+t);if(t.length>256)throw TypeError("version is longer than 256 characters");this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;var n=t.trim().match(r.loose?eS[eO.LOOSE]:eS[eO.FULL]);if(!n)throw TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>eE||this.major<0)throw TypeError("Invalid major version");if(this.minor>eE||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>eE||this.patch<0)throw TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<eE)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}return e.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},e.prototype.toString=function(){return this.version},e.prototype.compare=function(t){if(!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)},e.prototype.compareMain=function(t){return t instanceof e||(t=new e(t,this.options)),eb(this.major,t.major)||eb(this.minor,t.minor)||eb(this.patch,t.patch)},e.prototype.comparePre=function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return -1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var r=0;do{var n=this.prerelease[r],i=t.prerelease[r];if(void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;else if(n===i)continue;else return eb(n,i)}while(++r)},e.prototype.compareBuild=function(t){t instanceof e||(t=new e(t,this.options));var r=0;do{var n=this.build[r],i=t.build[r];if(void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;else if(n===i)continue;else return eb(n,i)}while(++r)},e.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e}(),eI=function(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof eR)return e;if("string"!=typeof e||e.length>256||!(t.loose?eS[eO.LOOSE]:eS[eO.FULL]).test(e))return null;try{return new eR(e,t)}catch(e){return null}},eA=function(e,t,r,n){void 0===n&&(n={}),this.identifier=e,this.email=t,this.country=r,this.custom=n};function eC(e,t){var r,n;switch(t){case"Identifier":return null!=(r=e.identifier)?r:"";case"Email":return e.email;case"Country":return e.country;default:return null==(n=e.custom)?void 0:n[t]}}var ek=function(){function e(e,t,r,n){this.key=e,this.setting=t,this.user=r,this.settings=n}return Object.defineProperty(e.prototype,"visitedFlags",{get:function(){var e;return null!=(e=this.$visitedFlags)?e:this.$visitedFlags=[]},enumerable:!1,configurable:!0}),e.forPrerequisiteFlag=function(t,r,n){var i=new e(t,r,n.user,n.settings);return i.$visitedFlags=n.visitedFlags,i.logBuilder=n.logBuilder,i},e}(),eP="The current targeting rule is ignored and the evaluation continues with the next rule.",eN="cannot evaluate, User Object is missing",ej=function(){function e(e){this.logger=e}return e.prototype.evaluate=function(e,t){this.logger.debug("RolloutEvaluator.evaluate() called.");var r,n=t.logBuilder;this.logger.isEnabled(iD.Info)&&(t.logBuilder=n=new ef(this.logger.eol),n.append("Evaluating '"+t.key+"'"),t.user&&n.append(" for User '"+JSON.stringify(function(e){var t,r={},n="Identifier",i="Email",s="Country";if(r[n]=null!=(t=e.identifier)?t:"",null!=e.email&&(r[i]=e.email),null!=e.country&&(r[s]=e.country),null!=e.custom)for(var o=[n,i,s],a=0,l=Object.entries(e.custom);a<l.length;a++){var u=l[a],c=u[0],h=u[1];null!=h&&0>o.indexOf(c)&&(r[c]=h)}return r}(t.user))+"'"),n.increaseIndent());try{var i=void 0,s=void 0;if(null!=e){var o=t.setting.type;if(o>=0&&!function(e,t){switch(t){case i8.Boolean:return"boolean"==typeof e;case i8.String:return"string"==typeof e;case i8.Int:case i8.Double:return"number"==typeof e;default:return!1}}(e,o))throw TypeError("The type of a setting must match the type of the specified default value. "+("Setting's type was "+i8[o]+" but the default value's type was ")+typeof e+". Please use a default value which corresponds to the setting type "+i8[o]+". Learn more: https://configcat.com/docs/sdk-reference/js/#setting-type-mapping");s=typeof(r=(i=this.evaluateSetting(t)).selectedValue.value)==typeof e}else r=(i=this.evaluateSetting(t)).selectedValue.value,s=eG(r);return s||eK(r),i}catch(t){throw null==n||n.resetIndent().increaseIndent(),r=e,t}finally{n&&(n.newLine("Returning '"+r+"'.").decreaseIndent(),this.logger.settingEvaluated(n.toString()))}},e.prototype.evaluateSetting=function(e){var t,r=e.setting.targetingRules;if(r.length>0&&(t=this.evaluateTargetingRules(r,e)))return t;var n=e.setting.percentageOptions;return n.length>0&&(t=this.evaluatePercentageOptions(n,void 0,e))?t:{selectedValue:e.setting}},e.prototype.evaluateTargetingRules=function(e,t){var r=t.logBuilder;null==r||r.newLine("Evaluating targeting rules and applying the first match if any:");for(var n=0;n<e.length;n++){var i=e[n],s=i.conditions,o=this.evaluateConditions(s,i,t.key,t);if(!0!==o){eL(o)&&(null==r||r.increaseIndent().newLine(eP).decreaseIndent());continue}if(!N(i.then))return{selectedValue:i.then,matchedTargetingRule:i};var a=i.then;null==r||r.increaseIndent();var l=this.evaluatePercentageOptions(a,i,t);if(l)return null==r||r.decreaseIndent(),l;null==r||r.newLine(eP).decreaseIndent()}},e.prototype.evaluatePercentageOptions=function(e,t,r){var n,i,s=r.logBuilder;if(!r.user){null==s||s.newLine("Skipping % options because the User Object is missing."),r.isMissingUserObjectLogged||(this.logger.userObjectIsMissing(r.key),r.isMissingUserObjectLogged=!0);return}var o=r.setting.percentageOptionsAttribute;if(null==o?(o="Identifier",i=null!=(n=r.user.identifier)?n:""):i=eC(r.user,o),null==i){null==s||s.newLine("Skipping % options because the User."+o+" attribute is missing."),r.isMissingUserObjectAttributeLogged||(this.logger.userObjectAttributeIsMissingPercentage(r.key,o),r.isMissingUserObjectAttributeLogged=!0);return}null==s||s.newLine("Evaluating % options based on the User."+o+" attribute:");var a=parseInt(W(r.key+eF(i)).substring(0,7),16)%100;null==s||s.newLine("- Computing hash in the [0..99] range from User."+o+" => "+a+" (this value is sticky and consistent across all SDKs)");for(var l=0,u=0;u<e.length;u++){var c=e[u];if(!(a>=(l+=c.percentage)))return null==s||s.newLine("- Hash value "+a+" selects % option "+(u+1)+" ("+c.percentage+"%), '"+em(c.value)+"'."),{selectedValue:c,matchedTargetingRule:t,matchedPercentageOption:c}}throw Error("Sum of percentage option percentages is less than 100.")},e.prototype.evaluateConditions=function(e,t,r,n){var i=!0,s=n.logBuilder,o=!1;null==s||s.newLine("- ");for(var a=0;a<e.length;a++){var l=e[a];switch(s&&(a?s.increaseIndent().newLine("AND "):s.append("IF ").increaseIndent()),l.type){case"UserCondition":i=this.evaluateUserCondition(l,r,n),o=e.length>1;break;case"PrerequisiteFlagCondition":i=this.evaluatePrerequisiteFlagCondition(l,n),o=!0;break;case"SegmentCondition":o=!eL(i=this.evaluateSegmentCondition(l,n))||i!==eN||e.length>1;break;default:throw Error()}var u=!0===i;if(s&&((!t||e.length>1)&&s.appendConditionConsequence(u),s.decreaseIndent()),!u)break}return t&&(null==s||s.appendTargetingRuleConsequence(t,i,o)),i},e.prototype.evaluateUserCondition=function(e,t,r){var n,i,s,o,a,l,u,c,h,d,p,f,g,v,_,m,y=r.logBuilder;if(null==y||y.appendUserCondition(e),!r.user)return r.isMissingUserObjectLogged||(this.logger.userObjectIsMissing(r.key),r.isMissingUserObjectLogged=!0),eN;var b=e.comparisonAttribute,E=eC(r.user,b);if(null==E||""===E)return this.logger.userObjectAttributeIsMissingCondition(ev(e),r.key,b),"cannot evaluate, the User."+b+" attribute is missing";switch(e.comparator){case i9.TextEquals:case i9.TextNotEquals:return g=eM(b,E,e,r.key,this.logger),this.evaluateTextEquals(g,e.comparisonValue,e.comparator===i9.TextNotEquals);case i9.SensitiveTextEquals:case i9.SensitiveTextNotEquals:return g=eM(b,E,e,r.key,this.logger),this.evaluateSensitiveTextEquals(g,e.comparisonValue,r.setting.configJsonSalt,t,e.comparator===i9.SensitiveTextNotEquals);case i9.TextIsOneOf:case i9.TextIsNotOneOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateTextIsOneOf(g,e.comparisonValue,e.comparator===i9.TextIsNotOneOf);case i9.SensitiveTextIsOneOf:case i9.SensitiveTextIsNotOneOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateSensitiveTextIsOneOf(g,e.comparisonValue,r.setting.configJsonSalt,t,e.comparator===i9.SensitiveTextIsNotOneOf);case i9.TextStartsWithAnyOf:case i9.TextNotStartsWithAnyOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateTextSliceEqualsAnyOf(g,e.comparisonValue,!0,e.comparator===i9.TextNotStartsWithAnyOf);case i9.SensitiveTextStartsWithAnyOf:case i9.SensitiveTextNotStartsWithAnyOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateSensitiveTextSliceEqualsAnyOf(g,e.comparisonValue,r.setting.configJsonSalt,t,!0,e.comparator===i9.SensitiveTextNotStartsWithAnyOf);case i9.TextEndsWithAnyOf:case i9.TextNotEndsWithAnyOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateTextSliceEqualsAnyOf(g,e.comparisonValue,!1,e.comparator===i9.TextNotEndsWithAnyOf);case i9.SensitiveTextEndsWithAnyOf:case i9.SensitiveTextNotEndsWithAnyOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateSensitiveTextSliceEqualsAnyOf(g,e.comparisonValue,r.setting.configJsonSalt,t,!1,e.comparator===i9.SensitiveTextNotEndsWithAnyOf);case i9.TextContainsAnyOf:case i9.TextNotContainsAnyOf:return g=eM(b,E,e,r.key,this.logger),this.evaluateTextContainsAnyOf(g,e.comparisonValue,e.comparator===i9.TextNotContainsAnyOf);case i9.SemVerIsOneOf:case i9.SemVerIsNotOneOf:return"string"!=typeof(v=e$(b,E,e,r.key,this.logger))?this.evaluateSemVerIsOneOf(v,e.comparisonValue,e.comparator===i9.SemVerIsNotOneOf):v;case i9.SemVerLess:case i9.SemVerLessOrEquals:case i9.SemVerGreater:case i9.SemVerGreaterOrEquals:return"string"!=typeof(v=e$(b,E,e,r.key,this.logger))?this.evaluateSemVerRelation(v,e.comparator,e.comparisonValue):v;case i9.NumberEquals:case i9.NumberNotEquals:case i9.NumberLess:case i9.NumberLessOrEquals:case i9.NumberGreater:case i9.NumberGreaterOrEquals:return"string"!=typeof(n=b,i=E,s=e,o=r.key,a=this.logger,_="number"==typeof i?i:"string"!=typeof i||isNaN(l=F(i.replace(",",".")))&&"NaN"!==i.trim()?eq(a,s,o,n,"'"+i+"' is not a valid decimal number"):l)?this.evaluateNumberRelation(_,e.comparator,e.comparisonValue):_;case i9.DateTimeBefore:case i9.DateTimeAfter:return"string"!=typeof(u=b,c=E,h=e,d=r.key,p=this.logger,_=c instanceof Date?c.getTime()/1e3:"number"==typeof c?c:"string"!=typeof c||isNaN(f=F(c.replace(",",".")))&&"NaN"!==c.trim()?eq(p,h,d,u,"'"+c+"' is not a valid Unix timestamp (number of seconds elapsed since Unix epoch)"):f)?this.evaluateDateTimeRelation(_,e.comparisonValue,e.comparator===i9.DateTimeBefore):_;case i9.ArrayContainsAnyOf:case i9.ArrayNotContainsAnyOf:return"string"!=typeof(m=eU(b,E,e,r.key,this.logger))?this.evaluateArrayContainsAnyOf(m,e.comparisonValue,e.comparator===i9.ArrayNotContainsAnyOf):m;case i9.SensitiveArrayContainsAnyOf:case i9.SensitiveArrayNotContainsAnyOf:return"string"!=typeof(m=eU(b,E,e,r.key,this.logger))?this.evaluateSensitiveArrayContainsAnyOf(m,e.comparisonValue,r.setting.configJsonSalt,t,e.comparator===i9.SensitiveArrayNotContainsAnyOf):m;default:throw Error()}},e.prototype.evaluateTextEquals=function(e,t,r){return e===t!==r},e.prototype.evaluateSensitiveTextEquals=function(e,t,r,n,i){var s,o,a;return s=e,o=r,a=n,eD(D(s),o,a)===t!==i},e.prototype.evaluateTextIsOneOf=function(e,t,r){return t.indexOf(e)>=0!==r},e.prototype.evaluateSensitiveTextIsOneOf=function(e,t,r,n,i){var s,o,a,l=(s=e,o=r,a=n,eD(D(s),o,a));return t.indexOf(l)>=0!==i},e.prototype.evaluateTextSliceEqualsAnyOf=function(e,t,r,n){for(var i=0;i<t.length;i++){var s=t[i];if(!(e.length<s.length)&&(r?e.lastIndexOf(s,0):e.indexOf(s,e.length-s.length))>=0)return!n}return n},e.prototype.evaluateSensitiveTextSliceEqualsAnyOf=function(e,t,r,n,i,s){for(var o=D(e),a=0;a<t.length;a++){var l=t[a],u=l.indexOf("_"),c=parseInt(l.slice(0,u));if(!(o.length<c)&&eD(i?o.slice(0,c):o.slice(o.length-c),r,n)===l.slice(u+1))return!s}return s},e.prototype.evaluateTextContainsAnyOf=function(e,t,r){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!r;return r},e.prototype.evaluateSemVerIsOneOf=function(e,t,r){for(var n=!1,i=0;i<t.length;i++){var s=t[i];if(s.length){var o=eI(s.trim());if(!o)return!1;n||0!==e.compare(o)||(n=!0)}}return n!==r},e.prototype.evaluateSemVerRelation=function(e,t,r){var n=eI(r.trim());if(!n)return!1;var i=e.compare(n);switch(t){case i9.SemVerLess:return i<0;case i9.SemVerLessOrEquals:return i<=0;case i9.SemVerGreater:return i>0;case i9.SemVerGreaterOrEquals:return i>=0}},e.prototype.evaluateNumberRelation=function(e,t,r){switch(t){case i9.NumberEquals:return e===r;case i9.NumberNotEquals:return e!==r;case i9.NumberLess:return e<r;case i9.NumberLessOrEquals:return e<=r;case i9.NumberGreater:return e>r;case i9.NumberGreaterOrEquals:return e>=r}},e.prototype.evaluateDateTimeRelation=function(e,t,r){return r?e<t:e>t},e.prototype.evaluateArrayContainsAnyOf=function(e,t,r){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!r;return r},e.prototype.evaluateSensitiveArrayContainsAnyOf=function(e,t,r,n,i){for(var s=0;s<e.length;s++){var o,a,l,u=(o=e[s],a=r,l=n,eD(D(o),a,l));if(t.indexOf(u)>=0)return!i}return i},e.prototype.evaluatePrerequisiteFlagCondition=function(e,t){var r,n=t.logBuilder;null==n||n.appendPrerequisiteFlagCondition(e,t.settings);var i=e.prerequisiteFlagKey,s=t.settings[i];if(t.visitedFlags.push(t.key),t.visitedFlags.indexOf(i)>=0)throw t.visitedFlags.push(i),Error("Circular dependency detected between the following depending flags: "+L(t.visitedFlags,void 0,void 0," -> ")+".");var o=ek.forPrerequisiteFlag(i,s,t);null==n||n.newLine("(").increaseIndent().newLine("Evaluating prerequisite flag '"+i+"':");var a=this.evaluateSetting(o);t.visitedFlags.pop();var l=a.selectedValue.value;if(typeof l!=typeof e.comparisonValue)if(eG(l))throw Error("Type mismatch between comparison value '"+e.comparisonValue+"' and prerequisite flag '"+i+"'.");else eK(l);switch(e.comparator){case i7.Equals:r=l===e.comparisonValue;break;case i7.NotEquals:r=l!==e.comparisonValue;break;default:throw Error()}return null==n||n.newLine("Prerequisite flag evaluation result: '"+em(l)+"'.").newLine("Condition (").appendPrerequisiteFlagCondition(e,t.settings).append(") evaluates to ").appendConditionResult(r).append(".").decreaseIndent().newLine(")"),r},e.prototype.evaluateSegmentCondition=function(e,t){var r=t.logBuilder;if(null==r||r.appendSegmentCondition(e),!t.user)return t.isMissingUserObjectLogged||(this.logger.userObjectIsMissing(t.key),t.isMissingUserObjectLogged=!0),eN;var n=e.segment;null==r||r.newLine("(").increaseIndent().newLine("Evaluating segment '"+n.name+"':");var i=this.evaluateConditions(n.conditions,void 0,n.name,t),s=i;if(!eL(s))switch(e.comparator){case se.IsIn:break;case se.IsNotIn:s=!s;break;default:throw Error()}return r&&(r.newLine("Segment evaluation result: "),(!eL(s)?r.append("User "+e_(i?se.IsIn:se.IsNotIn)):r.append(s)).append("."),r.newLine("Condition (").appendSegmentCondition(e).append(")"),(!eL(s)?r.append(" evaluates to ").appendConditionResult(s):r.append(" failed to evaluate")).append("."),r.decreaseIndent().newLine(")")),s},e}();function eL(e){return"string"==typeof e}function eD(e,t,r){return z(e+D(t)+D(r))}function eF(e){return"string"==typeof e?e:e instanceof Date?e.getTime()/1e3+"":j(e)?JSON.stringify(e):e+""}function eM(e,t,r,n,i){return"string"==typeof t||(t=eF(t),i.userObjectAttributeIsAutoConverted(ev(r),n,e,t)),t}function e$(e,t,r,n,i){var s;return"string"==typeof t&&(s=eI(t.trim()))?s:eq(i,r,n,e,"'"+t+"' is not a valid semantic version")}function eU(e,t,r,n,i){var s=t;if("string"==typeof s)try{s=JSON.parse(s)}catch(e){}return j(s)?s:eq(i,r,n,e,"'"+t+"' is not a valid string array")}function eq(e,t,r,n,i){return e.userObjectAttributeIsInvalid(ev(t),r,i,n),"cannot evaluate, the User."+n+" attribute is invalid ("+i+")"}function eH(e,t,r,n){return{key:e,value:t.selectedValue.value,variationId:t.selectedValue.variationId,fetchTime:r,user:n,isDefaultValue:!1,matchedTargetingRule:t.matchedTargetingRule,matchedPercentageOption:t.matchedPercentageOption}}function eB(e,t,r,n,i,s){return{key:e,value:t,fetchTime:r,user:n,isDefaultValue:!0,errorMessage:i,errorException:s}}function eV(e,t,r,n,i,s,o){if(!t)return a=o.configJsonIsNotPresentSingle(r,"defaultValue",n).toString(),eB(r,n,eY(s),i,a);var a,l=t[r];if(!l)return a=o.settingEvaluationFailedDueToMissingKey(r,"defaultValue",n,L(Object.keys(t))).toString(),eB(r,n,eY(s),i,a);var u=e.evaluate(n,new ek(r,l,i,t));return eH(r,u,eY(s),i)}function eW(e,t,r,n,i,s){if(!ez(t,i,s))return[[],o];for(var o,a=[],l=0,u=Object.entries(t);l<u.length;l++){var c=u[l],h=c[0],d=c[1],p=void 0;try{var f=e.evaluate(null,new ek(h,d,r,t));p=eH(h,f,eY(n),r)}catch(e){null!=o||(o=[]),o.push(e),p=eB(h,null,eY(n),r,k(e),e)}a.push(p)}return[a,o]}function ez(e,t,r){return!!e||(t.configJsonIsNotPresent(r),!1)}function eG(e){return"boolean"==typeof e||"string"==typeof e||"number"==typeof e}function eK(e){throw TypeError(null===e?"Setting value is null.":void 0===e?"Setting value is undefined.":"Setting value '"+e+"' is of an unsupported type ("+typeof e+").")}function eY(e){return e?new Date(e.timestamp):void 0}var eJ=new(function(){function e(){this.instances={}}return e.prototype.getOrCreate=function(e,t){var r,n=this.instances[e.sdkKey];if(n&&(r=n[0].deref()))return[r,!0];var i={};r=new eX(e,t,i);var s=X()?WeakRef:J();return this.instances[e.sdkKey]=[new s(r),i],[r,!1]},e.prototype.remove=function(e,t){var r=this.instances[e];if(r){var n=r[0],i=r[1],s=!!n.deref();if(!s||i===t)return delete this.instances[e],s}return!1},e.prototype.clear=function(){for(var e=[],t=0,r=Object.entries(this.instances);t<r.length;t++){var n=r[t],i=n[0],s=n[1][0].deref();s&&e.push(s),delete this.instances[i]}return e},e}()),eX=function(){function e(e,t,r){var n;if(this.cacheToken=r,this.addListener=this.on,this.off=this.removeListener,!e)throw Error("Invalid 'options' value");if(this.options=e,this.options.logger.debug("Initializing ConfigCatClient. Options: "+JSON.stringify(this.options)),!t)throw Error("Invalid 'configCatKernel' value");if(!t.configFetcher)throw Error("Invalid 'configCatKernel.configFetcher' value");this.hooks=e.yieldHooks(),e.defaultUser&&this.setDefaultUser(e.defaultUser),this.evaluator=new ej(e.logger),(null==(n=e.flagOverrides)?void 0:n.behaviour)!==sn.LocalOnly?this.configService=e instanceof Q?new eo(t.configFetcher,e):e instanceof ee?new eu(t.configFetcher,e):e instanceof et?new el(t.configFetcher,e):P(Error("Invalid 'options' value")):this.hooks.emit("clientReady",st.HasLocalOverrideFlagDataOnly),this.suppressFinalize=e3(this,{sdkKey:e.sdkKey,cacheToken:r,configService:this.configService,logger:e.logger})}return Object.defineProperty(e,"instanceCache",{get:function(){return eJ},enumerable:!1,configurable:!0}),e.get=function(e,t,r,n){var i,s="Invalid 'sdkKey' value";if(!e)throw Error(s);var o=new(t===i3.AutoPoll?Q:t===i3.ManualPoll?ee:t===i3.LazyLoad?et:P(Error("Invalid 'pollingMode' value")))(e,n.sdkType,n.sdkVersion,r,n.defaultCacheFactory,n.eventEmitterFactory);if((null==(i=o.flagOverrides)?void 0:i.behaviour)!==sn.LocalOnly&&!function(e,t){var r="configcat-proxy/";if(t&&e.length>r.length&&0===e.lastIndexOf(r,0))return!0;var n=e.split("/");switch(n.length){case 2:return 22===n[0].length&&22===n[1].length;case 3:return"configcat-sdk-1"===n[0]&&22===n[1].length&&22===n[2].length;default:return!1}}(e,o.baseUrlOverriden))throw Error(s);var a=eJ.getOrCreate(o,n),l=a[0];return a[1]&&r&&o.logger.clientIsAlreadyCreated(e),l},e.finalize=function(t){var r;null==(r=t.logger)||r.debug("finalize() called"),t.cacheToken&&eJ.remove(t.sdkKey,t.cacheToken),e.close(t.configService,t.logger)},e.close=function(e,t,r){null==t||t.debug("close() called"),null==r||r.tryDisconnect(),null==e||e.dispose()},e.prototype.dispose=function(){var t=this.options;t.logger.debug("dispose() called"),this.cacheToken&&eJ.remove(t.sdkKey,this.cacheToken),e.close(this.configService,t.logger,this.hooks),this.suppressFinalize()},e.disposeAll=function(){for(var t,r=eJ.clear(),n=0;n<r.length;n++){var i=r[n];try{e.close(i.configService,i.options.logger,i.hooks),i.suppressFinalize()}catch(e){null!=t||(t=[]),t.push(e)}}if(t)throw"undefined"!=typeof AggregateError?AggregateError(t):t.pop()},e.prototype.getValueAsync=function(e,t,r){return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i,s,o,a,l;return(0,v.__generator)(this,function(u){switch(u.label){case 0:this.options.logger.debug("getValueAsync() called."),e0(e),e1(t),s=null,null!=r||(r=this.defaultUser),u.label=1;case 1:return u.trys.push([1,3,,4]),o=void 0,[4,this.getSettingsAsync()];case 2:return o=(l=u.sent())[0],s=l[1],n=(i=eV(this.evaluator,o,e,t,r,s,this.options.logger)).value,[3,4];case 3:return a=u.sent(),this.options.logger.settingEvaluationErrorSingle("getValueAsync",e,"defaultValue",t,a),i=eB(e,t,eY(s),r,k(a),a),n=t,[3,4];case 4:return this.hooks.emit("flagEvaluated",i),[2,n]}})})},e.prototype.getValueDetailsAsync=function(e,t,r){return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i,s,o,a;return(0,v.__generator)(this,function(l){switch(l.label){case 0:this.options.logger.debug("getValueDetailsAsync() called."),e0(e),e1(t),i=null,null!=r||(r=this.defaultUser),l.label=1;case 1:return l.trys.push([1,3,,4]),s=void 0,[4,this.getSettingsAsync()];case 2:return s=(a=l.sent())[0],i=a[1],n=eV(this.evaluator,s,e,t,r,i,this.options.logger),[3,4];case 3:return o=l.sent(),this.options.logger.settingEvaluationErrorSingle("getValueDetailsAsync",e,"defaultValue",t,o),n=eB(e,t,eY(i),r,k(o),o),[3,4];case 4:return this.hooks.emit("flagEvaluated",n),[2,n]}})})},e.prototype.getAllKeysAsync=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:this.options.logger.debug("getAllKeysAsync() called."),e="empty array",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getSettingsAsync()];case 2:if(!ez(t=n.sent()[0],this.options.logger,e))return[2,[]];return[2,Object.keys(t)];case 3:return r=n.sent(),this.options.logger.settingEvaluationError("getAllKeysAsync",e,r),[2,[]];case 4:return[2]}})})},e.prototype.getAllValuesAsync=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,s,o,a,l,u,c,h,d;return(0,v.__generator)(this,function(p){switch(p.label){case 0:this.options.logger.debug("getAllValuesAsync() called."),t="empty array",null!=e||(e=this.defaultUser),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.getSettingsAsync()];case 2:return o=(s=p.sent())[0],a=s[1],n=(d=eW(this.evaluator,o,e,a,this.options.logger,t))[0],i=d[1],r=n.map(function(e){return new eQ(e.key,e.value)}),[3,4];case 3:return l=p.sent(),this.options.logger.settingEvaluationError("getAllValuesAsync",t,l),[2,[]];case 4:for((null==i?void 0:i.length)&&this.options.logger.settingEvaluationError("getAllValuesAsync","evaluation result","undefined"!=typeof AggregateError?AggregateError(i):i.pop()),u=0,c=n;u<c.length;u++)h=c[u],this.hooks.emit("flagEvaluated",h);return[2,r]}})})},e.prototype.getAllValueDetailsAsync=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,s,o,a,l,u,c,h;return(0,v.__generator)(this,function(d){switch(d.label){case 0:this.options.logger.debug("getAllValueDetailsAsync() called."),t="empty array",null!=e||(e=this.defaultUser),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getSettingsAsync()];case 2:return s=(i=d.sent())[0],o=i[1],r=(h=eW(this.evaluator,s,e,o,this.options.logger,t))[0],n=h[1],[3,4];case 3:return a=d.sent(),this.options.logger.settingEvaluationError("getAllValueDetailsAsync",t,a),[2,[]];case 4:for((null==n?void 0:n.length)&&this.options.logger.settingEvaluationError("getAllValueDetailsAsync","evaluation result","undefined"!=typeof AggregateError?AggregateError(n):n.pop()),l=0,u=r;l<u.length;l++)c=u[l],this.hooks.emit("flagEvaluated",c);return[2,r]}})})},e.prototype.getKeyAndValueAsync=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,s,o,a,l,u,c,h,d,p,f;return(0,v.__generator)(this,function(g){switch(g.label){case 0:this.options.logger.debug("getKeyAndValueAsync() called."),t="null",g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.getSettingsAsync()];case 2:if(!ez(r=g.sent()[0],this.options.logger,t))return[2,null];for(n=0,i=Object.entries(r);n<i.length;n++){if(o=(s=i[n])[0],e===(a=s[1]).variationId)return[2,new eQ(o,e2(a.value))];if((l=r[o].targetingRules)&&l.length>0){for(u=0;u<l.length;u++)if(N(c=l[u].then)){for(h=0;h<c.length;h++)if(e===(d=c[h]).variationId)return[2,new eQ(o,e2(d.value))]}else if(e===c.variationId)return[2,new eQ(o,e2(c.value))]}if((p=r[o].percentageOptions)&&p.length>0){for(u=0;u<p.length;u++)if(e===(d=p[u]).variationId)return[2,new eQ(o,e2(d.value))]}}return this.options.logger.settingForVariationIdIsNotPresent(e),[3,4];case 3:return f=g.sent(),this.options.logger.settingEvaluationError("getKeyAndValueAsync",t,f),[3,4];case 4:return[2,null]}})})},e.prototype.forceRefreshAsync=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e;return(0,v.__generator)(this,function(t){switch(t.label){case 0:if(this.options.logger.debug("forceRefreshAsync() called."),!this.configService)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.configService.refreshConfigAsync()];case 2:return[2,t.sent()[0]];case 3:return e=t.sent(),this.options.logger.forceRefreshError("forceRefreshAsync",e),[2,ei.failure(k(e),e)];case 4:return[3,6];case 5:return[2,ei.failure("Client is configured to use the LocalOnly override behavior, which prevents making HTTP requests.")];case 6:return[2]}})})},e.prototype.setDefaultUser=function(e){this.defaultUser=e},e.prototype.clearDefaultUser=function(){this.defaultUser=void 0},Object.defineProperty(e.prototype,"isOffline",{get:function(){var e,t;return null==(t=null==(e=this.configService)?void 0:e.isOffline)||t},enumerable:!1,configurable:!0}),e.prototype.setOnline=function(){this.configService?this.configService.setOnline():this.options.logger.configServiceMethodHasNoEffectDueToOverrideBehavior(sn[sn.LocalOnly],"setOnline")},e.prototype.setOffline=function(){var e;null==(e=this.configService)||e.setOffline()},e.prototype.waitForReady=function(){var e=this.configService;return e?e.readyPromise:Promise.resolve(st.HasLocalOverrideFlagDataOnly)},e.prototype.snapshot=function(){var e,t,r,n,i,s,o=this,a=function(){var e=o.options.cache.getInMemory();return[e.isEmpty?null:e.config.settings,e]},l=null==(n=this.options)?void 0:n.flagOverrides;if(l){var u=l.dataSource.getOverridesSync();switch(l.behaviour){case sn.LocalOnly:return new eZ(u,null,this);case sn.LocalOverRemote:return i=(e=a())[0],s=e[1],new eZ((0,v.__assign)((0,v.__assign)({},null!=i?i:{}),u),s,this);case sn.RemoteOverLocal:return i=(t=a())[0],s=t[1],new eZ((0,v.__assign)((0,v.__assign)({},u),null!=i?i:{}),s,this)}}return new eZ(i=(r=a())[0],s=r[1],this)},e.prototype.getSettingsAsync=function(){var e;return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,s,o,a,l=this;return(0,v.__generator)(this,function(u){switch(u.label){case 0:if(this.options.logger.debug("getSettingsAsync() called."),t=function(){return(0,v.__awaiter)(l,void 0,void 0,function(){var e;return(0,v.__generator)(this,function(t){switch(t.label){case 0:return[4,this.configService.getConfig()];case 1:return[2,[(e=t.sent()).isEmpty?null:e.config.settings,e]]}})})},!(r=null==(e=this.options)?void 0:e.flagOverrides))return[3,7];return n=void 0,i=void 0,[4,r.dataSource.getOverrides()];case 1:switch(s=u.sent(),r.behaviour){case sn.LocalOnly:return[3,2];case sn.LocalOverRemote:return[3,3];case sn.RemoteOverLocal:return[3,5]}return[3,7];case 2:return[2,[s,null]];case 3:case 5:case 7:return[4,t()];case 4:return n=(o=u.sent())[0],i=o[1],[2,[(0,v.__assign)((0,v.__assign)({},null!=n?n:{}),s),i]];case 6:return n=(a=u.sent())[0],i=a[1],[2,[(0,v.__assign)((0,v.__assign)({},s),null!=n?n:{}),i]];case 8:return[2,u.sent()]}})})},e.prototype.on=function(e,t){return this.hooks.on(e,t),this},e.prototype.once=function(e,t){return this.hooks.once(e,t),this},e.prototype.removeListener=function(e,t){return this.hooks.removeListener(e,t),this},e.prototype.removeAllListeners=function(e){return this.hooks.removeAllListeners(e),this},e.prototype.listeners=function(e){return this.hooks.listeners(e)},e.prototype.listenerCount=function(e){return this.hooks.listenerCount(e)},e.prototype.eventNames=function(){return this.hooks.eventNames()},e}(),eZ=function(){function e(e,t,r){this.mergedSettings=e,this.remoteConfig=t,this.defaultUser=r.defaultUser,this.evaluator=r.evaluator,this.options=r.options,this.cacheState=t?r.configService.getCacheState(t):st.HasLocalOverrideFlagDataOnly}return Object.defineProperty(e.prototype,"fetchedConfig",{get:function(){var e=this.remoteConfig;return e&&!e.isEmpty?e.config:null},enumerable:!1,configurable:!0}),e.prototype.getAllKeys=function(){return this.mergedSettings?Object.keys(this.mergedSettings):[]},e.prototype.getValue=function(e,t,r){var n,i;this.options.logger.debug("Snapshot.getValue() called."),e0(e),e1(t),null!=r||(r=this.defaultUser);try{n=(i=eV(this.evaluator,this.mergedSettings,e,t,r,this.remoteConfig,this.options.logger)).value}catch(s){this.options.logger.settingEvaluationErrorSingle("Snapshot.getValue",e,"defaultValue",t,s),i=eB(e,t,eY(this.remoteConfig),r,k(s),s),n=t}return this.options.hooks.emit("flagEvaluated",i),n},e.prototype.getValueDetails=function(e,t,r){var n;this.options.logger.debug("Snapshot.getValueDetails() called."),e0(e),e1(t),null!=r||(r=this.defaultUser);try{n=eV(this.evaluator,this.mergedSettings,e,t,r,this.remoteConfig,this.options.logger)}catch(i){this.options.logger.settingEvaluationErrorSingle("Snapshot.getValueDetails",e,"defaultValue",t,i),n=eB(e,t,eY(this.remoteConfig),r,k(i),i)}return this.options.hooks.emit("flagEvaluated",n),n},e}(),eQ=function(e,t){this.settingKey=e,this.settingValue=t};function e0(e){if(!e)throw Error("Invalid 'key' value")}function e1(e){if(null!=e&&!eG(e))throw TypeError("The default value must be boolean, number, string, null or undefined.")}function e2(e){return eG(e)?e:eK(e)}var e3=function(e,t){if("undefined"!=typeof FinalizationRegistry){var r=new FinalizationRegistry(function(e){return eX.finalize(e)});e3=function(e,t){var n={};return r.register(e,t,n),function(){return r.unregister(n)}}}else e3=function(){return function(){}};return e3(e,t)};void 0===Object.values&&(Object.values=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push(e[i])}return t}),void 0===Object.entries&&(Object.entries=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push([i,e[i]])}return t}),void 0===Object.fromEntries&&(Object.fromEntries=function(e){var t,r={};if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n],s=i[0],o=i[1];r[s]=o}else if("undefined"!=typeof Symbol&&(null==e?void 0:e[Symbol.iterator]))for(var a=e[Symbol.iterator](),l=void 0,u=void 0;l=(t=a.next()).value,!t.done;){var s=l[0],o=l[1];r[s]=o}else throw TypeError("Object.fromEntries() requires a single iterable argument");return r});var e5=function(){function e(e){this.storage=e}return e.setup=function(t,r){var n=(null!=r?r:function(){var e="__configcat_localStorage_test";try{var t=window.localStorage;t.setItem(e,e);var r=void 0;try{r=t.getItem(e)}finally{t.removeItem(e)}if(r===e)return t}catch(e){}return null})();return n&&(t.defaultCacheFactory=function(t){return new $(new e(n),t.logger)}),t},e.prototype.set=function(e,t){var r;this.storage.setItem(e,btoa(r=(r=encodeURIComponent(r=t)).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))})))},e.prototype.get=function(e){var t,r=this.storage.getItem(e);if(r){return decodeURIComponent(t=(t=atob(t=r)).replace(/[%\x80-\xFF]/g,function(e){return"%"+e.charCodeAt(0).toString(16)}))}},e}(),e4=function(){function e(){}return e.prototype.handleStateChange=function(e,t,r){var n;try{if(4===e.readyState){var i=e.status,s=e.statusText;if(200===i){var o=null!=(n=e.getResponseHeader("ETag"))?n:void 0;t({statusCode:i,reasonPhrase:s,eTag:o,body:e.responseText})}else i&&t({statusCode:i,reasonPhrase:s})}}catch(e){r(e)}},e.prototype.fetchLogic=function(e,t){var r=this;return new Promise(function(n,i){try{e.logger.debug("HttpConfigFetcher.fetchLogic() called.");var s=new XMLHttpRequest;s.onreadystatechange=function(){return r.handleStateChange(s,n,i)},s.ontimeout=function(){return i(new en("timeout",e.requestTimeoutMs))},s.onabort=function(){return i(new en("abort"))},s.onerror=function(){return i(new en("failure"))};var o=e.getUrl();t&&(o+="&ccetag="+encodeURIComponent(t)),s.open("GET",o,!0),s.timeout=e.requestTimeoutMs,s.send(null)}catch(e){i(e)}})},e}();function e6(e,t,r){var n,i;return n=null!=t?t:i3.AutoPoll,i=e5.setup({configFetcher:new e4,sdkType:"ConfigCat-JS",sdkVersion:"9.5.1"}),eX.get(e,n,r,i)}let e8=async(e,t)=>{try{return await fetch(e,t)}catch(e){if(e instanceof TypeError&&"Failed to fetch"===e.message)throw console.error(e),Error("Unable to reach the server. Please check your network or try again later.");throw e}};async function e9(){if(t)return t;if(!g.default.env.NEXT_PUBLIC_CONFIGCAT_SDK_KEY&&!g.default.env.NEXT_PUBLIC_CONFIGCAT_PROXY_URL)return void console.log("Skipping ConfigCat set up as env vars are not present");try{let e=await e8(g.default.env.NEXT_PUBLIC_CONFIGCAT_PROXY_URL+"/configuration-files/configcat-proxy/frontend-v2/config_v6.json"),r={pollIntervalSeconds:420};if(200!==e.status){if(!g.default.env.NEXT_PUBLIC_CONFIGCAT_SDK_KEY)return void console.error("Failed to set up ConfigCat: SDK Key is missing");t=e6(g.default.env.NEXT_PUBLIC_CONFIGCAT_SDK_KEY??"",i3.AutoPoll,r)}else t=e6("configcat-proxy/frontend-v2",i3.AutoPoll,{...r,baseUrl:g.default.env.NEXT_PUBLIC_CONFIGCAT_PROXY_URL});return t}catch(e){console.error(`Failed to get ConfigCat client: ${e.message}`);return}}async function e7(e="",t){let r=await e9(),n={...t,is_staff:e?e.includes("@supabase.").toString():"false"};return r?e?r.getAllValuesAsync(new eA(e,void 0,void 0,n)):r.getAllValuesAsync(new eA("anonymous",void 0,void 0,n)):[]}e.s(["getFlags",()=>e7],637972);let te=Symbol(),tt=Symbol(),tr=Object.getPrototypeOf,tn=new WeakMap,ti=e=>e&&(tn.has(e)?tn.get(e):tr(e)===Object.prototype||tr(e)===Array.prototype),ts=e=>"object"==typeof e&&null!==e,to=e=>e[tt]||e,ta=(e,t,r,n)=>{var i;let s,o,a,l;if(!ti(e))return e;let u=n&&n.get(e);if(!u){let t=to(e);u=Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable)?[t,(e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(tr(e),t)})(t)]:[t],null==n||n.set(e,u)}let[c,h]=u,d=r&&r.get(c);return d&&!!h===d[1].f||(s={f:i=!!h},o=!1,a=(e,t)=>{if(!o){let r=s.a.get(c);if(r||(r={},s.a.set(c,r)),"w"===e)r.w=!0;else{let n=r[e];n||(n=new Set,r[e]=n),n.add(t)}}},l={get:(e,t)=>t===tt?c:(a("k",t),ta(Reflect.get(e,t),s.a,s.c,s.t)),has:(e,t)=>t===te?(o=!0,s.a.delete(c),!0):(a("h",t),Reflect.has(e,t)),getOwnPropertyDescriptor:(e,t)=>(a("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(a("w"),Reflect.ownKeys(e))},i&&(l.set=l.deleteProperty=()=>!1),(d=[l,s])[1].p=new Proxy(h||c,d[0]),r&&r.set(c,d)),d[1].a=t,d[1].c=r,d[1].t=n,d[1].p},tl=(e,t,r,n)=>{if(Object.is(e,t))return!1;if(!ts(e)||!ts(t))return!0;let i=r.get(to(e));if(!i)return!0;if(n){let r=n.get(e);if(r&&r.n===t)return r.g;n.set(e,{n:t,g:!1})}let s=null;try{for(let r of i.h||[])if(s=Reflect.has(e,r)!==Reflect.has(t,r))return s;if(!0===i.w){let r,n;if(r=Reflect.ownKeys(e),n=Reflect.ownKeys(t),s=r.length!==n.length||r.some((e,t)=>e!==n[t]))return s}else for(let r of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r))return s;for(let o of i.k||[])if(s=tl(e[o],t[o],r,n))return s;return null===s&&(s=!0),s}finally{n&&n.set(e,{n:t,g:s})}},tu=e=>ti(e)&&e[tt]||null,tc=(e,t=!0)=>{tn.set(e,t)},th={get url(){return`file://${e.P("node_modules/.pnpm/valtio@1.12.0_@types+react@18.3.3_react@18.3.1/node_modules/valtio/esm/vanilla.mjs")}`}},td=e=>"object"==typeof e&&null!==e,tp=new WeakMap,tf=new WeakSet,tg=(e=Object.is,t=(e,t)=>new Proxy(e,t),r=e=>td(e)&&!tf.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),n=e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},i=new WeakMap,s=(e,t,r=n)=>{let o=i.get(e);if((null==o?void 0:o[0])===t)return o[1];let a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return tc(a,!0),i.set(e,[t,a]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(a,t))return;let n=Reflect.get(e,t),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,t),o={value:n,enumerable:i,configurable:!0};if(tf.has(n))tc(n,!1);else if(n instanceof Promise)delete o.value,o.get=()=>r(n);else if(tp.has(n)){let[e,t]=tp.get(n);o.value=s(e,t(),r)}Object.defineProperty(a,t,o)}),Object.preventExtensions(a)},o=new WeakMap,a=[1,1],l=n=>{if(!td(n))throw Error("object required");let i=o.get(n);if(i)return i;let u=a[0],c=new Set,h=(e,t=++a[0])=>{u!==t&&(u=t,c.forEach(r=>r(e,t)))},d=a[1],p=(e=++a[1])=>(d===e||c.size||(d=e,g.forEach(([t])=>{let r=t[1](e);r>u&&(u=r)})),u),f=e=>(t,r)=>{let n=[...t];n[1]=[e,...n[1]],h(n,r)},g=new Map,v=(e,t)=>{if((th.env?th.env.MODE:void 0)!=="production"&&g.has(e))throw Error("prop listener already exists");if(c.size){let r=t[3](f(e));g.set(e,[t,r])}else g.set(e,[t])},_=e=>{var t;let r=g.get(e);r&&(g.delete(e),null==(t=r[1])||t.call(r))},m=e=>{c.add(e),1===c.size&&g.forEach(([e,t],r)=>{if((th.env?th.env.MODE:void 0)!=="production"&&t)throw Error("remove already exists");let n=e[3](f(r));g.set(r,[e,n])});let t=()=>{c.delete(e),0===c.size&&g.forEach(([e,t],r)=>{t&&(t(),g.set(r,[e]))})};return t},y=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),b={deleteProperty(e,t){let r=Reflect.get(e,t);_(t);let n=Reflect.deleteProperty(e,t);return n&&h(["delete",[t],r]),n},set(t,n,i,s){let a=Reflect.has(t,n),u=Reflect.get(t,n,s);if(a&&(e(u,i)||o.has(i)&&e(u,o.get(i))))return!0;_(n),td(i)&&(i=tu(i)||i);let c=i;if(i instanceof Promise)i.then(e=>{i.status="fulfilled",i.value=e,h(["resolve",[n],e])}).catch(e=>{i.status="rejected",i.reason=e,h(["reject",[n],e])});else{!tp.has(i)&&r(i)&&(c=l(i));let e=!tf.has(c)&&tp.get(c);e&&v(n,e)}return Reflect.set(t,n,c,s),h(["set",[n],i,u]),!0}},E=t(y,b);o.set(n,E);let S=[y,p,s,m];return tp.set(E,S),Reflect.ownKeys(n).forEach(e=>{let t=Object.getOwnPropertyDescriptor(n,e);"value"in t&&(E[e]=n[e],delete t.value,delete t.writable),Object.defineProperty(y,e,t)}),E})=>[l,tp,tf,e,t,r,n,i,s,o,a],[tv]=tg();function t_(e={}){return tv(e)}function tm(e){let t=tp.get(e);return null==t?void 0:t[1]()}function ty(e,t,r){let n,i=tp.get(e);(th.env?th.env.MODE:void 0)==="production"||i||console.warn("Please use proxy object");let s=[],o=i[3],a=!1,l=o(e=>{(s.push(e),r)?t(s.splice(0)):n||(n=Promise.resolve().then(()=>{n=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function tb(e,t){let r=tp.get(e);(th.env?th.env.MODE:void 0)==="production"||r||console.warn("Please use proxy object");let[n,i,s]=r;return s(n,i(),t)}function tE(e){return tf.add(e),e}e.s(["getVersion",()=>tm,"proxy",()=>t_,"ref",()=>tE,"snapshot",()=>tb,"subscribe",()=>ty,"unstable_buildProxyFunction",()=>tg],991435);var tS=e.i(605988);let tw={get url(){return`file://${e.P("node_modules/.pnpm/valtio@1.12.0_@types+react@18.3.3_react@18.3.1/node_modules/valtio/esm/react.mjs")}`}},{use:tO}=s.default,{useSyncExternalStore:tx}=tS.default,tT=new WeakMap;function tR(e,t){let r,n=null==t?void 0:t.sync,i=(0,s.useRef)(),o=(0,s.useRef)(),a=!0,l=tx((0,s.useCallback)(t=>{let r=ty(e,t,n);return t(),r},[e,n]),()=>{let t=tb(e,tO);try{if(!a&&i.current&&o.current&&!tl(i.current,t,o.current,new WeakMap))return i.current}catch(e){}return t},()=>tb(e,tO));a=!1;let u=new WeakMap;return(0,s.useEffect)(()=>{i.current=l,o.current=u}),(tw.env?tw.env.MODE:void 0)!=="production"&&(r=(0,s.useRef)(),(0,s.useEffect)(()=>{let e,t,n;e=[],t=new WeakSet,(n=(r,i)=>{if(t.has(r))return;ts(r)&&t.add(r);let s=ts(r)&&u.get(to(r));if(s){var o,a,l;if(null==(o=s.h)||o.forEach(t=>{let r=`:has(${String(t)})`;e.push(i?[...i,r]:[r])}),!0===s.w){let t=":ownKeys";e.push(i?[...i,t]:[t])}else null==(l=s.o)||l.forEach(t=>{let r=`:hasOwn(${String(t)})`;e.push(i?[...i,r]:[r])});null==(a=s.k)||a.forEach(e=>{"value"in(Object.getOwnPropertyDescriptor(r,e)||{})&&n(r[e],i?[...i,e]:[e])})}else i&&e.push(i)})(l),r.current=e}),(0,s.useDebugValue)(r.current)),ta(l,u,(0,s.useMemo)(()=>new WeakMap,[]),tT)}e.s(["useSnapshot",()=>tR],416785),e.s(["CLIENT_LIBRARIES",0,[{language:"JavaScript",key:"javascript",is_officially_supported:!0,libraries:[{name:"supabase-js",url:"https://github.com/supabase/supabase-js"},{name:"postgrest-js",url:"https://github.com/supabase/supabase-js/tree/master/packages/core/postgrest-js"},{name:"auth-js",url:"https://github.com/supabase/supabase-js/tree/master/packages/core/auth-js"},{name:"realtime-js",url:"https://github.com/supabase/supabase-js/tree/master/packages/core/realtime-js"},{name:"storage-js",url:"https://github.com/supabase/supabase-js/tree/master/packages/core/storage-js"},{name:"functions-js",url:"https://github.com/supabase/supabase-js/tree/master/packages/core/functions-js"}]},{language:"C#",key:"csharp",is_officially_supported:!1,libraries:[{name:"supabase-csharp",url:"https://github.com/supabase-community/supabase-csharp"},{name:"postgrest-csharp",url:"https://github.com/supabase-community/postgrest-csharp"},{name:"gotrue-csharp",url:"https://github.com/supabase-community/gotrue-csharp"},{name:"realtime-csharp",url:"https://github.com/supabase-community/realtime-csharp"},{name:"storage-csharp",url:"https://github.com/supabase-community/storage-csharp"},{name:"functions-csharp",url:"https://github.com/supabase-community/functions-csharp"}]},{language:"Dart (Flutter)",key:"dart",is_officially_supported:!1,libraries:[{name:"supabase-flutter",url:"https://github.com/supabase-community/supabase-flutter"},{name:"supabase-dart",url:"https://github.com/supabase-community/supabase-dart"},{name:"postgrest-dart",url:"https://github.com/supabase-community/postgrest-dart"},{name:"gotrue-dart",url:"https://github.com/supabase-community/gotrue-dart"},{name:"realtime-dart",url:"https://github.com/supabase-community/realtime-dart"},{name:"storage-dart",url:"https://github.com/supabase-community/storage-dart"},{name:"functions-dart",url:"https://github.com/supabase-community/functions-dart"}]},{language:"Go",key:"go",is_officially_supported:!1,libraries:[{name:"postgrest-go",url:"https://github.com/supabase-community/postgrest-go"},{name:"storage-go",url:"https://github.com/supabase-community/storage-go"},{name:"functions-go",url:"https://github.com/supabase-community/functions-go"}]},{language:"Java",key:"java",is_officially_supported:!1,libraries:[{name:"gotrue-java",url:"https://github.com/supabase-community/gotrue-java"}]},{language:"Kotlin",key:"kotlin",is_officially_supported:!1,libraries:[{name:"postgrest-kt",url:"https://github.com/supabase-community/supabase-kt/tree/master/Postgrest"},{name:"auth-kt",url:"https://github.com/supabase-community/supabase-kt/tree/master/Auth"},{name:"storage-kt",url:"https://github.com/supabase-community/supabase-kt/tree/master/Storage"},{name:"realtime-kt",url:"https://github.com/supabase-community/supabase-kt/tree/master/Realtime"},{name:"functions-kt",url:"https://github.com/supabase-community/supabase-kt/tree/master/Functions"}]},{language:"Python",key:"python",is_officially_supported:!0,libraries:[{name:"supabase-py",url:"https://github.com/supabase/supabase-py"},{name:"postgrest-py",url:"https://github.com/supabase/postgrest-py"},{name:"gotrue-py",url:"https://github.com/supabase/gotrue-py"},{name:"realtime-py",url:"https://github.com/supabase/realtime-py"},{name:"storage-py",url:"https://github.com/supabase/storage-py"},{name:"functions-py",url:"https://github.com/supabase/functions-py"}]},{language:"Ruby",key:"ruby",is_officially_supported:!1,libraries:[{name:"supabase-ruby",url:"https://github.com/supabase-community/supabase-rb"},{name:"postgrest-ruby",url:"https://github.com/supabase-community/postgrest-rb"}]},{language:"Rust",key:"rust",is_officially_supported:!1,libraries:[{name:"postgrest-rs",url:"https://github.com/supabase-community/postgrest-rs"}]},{language:"Swift",key:"swift",is_officially_supported:!1,libraries:[{name:"supabase-swift",url:"https://github.com/supabase/supabase-swift"},{name:"postgrest-swift",url:"https://github.com/supabase-community/postgrest-swift"},{name:"gotrue-swift",url:"https://github.com/supabase-community/gotrue-swift"},{name:"realtime-swift",url:"https://github.com/supabase-community/realtime-swift"},{name:"storage-swift",url:"https://github.com/supabase-community/storage-swift"}]},{language:"Godot Engine (GDScript)",key:"gdscript",is_officially_supported:!1,libraries:[{name:"supabase-gdscript",url:"https://github.com/supabase-community/godot-engine.supabase"},{name:"postgrest-gdscript",url:"https://github.com/supabase-community/postgrest-gdscript"},{name:"gotrue-gdscript",url:"https://github.com/supabase-community/gotrue-gdscript"},{name:"realtime-gdscript",url:"https://github.com/supabase-community/realtime-gdscript"},{name:"storage-gdscript",url:"https://github.com/supabase-community/storage-gdscript"},{name:"functions-gdscript",url:"https://github.com/supabase-community/functions-gdscript"}]}]],24970);let tI="true"===g.default.env.NEXT_PUBLIC_IS_PLATFORM,tA="production"===g.default.env.NEXT_PUBLIC_VERCEL_ENV;e.s(["IS_PLATFORM",0,tI,"IS_PROD",0,tA],86086),e.s([],688894);let tC=t_({UC:null,categories:null,showConsentToast:!1,hasConsented:!1,acceptAll:()=>{if(!tC.UC)return;let e=tC.hasConsented;tC.hasConsented=!0,tC.showConsentToast=!1,tC.UC.acceptAllServices().then(()=>{tC.categories=tC.UC?.getCategoriesBaseInfo()??null}).catch(()=>{tC.hasConsented=e,tC.showConsentToast=!0})},denyAll:()=>{if(!tC.UC)return;let e=tC.hasConsented;tC.hasConsented=!1,tC.showConsentToast=!1,tC.UC.denyAllServices().then(()=>{tC.categories=tC.UC?.getCategoriesBaseInfo()??null}).catch(()=>{tC.showConsentToast=e})},updateServices:e=>{tC.UC&&(tC.showConsentToast=!1,tC.UC.updateServices(e).then(()=>{tC.hasConsented=tC.UC?.areAllConsentsAccepted()??!1,tC.categories=tC.UC?.getCategoriesBaseInfo()??null}).catch(()=>{tC.showConsentToast=!0}))}});function tk(){return tb(tC).hasConsented}function tP(){let e=tR(tC);return{hasAccepted:e.hasConsented,categories:e.categories,acceptAll:e.acceptAll,denyAll:e.denyAll,updateServices:e.updateServices}}(async function t(){if(!tI)return;if("local"===g.default.env.NEXT_PUBLIC_ENVIRONMENT||"staging"===g.default.env.NEXT_PUBLIC_ENVIRONMENT){tC.hasConsented=!0;return}let{default:t}=await e.A(111410),r=new t(g.default.env.NEXT_PUBLIC_USERCENTRICS_RULESET_ID,{rulesetId:g.default.env.NEXT_PUBLIC_USERCENTRICS_RULESET_ID,useRulesetId:!0}),n=await r.init();tC.UC=r;let i=r.areAllConsentsAccepted();tC.showConsentToast=0===n.initialLayer,tC.hasConsented=i,tC.categories=r.getCategoriesBaseInfo(),i||localStorage?.getItem(o.TELEMETRY_CONSENT)!=="true"||(tC.acceptAll(),localStorage.removeItem(o.TELEMETRY_CONSENT))})(),e.s(["consentState",0,tC,"hasConsented",()=>tk,"useConsentState",()=>tP],10642);let tN=Object.entries(e.i(413446).default).filter(([e,t])=>!t).map(([e])=>e);function tj(e){return e.replace(/:/g,"_").split("_").map((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1)).join("")}function tL(e,t){if("true"===g.default.env.ENABLED_FEATURES_OVERRIDE_DISABLE_ALL)return!!Array.isArray(e)&&Object.fromEntries(e.map(e=>[tj(e),!1]));let r=new Set([...t??[],...tN]);return Array.isArray(e)?Object.fromEntries(e.map(e=>[tj(e),!r.has(e)])):!r.has(e)}function tD({values:e}){return s.default.createElement("script",{type:"application/json","data-flag-values":!0,dangerouslySetInnerHTML:{__html:JSON.stringify(e,void 0,void 0).replace(/</g,"\\u003c")}})}async function tF(e,t={}){let{headers:r,...n}=t,i=await f();return fetch(e,{method:"GET",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",...i&&{Authorization:`Bearer ${i}`},...r}),credentials:"include",referrerPolicy:"no-referrer-when-downgrade",...n}).then(e=>e.json()).catch(e=>{throw e})}async function tM(e,t,r={}){let{headers:n,...i}=r,s=await f();return fetch(e,{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",...s&&{Authorization:`Bearer ${s}`},...n}),credentials:"include",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t),...i}).catch(e=>{throw e})}function t$(e){return e.endsWith("/platform")?e:`${e}/platform`}function tU(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!==e&&"object"==typeof e&&null!==e&&"current"in e&&(e.current=t)})}}async function tq(e){try{return await tF(`${t$(e)}/telemetry/feature-flags`)}catch(e){throw e.message.includes("Failed to fetch")&&console.error("Failed to fetch PH flags: API is not available"),e}}e.s(["isFeatureEnabled",()=>tL],67818),window.matchMedia("(prefers-reduced-motion: reduce)"),e.s(["ensurePlatformSuffix",()=>t$,"isBrowser",0,!0,"mergeRefs",()=>tU],117672);let tH=(0,s.createContext)({API_URL:void 0,configcat:{},posthog:{},hasLoaded:!1}),tB=()=>(0,s.useContext)(tH);function tV(e){let t=tB().configcat;return 0!==Object.keys(t).length&&(void 0===t[e]?(console.error(`Flag key "${e}" does not exist in ConfigCat flag store`),!1):t[e])}e.s(["FeatureFlagContext",0,tH,"FeatureFlagProvider",0,({API_URL:e,enabled:t=!0,getConfigCatFlags:r,children:n})=>{let{session:o,isLoading:a}=d(),l=o?.user?.email,[u,c]=(0,s.useState)({API_URL:e,configcat:{},posthog:{},hasLoaded:!1});return(0,s.useEffect)(()=>{let n=!0;return async function(){if(!t||a)return;let i=(!0===t||"object"==typeof t&&t.ph)&&!!e,s=!0===t||"object"==typeof t&&t.cc,o={configcat:{},posthog:{}},[u,h]=await Promise.all([i?tq(e):Promise.resolve({}),s?"function"==typeof r?r(l):e7(l):Promise.resolve([])]);if(Object.keys(u).length>0&&(o.posthog=u),h.length>0){let e={};try{let t=function(){let e=document.cookie.split(";"),t={};for(var r=0;r<e.length;r++){var[n,i]=e[r].split("=");t[n.trim()]=unescape(i)}return t}();e=JSON.parse(t["vercel-flag-overrides"])}catch{}h.forEach(t=>{o.configcat[t.settingKey]=e[t.settingKey]??(null===t.settingValue?null:t.settingValue??!1)})}o.hasLoaded=!0,n&&c(o)}(),()=>{n=!1}},[t,a,l]),(0,i.jsxs)(tH.Provider,{value:u,children:[(0,i.jsx)(tD,{values:u.configcat}),n]})},"useFeatureFlags",0,tB,"useFlag",()=>tV],657588);var tW="undefined"!=typeof window,tz=tW?s.useLayoutEffect:s.useEffect;let tG=function(e){(0,s.useEffect)(e,[])},tK=function(e){var t=(0,s.useRef)(e);t.current=e,tG(function(){return function(){return t.current()}})},tY=function(e){var t=(0,s.useRef)(0),r=(0,s.useState)(e),n=r[0],i=r[1],o=(0,s.useCallback)(function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(e)})},[]);return tK(function(){cancelAnimationFrame(t.current)}),[n,o]},tJ=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var r=tY({width:tW?window.innerWidth:e,height:tW?window.innerHeight:t}),n=r[0],i=r[1];return(0,s.useEffect)(function(){if(tW){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return!function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}},[]),n};e.s(["useWindowSize",0,tJ],625665);let tX={sm:639,md:767,lg:1023,xl:1279,"2xl":1535};function tZ(e="lg"){let[t,r]=(0,s.useState)(!1),{width:n}=tJ(),i="string"==typeof e?tX[e]:e;return tz(()=>{n<=i?r(!0):r(!1)},[n]),t}function tQ(e){let t=(0,s.useRef)();return t.current||(t.current={v:e()}),t.current.v}e.s(["useBreakpoint",()=>tZ],232107),e.s(["useConstant",()=>tQ],298650);var t0=e.i(91763);e.s(["useDebounce",0,(e,t=1e3)=>{let r=(0,s.useRef)();return(0,s.useEffect)(()=>{r.current=e},[e]),(0,s.useMemo)(()=>(0,t0.default)(()=>{r.current?.()},t),[])}],667938);var t1=e.i(240987),t2=e.i(605031);let t3="https://xguihxuzqibwxjnimxev.supabase.co",t5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE";var t4=((ij=t4||{}).Markdown="markdown",ij.Reference="reference",ij.Integration="partner-integration",ij.GithubDiscussion="github-discussions",ij);function t6(e){if("object"!=typeof e||null===e||!("id"in e&&"path"in e&&"type"in e&&"title"in e))return null;let t=[];return"headings"in e&&Array.isArray(e.headings)&&"slugs"in e&&Array.isArray(e.slugs)&&e.headings.length===e.slugs.length&&e.headings.forEach((r,n)=>{let i=e.slugs[n];r&&i&&t.push({heading:r,slug:i})}),{id:e.id,path:e.path,type:e.type,title:e.title,subtitle:"subtitle"in e?e.subtitle:null,description:"description"in e?e.description:null,sections:t}}function t8(e,t){if(e.key>t.key)return e;switch(t.type){case"resultsReturned":let r=2===t.sourcesLoaded,n=(0,t1.default)(t.results.map(t6)),i="partialResults"===e.status&&e.key===t.key?(0,t2.default)(e.results.concat(n),e=>e.id):n;if(!i.length)return r?{status:"noResults",key:t.key}:{status:"loading",key:t.key,staleResults:"results"in e?e.results:"staleResults"in e?e.staleResults:[]};return r?{status:"fullResults",key:t.key,results:i}:{status:"partialResults",key:t.key,results:i};case"newSearchDispatched":return{status:"loading",key:t.key,staleResults:"results"in e?e.results:"staleResults"in e?e.staleResults:[]};case"reset":return{status:"initial",key:t.key};case"errored":if(2===t.sourcesLoaded&&!("results"in e))return{status:"error",key:t.key,message:t.message};return e;default:return e}}let t9=()=>{let[e,t]=(0,s.useReducer)(t8,{status:"initial",key:0}),r=(0,s.useRef)(0),n=(0,s.useCallback)(async e=>{r.current+=1;let n=r.current;t({type:"newSearchDispatched",key:n});let i=0,s=!tL("search:fullIndex");fetch(`${t3}/rest/v1/rpc/${s?"docs_search_fts_nimbus":"docs_search_fts"}`,{method:"POST",headers:{"content-type":"application/json",...t5&&{apikey:t5,authorization:`Bearer ${t5}`}},body:JSON.stringify({query:e.trim()})}).then(e=>e.json()).then(e=>{i+=1,Array.isArray(e)?t({type:"resultsReturned",key:n,sourcesLoaded:i,results:e}):t({type:"errored",key:n,sourcesLoaded:i,message:e?.message??""})}).catch(e=>{i+=1,console.error(`[ERROR] Error fetching Full Text Search results: ${e}`),t({type:"errored",key:n,sourcesLoaded:i,message:""})}),fetch(`${t3}/functions/v1/search-embeddings`,{method:"POST",body:JSON.stringify({query:e,useAlternateSearchIndex:s})}).then(e=>e.json()).then(e=>{if(!Array.isArray(e))throw Error("didn't get expected results array");t({type:"resultsReturned",key:n,sourcesLoaded:i+=1,results:e})}).catch(e=>{t({type:"errored",key:n,sourcesLoaded:i+=1,message:e.message??""})})},[]),i=(0,s.useMemo)(()=>(0,t0.default)(n,150),[n]);return{searchState:e,handleDocsSearch:n,handleDocsSearchDebounced:i,resetSearch:(0,s.useCallback)(()=>{r.current+=1,t({type:"reset",key:r.current})},[])}};e.s(["DocsSearchResultType",()=>t4,"useDocsSearch",()=>t9],727095),e.s(["default",0,({onClose:e,threshold:t=100})=>{let[r,n]=s.default.useState(0),[i,o]=s.default.useState(0),a=s.default.useRef(null),l=(0,s.useCallback)(e=>{n(e.touches[0].clientY)},[n]),u=(0,s.useCallback)(e=>{o(e.touches[0].clientY);let t=i-r;t>0&&a.current&&(a.current.style.transform=`translateY(${t}px)`)},[o,r,i]),c=(0,s.useCallback)(()=>{i-r>t?e():a.current&&(a.current.style.transform="translateY(0)"),n(0),o(0)},[n,o,r,i]);return{ref:a,handleTouchStart:l,handleTouchMove:u,handleTouchEnd:c}}],622833),"undefined"!=typeof document?s.useLayoutEffect:s.useEffect;var t7=e.i(359512);function re(){let e=(0,t7.useRouter)(),t=e?.query,r={...t};return Object.keys(r).forEach(e=>{let t=e.includes("-")?e.split("-").map((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1)).join(""):e;t!==e&&(r[t]=r[e],delete r[e])}),(0,s.useMemo)(()=>Object.fromEntries(Object.entries(r).map(([e,t])=>Array.isArray(t)?[e,t[0]]:[e,t])),[t])}e.s(["useParams",()=>re],158639);let rt=()=>{let e="supabase.events.packages.common.useSearchParamsShallow",t=(0,s.useId)(),r=(0,s.useRef)(),n=(0,s.useCallback)((n,i)=>(clearTimeout(r.current),"ext"===i.target&&(r.current=setTimeout(()=>{document.dispatchEvent(new CustomEvent(e,{detail:{id:t}}))})),i.newParams),[t]);(0,s.useEffect)(()=>()=>clearTimeout(r.current),[]);let[i,o]=(0,s.useReducer)(n,void 0,()=>new URLSearchParams);(0,s.useEffect)(()=>{let r=e=>{e.detail.id!==t&&o({target:"int",newParams:new URLSearchParams(window.location.search)})};return document.addEventListener(e,r),()=>document.removeEventListener(e,r)},[t]),(0,s.useEffect)(()=>{o({target:"int",newParams:new URLSearchParams(window.location.search)})},[]);let a=(0,s.useCallback)(e=>i.has(e),[i]),l=(0,s.useCallback)(e=>i.get(e),[i]),u=(0,s.useCallback)(e=>i.getAll(e),[i]),c=(0,s.useCallback)((e,t)=>{let r=new URL(window.location.href);r.searchParams.set(e,t),window.history.replaceState(null,"",r),o({target:"ext",newParams:r.searchParams})},[]),h=(0,s.useCallback)((e,t)=>{let r=new URL(window.location.href);r.searchParams.append(e,t),window.history.replaceState(null,"",r),o({target:"ext",newParams:r.searchParams})},[]),d=(0,s.useCallback)(e=>{let t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState(null,"",t),o({target:"ext",newParams:t.searchParams})},[]);return(0,s.useMemo)(()=>({has:a,get:l,getAll:u,append:h,set:c,delete:d}),[a,l,u,h,c,d])};function rr(){if(!tA)return"path=/; SameSite=Lax";let e=window.location.hostname;return"supabase.com"===e||e.endsWith(".supabase.com")?"path=/; domain=supabase.com; SameSite=Lax":"path=/; SameSite=Lax"}function rn(){document.cookie=`${o.TELEMETRY_DATA}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; max-age=0; ${rr()}`}function ri(e){let t=function(){try{let e=document.cookie.split(";").find(e=>e.trim().startsWith("ph_"));if(e){let t=decodeURIComponent(e.split("=")[1]),r=JSON.parse(t);if(r.$sesid&&Array.isArray(r.$sesid)&&r.$sesid[1])return r.$sesid[1]}}catch(e){console.warn("Could not extract PostHog session ID:",e)}return null}();return{page_url:(()=>{try{let e=new URL(window.location.href);return e.hash="",e.href}catch{return window.location.href.split("#")[0]}})(),page_title:document?.title,pathname:e||window.location.pathname,session_id:t,ph:{referrer:document?.referrer,language:navigator.language??"en-US",user_agent:navigator.userAgent,search:window.location.search,viewport_height:window.innerHeight,viewport_width:window.innerWidth}}}e.s(["useSearchParamsShallow",()=>rt],212591),e.s(["clearTelemetryDataCookie",()=>rn,"getSharedTelemetryData",()=>ri,"getTelemetryCookieOptions",()=>rr],102101);let rs={"--brand-accent":"160deg 100% 50%","--brand-default":"159.9deg 100% 38.6%","--brand-600":"136deg 59.5% 70%","--brand-500":"160.4deg 100% 19.2%","--brand-400":"160.4deg 100% 9.6%","--brand-300":"158.4deg 100% 4.9%","--brand-200":"162deg 100% 2%","--border-stronger":"200deg 16.1% 22%","--border-strong":"200deg 16.5% 17.8%","--border-alternative":"200deg 16.4% 13.1%","--border-control":"200deg 10% 14%","--border-overlay":"200deg 20% 9%","--border-secondary":"200deg 21.6% 10%","--border-muted":"200deg 14.9% 9.2%","--border-default":"200deg 10% 11%","--background-muted":"200deg 9.1% 10.8%","--background-overlay-hover":"200deg 20% 11%","--background-overlay-default":"200deg 14.3% 6.9%","--background-surface-300":"200deg 20% 10%","--background-surface-200":"200deg 20% 7%","--background-surface-100":"200deg 20% 6%","--background-control":"200deg 9% 11%","--background-selection":"200deg 9.8% 10%","--background-alternative":"200deg 20% 2.9%","--background-default":"200deg 20% 4%","--foreground-muted":"200deg 10% 35%","--foreground-lighter":"200deg 8% 55%","--foreground-light":"200deg 5% 69%","--foreground-default":"200deg 0% 93%"};e.s(["useThemeSandbox",0,()=>{if(tA)return null;let t=window.location.hash,r=localStorage.getItem("theme-sandbox"),n=t.includes("#theme-sandbox")||null!==r,[i,o]=(0,s.useState)(r?JSON.parse(r):rs),a=document.querySelector(":root"),l=(e,t)=>{u(),o(r=>({...r,[e]:t}))},u=()=>{Object.entries(i).map(([e,t])=>a.style.setProperty(e,t)),localStorage.setItem("theme-sandbox",JSON.stringify(i))},c=async()=>{if(!n)return;let t=new(await e.A(883471)).GUI;t.width=500,Object.entries(rs).map(([e,r])=>{if(!i[e])return localStorage.removeItem("theme-sandbox");let n=e.split("-")[2];return(t.__folders[n]??t.addFolder(n)).add(i,e).name(e).onChange(t=>{l(e,t)})});var r={"Apply Theme":function(){u()},"Exit Sandbox":function(){t.destroy()},"Reset localStorage":function(){localStorage.removeItem("theme-sandbox"),o(rs)}};t.add(r,"Apply Theme"),t.add(r,"Reset localStorage"),t.add(r,"Exit Sandbox"),t.load};return(0,s.useEffect)(()=>{c()},[]),{themeConfig:i,handleSetThemeConfig:l,isSandbox:n}}],656217),e.s([],69870);var ro=e.i(175452),ra=e.i(271226);let rl="1E1E1E",ru="/favicon";e.s(["default",0,({applicationName:e,route:t=ru,themeColor:r=rl,includeRssXmlFeed:n=!1,includeManifest:s=!1,includeMsApplicationConfig:o=!1})=>{let{basePath:a}=(0,ra.useRouter)();return(0,i.jsxs)(ro.default,{children:[(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"57x57",href:`${a}${t}/apple-icon-57x57.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"60x60",href:`${a}${t}/apple-icon-60x60.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"72x72",href:`${a}${t}/apple-icon-72x72.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"76x76",href:`${a}${t}/apple-icon-76x76.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"114x114",href:`${a}${t}/apple-icon-114x114.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"120x120",href:`${a}${t}/apple-icon-120x120.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"144x144",href:`${a}${t}/apple-icon-144x144.png`}),(0,i.jsx)("link",{rel:"apple-touch-icon-precomposed",sizes:"152x152",href:`${a}${t}/apple-icon-152x152.png`}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-16x16.png`,sizes:"16x16"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-32x32.png`,sizes:"32x32"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-48x48.png`,sizes:"48x48"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-96x96.png`,sizes:"96x96"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-128.png`,sizes:"128x128"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-180x180.png`,sizes:"180x180"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:`${a}${t}/favicon-196x196.png`,sizes:"196x196"}),(0,i.jsx)("meta",{name:"application-name",content:e??"&nbsp;"}),(0,i.jsx)("meta",{name:"msapplication-TileColor",content:`#${r}`}),(0,i.jsx)("meta",{name:"msapplication-TileImage",content:`${a}${t}/mstile-144x144.png`}),(0,i.jsx)("meta",{name:"msapplication-square70x70logo",content:`${a}${t}/mstile-70x70.png`}),(0,i.jsx)("meta",{name:"msapplication-square150x150logo",content:`${a}${t}/mstile-150x150.png`}),(0,i.jsx)("meta",{name:"msapplication-wide310x150logo",content:`${a}${t}/mstile-310x150.png`}),(0,i.jsx)("meta",{name:"msapplication-square310x310logo",content:`${a}${t}/mstile-310x310.png`}),(0,i.jsx)("meta",{name:"theme-color",content:`#${r}`}),(0,i.jsx)("link",{rel:"shortcut icon",href:`${a}${t}/favicon.ico`}),(0,i.jsx)("link",{rel:"icon",type:"image/x-icon",href:`${a}${t}/favicon.ico`}),(0,i.jsx)("link",{rel:"apple-touch-icon",href:`${a}${t}/favicon.ico`}),n&&(0,i.jsx)("link",{rel:"alternate",type:"application/rss+xml",href:`${a}/feed.xml`}),s&&(0,i.jsx)("link",{rel:"manifest",href:`${a}${t}/manifest.json`}),o&&(0,i.jsx)("meta",{name:"msapplication-config",content:`${a}${t}/browserconfig.xml`})]})}],432553);var rc=e.i(896975);function rh({children:e,...t}){return(0,i.jsx)(rc.ThemeProvider,{themes:["dark","light"],defaultTheme:"dark",...t,children:e})}e.s(["ThemeProvider",()=>rh],751349);var rd=e.i(742251),rp=e.i(149231);let rf=function(e){var t=(0,s.useRef)(e);return t.current=e,t};e.s(["useLatest",0,rf],367905);var rg="undefined"!=typeof window?window:void 0,rv="undefined"!=typeof globalThis?globalThis:rg,r_=Array.prototype,rm=r_.forEach,ry=r_.indexOf,rb=null==rv?void 0:rv.navigator,rE=null==rv?void 0:rv.document,rS=null==rv?void 0:rv.location,rw=null==rv?void 0:rv.fetch,rO=null!=rv&&rv.XMLHttpRequest&&"withCredentials"in new rv.XMLHttpRequest?rv.XMLHttpRequest:void 0,rx=null==rv?void 0:rv.AbortController,rT=null==rb?void 0:rb.userAgent,rR=null!=rg?rg:{},rI={DEBUG:!1,LIB_VERSION:"1.257.2"},rA="$copy_autocapture",rC=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],rk=((iL={}).GZipJS="gzip-js",iL.Base64="base64",iL),rP=["fatal","error","warning","log","info","debug"];function rN(e,t){return -1!==e.indexOf(t)}var rj=function(e){return e.trim()},rL=function(e){return e.replace(/^\$/,"")},rD=Array.isArray,rF=Object.prototype,rM=rF.hasOwnProperty,r$=rF.toString,rU=rD||function(e){return"[object Array]"===r$.call(e)},rq=e=>"function"==typeof e,rH=e=>e===Object(e)&&!rU(e),rB=e=>{if(rH(e)){for(var t in e)if(rM.call(e,t))return!1;return!0}return!1},rV=e=>void 0===e,rW=e=>"[object String]"==r$.call(e),rz=e=>rW(e)&&0===e.trim().length,rG=e=>null===e,rK=e=>rV(e)||rG(e),rY=e=>"[object Number]"==r$.call(e),rJ=e=>"[object Boolean]"===r$.call(e),rX=e=>rN(rC,e),rZ=e=>{var t={t:function(t){if(rg&&(rI.DEBUG||rR.POSTHOG_DEBUG)&&!rV(rg.console)&&rg.console){for(var r=("__rrweb_original__"in rg.console[t])?rg.console[t].__rrweb_original__:rg.console[t],n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];r(e,...i)}},info:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("log",...r)},warn:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("warn",...r)},error:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("error",...r)},critical:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];console.error(e,...r)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>rZ(e+" "+t)};return t},rQ=rZ("[PostHog.js]"),r0=rQ.createLogger,r1=r0("[ExternalScriptsLoader]"),r2=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return r1.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=null==rE?void 0:rE.querySelectorAll("script");if(n){for(var i=0;i<n.length;i++)if(n[i].src===t)return r()}var s=()=>{if(!rE)return r("document not found");var n=rE.createElement("script");if(n.type="text/javascript",n.crossOrigin="anonymous",n.src=t,n.onload=e=>r(void 0,e),n.onerror=e=>r(e),e.config.prepare_external_dependency_script&&(n=e.config.prepare_external_dependency_script(n)),!n)return r("prepare_external_dependency_script returned null");var i,s=rE.querySelectorAll("body > script");s.length>0?null==(i=s[0].parentNode)||i.insertBefore(n,s[0]):rE.body.appendChild(n)};null!=rE&&rE.body?s():null==rE||rE.addEventListener("DOMContentLoaded",s)};function r3(){return(r3=Object.assign.bind()).apply(null,arguments)}function r5(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}rR.__PosthogExtensions__=rR.__PosthogExtensions__||{},rR.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;"remote-config"===t&&(n="/array/"+e.config.token+"/config.js"),"toolbar"===t&&(n=n+"&t="+3e5*Math.floor(Date.now()/3e5));var i=e.requestRouter.endpointFor("assets",n);r2(e,i,r)},rR.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);r2(e,n,r)};var r4={};function r6(e,t,r){if(rU(e)){if(rm&&e.forEach===rm)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===r4)return}}}function r8(e,t,r){if(!rK(e)){if(rU(e))return r6(e,t,r);if(e instanceof FormData){for(var n of e.entries())if(t.call(r,n[1],n[0])===r4)return}else for(var i in e)if(rM.call(e,i)&&t.call(r,e[i],i)===r4)return}}var r9=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r6(r,function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},r7=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r6(r,function(t){r6(t,function(t){e.push(t)})}),e};function ne(e){for(var t=Object.keys(e),r=t.length,n=Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var nt=function(e){try{return e()}catch(e){return}},nr=function(e){return function(){try{for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(e){rQ.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),rQ.critical(e)}}},nn=function(e){var t={};return r8(e,function(e,r){(rW(e)&&e.length>0||rY(e))&&(t[r]=e)}),t},ni=["herokuapp.com","vercel.app","netlify.app"];function ns(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function no(e,t,r,n){var{capture:i=!1,passive:s=!0}=null!=n?n:{};null==e||e.addEventListener(t,r,{capture:i,passive:s})}var na="$people_distinct_id",nl="__alias",nu="__timers",nc="$autocapture_disabled_server_side",nh="$heatmaps_enabled_server_side",nd="$exception_capture_enabled_server_side",np="$error_tracking_suppression_rules",nf="$web_vitals_enabled_server_side",ng="$dead_clicks_enabled_server_side",nv="$web_vitals_allowed_metrics",n_="$session_recording_enabled_server_side",nm="$console_log_recording_enabled_server_side",ny="$session_recording_network_payload_capture",nb="$session_recording_masking",nE="$session_recording_canvas_recording",nS="$replay_sample_rate",nw="$replay_minimum_duration",nO="$replay_script_config",nx="$sesid",nT="$session_is_sampled",nR="$session_recording_url_trigger_activated_session",nI="$session_recording_event_trigger_activated_session",nA="$enabled_feature_flags",nC="$early_access_features",nk="$feature_flag_details",nP="$stored_person_properties",nN="$stored_group_properties",nj="$surveys",nL="$surveys_activated",nD="$flag_call_reported",nF="$user_state",nM="$client_session_props",n$="$capture_rate_limit",nU="$initial_campaign_params",nq="$initial_referrer_info",nH="$initial_person_info",nB="$epp",nV="__POSTHOG_TOOLBAR__",nW="$posthog_cookieless",nz=[na,nl,"__cmpns",nu,n_,nh,nx,nA,np,nF,nC,nk,nN,nP,nj,nD,nM,n$,nU,nq,nB,nH];function nG(e){return e instanceof Element&&(e.id===nV||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function nK(e){return!!e&&1===e.nodeType}function nY(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function nJ(e){return!!e&&3===e.nodeType}function nX(e){return!!e&&11===e.nodeType}function nZ(e){return e?rj(e).split(/\s+/):[]}function nQ(e){var t=null==rg?void 0:rg.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function n0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return nZ(t)}function n1(e){return rK(e)?null:rj(e).split(/(\s+)/).filter(e=>is(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function n2(e){var t="";return n6(e)&&!n8(e)&&e.childNodes&&e.childNodes.length&&r8(e.childNodes,function(e){var r;nJ(e)&&e.textContent&&(t+=null!=(r=n1(e.textContent))?r:"")}),rj(t)}function n3(e){var t;return rV(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}var n5=["a","button","form","input","select","textarea","label"];function n4(e){var t=e.parentNode;return!(!t||!nK(t))&&t}function n6(e){for(var t=e;t.parentNode&&!nY(t,"body");t=t.parentNode){var r=n0(t);if(rN(r,"ph-sensitive")||rN(r,"ph-no-capture"))return!1}if(rN(n0(e),"ph-include"))return!0;var n=e.type||"";if(rW(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(rW(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function n8(e){return!!(nY(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||nY(e,"select")||nY(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var n9="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",n7=RegExp("^(?:"+n9+")$"),ie=new RegExp(n9),it="\\d{3}-?\\d{2}-?\\d{4}",ir=RegExp("^("+it+")$"),ii=RegExp("("+it+")");function is(e,t){return void 0===t&&(t=!0),!(rK(e)||rW(e)&&(e=rj(e),(t?n7:ie).test((e||"").replace(/[- ]/g,""))||(t?ir:ii).test(e)))&&!0}function io(e){var t=n2(e);return is(t=(t+" "+function e(t){var r="";return t&&t.childNodes&&t.childNodes.length&&r8(t.childNodes,function(t){var n;if(t&&"span"===(null==(n=t.tagName)?void 0:n.toLowerCase()))try{var i=n2(t);r=(r+" "+i).trim(),t.childNodes&&t.childNodes.length&&(r=(r+" "+e(t)).trim())}catch(e){rQ.error("[AutoCapture]",e)}}),r}(e)).trim())?t:""}function ia(e){return e.replace(/"|\\"/g,'\\"')}class il{constructor(){this.clicks=[]}isRageClick(e,t,r){var n=this.clicks[this.clicks.length-1];if(n&&Math.abs(e-n.x)+Math.abs(t-n.y)<30&&r-n.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:r}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:r}];return!1}}var iu=["localhost","127.0.0.1"],ic=e=>{var t=null==rE?void 0:rE.createElement("a");return rV(t)?null:(t.href=e,t)},ih=function(e,t){void 0===t&&(t="&");var r,n,i=[];return r8(e,function(e,t){rV(e)||rV(t)||"undefined"===t||(r=encodeURIComponent(e instanceof File?e.name:e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r)}),i.join(t)},id=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!rU(r)||r.length<2)return"";var o=r[1];try{o=decodeURIComponent(o)}catch(e){rQ.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},ip=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],o=i.split("?"),a=o[1],l=o[0],u=(a||"").split("&"),c=[],h=0;h<u.length;h++){var d=u[h].split("=");rU(d)&&(t.includes(d[0])?c.push(d[0]+"="+r):c.push(u[h]))}var p=l;return null!=a&&(p+="?"+c.join("&")),null!=s&&(p+="#"+s),p},ig=function(e,t){var r=e.match(RegExp(t+"=([^&]*)"));return r?r[1]:null},iv=r0("[AutoCapture]");function i_(e,t){return t.length>e?t.slice(0,e)+"...":t}class im{constructor(e){this.i=!1,this.o=null,this.rageclicks=new il,this.h=!1,this.instance=e,this.m=null}get S(){var e,t,r=rH(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=null==(e=r.url_allowlist)?void 0:e.map(e=>new RegExp(e)),r.url_ignorelist=null==(t=r.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),r}$(){if(this.isBrowserSupported()){if(rg&&rE){var e=e=>{e=e||(null==rg?void 0:rg.event);try{this.k(e)}catch(e){iv.error("Failed to capture event",e)}};if(no(rE,"submit",e,{capture:!0}),no(rE,"change",e,{capture:!0}),no(rE,"click",e,{capture:!0}),this.S.capture_copied_text){var t=e=>{e=e||(null==rg?void 0:rg.event),this.k(e,rA)};no(rE,"copy",t,{capture:!0}),no(rE,"cut",t,{capture:!0})}}}else iv.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[nc]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var t,r=[];return null==(t=this.m)||t.forEach(t=>{var n=null==rE?void 0:rE.querySelectorAll(t);null==n||n.forEach(n=>{e===n&&r.push(t)})}),r}get isEnabled(){var e,t,r=null==(e=this.instance.persistence)?void 0:e.props[nc];if(rG(this.o)&&!rJ(r)&&!this.instance.I())return!1;var n=null!=(t=this.o)?t:!!r;return!!this.instance.config.autocapture&&!n}k(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var r,n=n3(e);nJ(n)&&(n=n.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.k(e,"$rageclick");var i=t===rA;if(n&&function(e,t,r,n,i){if(void 0===r&&(r=void 0),!rg||!e||nY(e,"html")||!nK(e)||null!=(s=r)&&s.url_allowlist&&!nQ(r.url_allowlist)||null!=(o=r)&&o.url_ignorelist&&nQ(r.url_ignorelist))return!1;if(null!=(a=r)&&a.dom_event_allowlist){var s,o,a,l=r.dom_event_allowlist;if(l&&!l.some(e=>t.type===e))return!1}for(var u=!1,c=[e],h=!0,d=e;d.parentNode&&!nY(d,"body");)if(nX(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(h=n4(d)))break;if(n||n5.indexOf(h.tagName.toLowerCase())>-1)u=!0;else{var p=rg.getComputedStyle(h);p&&"pointer"===p.getPropertyValue("cursor")&&(u=!0)}c.push(h),d=h}if(!function(e,t){var r=null==t?void 0:t.element_allowlist;if(rV(r))return!0;var n,i=function(e){if(r.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var s of e)if(n=i(s))return n.v;return!1}(c,r)||!function(e,t){var r=null==t?void 0:t.css_selector_allowlist;if(rV(r))return!0;var n,i=function(e){if(r.some(t=>e.matches(t)))return{v:!0}};for(var s of e)if(n=i(s))return n.v;return!1}(c,r))return!1;var f=rg.getComputedStyle(e);if(f&&"pointer"===f.getPropertyValue("cursor")&&"click"===t.type)return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return u?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(n5.indexOf(g)>-1||"true"===e.getAttribute("contenteditable"))}}(n,e,this.S,i,i?["copy","cut"]:void 0)){var{props:s,explicitNoCapture:o}=function(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=t,u=[e],c=e;c.parentNode&&!nY(c,"body");)nX(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var h,d=[],p={},f=!1,g=!1;if(r8(u,e=>{var t=n6(e);"a"===e.tagName.toLowerCase()&&(f=e.getAttribute("href"),f=t&&f&&is(f)&&f),rN(n0(e),"ph-no-capture")&&(g=!0),d.push(function(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};n5.indexOf(i)>-1&&!r&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?s.$el_text=i_(1024,io(e)):s.$el_text=i_(1024,n2(e)));var o=n0(e);o.length>0&&(s.classes=o.filter(function(e){return""!==e})),r8(e.attributes,function(r){var i;if((!n8(e)||-1!==["name","id","class","aria-label"].indexOf(r.name))&&(null==n||!n.includes(r.name))&&!t&&is(r.value)&&(!rW(i=r.name)||"_ngcontent"!==i.substring(0,10)&&"_nghost"!==i.substring(0,7))){var o=r.value;"class"===r.name&&(o=nZ(o).join(" ")),s["attr__"+r.name]=i_(1024,o)}});for(var a=1,l=1,u=e;u=function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!nK(t))return t}(u);)a++,u.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}(e,s,o,a)),r9(p,function(e){if(!n6(e))return{};var t={};return r8(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var r=e.name.replace("data-ph-capture-attribute-",""),n=e.value;r&&n&&is(n)&&(t[r]=n)}}),t}(e))}),g)return{props:{},explicitNoCapture:g};if(o||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?d[0].$el_text=io(e):d[0].$el_text=n2(e)),f){d[0].attr__href=f;var v,_,m=null==(v=ic(f))?void 0:v.host,y=null==rg||null==(_=rg.location)?void 0:_.host;m&&y&&m!==y&&(h=f)}return{props:r9({$event_type:i.type,$ce_version:1},l?{}:{$elements:d},{$elements_chain:d.map(e=>{var t,r,n,i={text:null==(r=e.$el_text)?void 0:r.slice(0,400),tag_name:e.tag_name,href:null==(n=e.attr__href)?void 0:n.slice(0,2048),attr_class:(t=e.attr__class)?rU(t)?t:nZ(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return ne(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,r]=e;return i.attributes[t]=r}),i}).map(e=>{var t,r,n="";if(e.tag_name&&(n+=e.tag_name),e.attr_class)for(var i of(e.attr_class.sort(),e.attr_class))n+="."+i.replace(/"/g,"");var s=r3({},e.text?{text:e.text}:{},{"nth-child":null!=(t=e.nth_child)?t:0,"nth-of-type":null!=(r=e.nth_of_type)?r:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),o={};return ne(s).sort((e,t)=>{var[r]=e,[n]=t;return r.localeCompare(n)}).forEach(e=>{var[t,r]=e;return o[ia(t.toString())]=ia(r.toString())}),n+=":",n+=ne(o).map(e=>{var[t,r]=e;return t+'="'+r+'"'}).join("")}).join(";")},null!=(r=d[0])&&r.$el_text?{$el_text:null==(n=d[0])?void 0:n.$el_text}:{},h&&"click"===i.type?{$external_click_url:h}:{},p)}}(n,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(o)return!1;var a=this.getElementSelectors(n);if(a&&a.length>0&&(s.$element_selectors=a),t===rA){var l,u=n1(null==rg||null==(l=rg.getSelection())?void 0:l.toString()),c=e.type||"clipboard";if(!u)return!1;s.$selected_content=u,s.$copy_type=c}return this.instance.capture(t,s),!0}}}isBrowserSupported(){return rq(null==rE?void 0:rE.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return rY(e)&&isFinite(e)&&Math.floor(e)===e});var iy="0123456789abcdef";class ib{constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,n){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||e<0||t<0||r<0||n<0||e>0xffffffffffff||t>4095||r>0x3fffffff||n>0xffffffff)throw RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/0x10000000000,i[1]=e/0x100000000,i[2]=e/0x1000000,i[3]=e/65536,i[4]=e/256,i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=n>>>24,i[13]=n>>>16,i[14]=n>>>8,i[15]=n,new ib(i)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+iy.charAt(this.bytes[t]>>>4)+iy.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}clone(){return new ib(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var r=this.bytes[t]-e.bytes[t];if(0!==r)return Math.sign(r)}return 0}}class iE{constructor(){this.P=0,this.R=0,this.T=new so}generate(){var e=this.generateOrAbort();if(rV(e)){this.P=0;var t=this.generateOrAbort();if(rV(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.M();else{if(!(e+1e4>this.P))return;this.R++,this.R>0x3ffffffffff&&(this.P++,this.M())}return ib.fromFieldsV7(this.P,Math.trunc(this.R/0x40000000),0x3fffffff&this.R,this.T.nextUint32())}M(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}}var iS,iw,iO,ix,iT,iR,iI,iA,iC,ik,iP,iN,ij,iL,iD,iF,iM,i$,iU,iq,iH,iB,iV,iW,iz,iG,iK,iY,iJ,iX,iZ,iQ,i0,i1,i2,i3,i5,i4,i6,i8,i9,i7,se,st,sr,sn,si,ss=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};rg&&!rV(rg.crypto)&&crypto.getRandomValues&&(ss=e=>crypto.getRandomValues(e));class so{constructor(){this.C=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.C.length&&(ss(this.C),this.F=0),this.C[this.F++]}}var sa=()=>sl().toString(),sl=()=>(si||(si=new iE)).generate(),su="",sc=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,sh={O:()=>!!rE,A:function(e){rQ.error("cookieStore error: "+e)},D:function(e){if(rE){try{for(var t=e+"=",r=rE.cookie.split(";").filter(e=>e.length),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},L:function(e){var t;try{t=JSON.parse(sh.D(e))||{}}catch(e){}return t},j:function(e,t,r,n,i){if(rE)try{var s="",o="",a=function(e,t){if(t){var r=function(e,t){if(void 0===t&&(t=rE),su)return su;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var r=e.split("."),n=Math.min(r.length,8),i="dmn_chk_"+sa();!su&&n--;){var s=r.slice(n).join("."),o=i+"=1;domain=."+s+";path=/";t.cookie=o+";max-age=3",t.cookie.includes(i)&&(t.cookie=o+";max-age=0",su=s)}return su}(e);if(!r){var n,i=(n=e.match(sc))?n[0]:"";i!==r&&rQ.info("Warning: cookie subdomain discovery mismatch",i,r),r=i}return r?"; domain=."+r:""}return""}(rE.location.hostname,n);if(r){var l=new Date;l.setTime(l.getTime()+24*r*36e5),s="; expires="+l.toUTCString()}i&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&rQ.warn("cookieStore warning: large cookie, len="+u.length),rE.cookie=u,u}catch(e){return}},N:function(e,t){try{sh.j(e,"",-1,t)}catch(e){return}}},sd=null,sp={O:function(){if(!rG(sd))return sd;var e=!0;if(rV(rg))e=!1;else try{var t="__mplssupport__";sp.j(t,"xyz"),'"xyz"'!==sp.D(t)&&(e=!1),sp.N(t)}catch(t){e=!1}return e||rQ.error("localStorage unsupported; falling back to cookie store"),sd=e,e},A:function(e){rQ.error("localStorage error: "+e)},D:function(e){try{return null==rg?void 0:rg.localStorage.getItem(e)}catch(e){sp.A(e)}return null},L:function(e){try{return JSON.parse(sp.D(e))||{}}catch(e){}return null},j:function(e,t){try{null==rg||rg.localStorage.setItem(e,JSON.stringify(t))}catch(e){sp.A(e)}},N:function(e){try{null==rg||rg.localStorage.removeItem(e)}catch(e){sp.A(e)}}},sf=["distinct_id",nx,nT,nB,nH],sg=r3({},sp,{L:function(e){try{var t={};try{t=sh.L(e)||{}}catch(e){}var r=r9(t,JSON.parse(sp.D(e)||"{}"));return sp.j(e,r),r}catch(e){}return null},j:function(e,t,r,n,i,s){try{sp.j(e,t,void 0,void 0,s);var o={};sf.forEach(e=>{t[e]&&(o[e]=t[e])}),Object.keys(o).length&&sh.j(e,o,r,n,i,s)}catch(e){sp.A(e)}},N:function(e,t){try{null==rg||rg.localStorage.removeItem(e),sh.N(e,t)}catch(e){sp.A(e)}}}),sv={},s_={O:function(){return!0},A:function(e){rQ.error("memoryStorage error: "+e)},D:function(e){return sv[e]||null},L:function(e){return sv[e]||null},j:function(e,t){sv[e]=t},N:function(e){delete sv[e]}},sm=null,sy={O:function(){if(!rG(sm))return sm;if(sm=!0,rV(rg))sm=!1;else try{var e="__support__";sy.j(e,"xyz"),'"xyz"'!==sy.D(e)&&(sm=!1),sy.N(e)}catch(e){sm=!1}return sm},A:function(e){rQ.error("sessionStorage error: ",e)},D:function(e){try{return null==rg?void 0:rg.sessionStorage.getItem(e)}catch(e){sy.A(e)}return null},L:function(e){try{return JSON.parse(sy.D(e))||null}catch(e){}return null},j:function(e,t){try{null==rg||rg.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){sy.A(e)}},N:function(e){try{null==rg||rg.sessionStorage.removeItem(e)}catch(e){sy.A(e)}}},sb=((sF={})[sF.PENDING=-1]="PENDING",sF[sF.DENIED=0]="DENIED",sF[sF.GRANTED=1]="GRANTED",sF);class sE{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.U()?sb.DENIED:this.q}isOptedOut(){return this.consent===sb.DENIED||this.consent===sb.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.B.j(this.H,+!!e,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:e,opt_out_capturing_cookie_prefix:t}=this._instance.config;return(t||"__ph_opt_in_out_")+e}get q(){var e=this.B.D(this.H);return"1"===e?sb.GRANTED:"0"===e?sb.DENIED:sb.PENDING}get B(){if(!this.W){var e=this.S.opt_out_capturing_persistence_type;this.W="localStorage"===e?sp:sh;var t="localStorage"===e?sh:sp;t.D(this.H)&&(this.W.D(this.H)||this.optInOut("1"===t.D(this.H)),t.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!ns([null==rb?void 0:rb.doNotTrack,null==rb?void 0:rb.msDoNotTrack,rR.doNotTrack],e=>rN([!0,1,"1","yes"],e))}}var sS=r0("[Dead Clicks]"),sw=()=>!0,sO=e=>{var t,r=!(null==(t=e.instance.persistence)||!t.get_property(ng)),n=e.instance.config.capture_dead_clicks;return rJ(n)?n:r};class sx{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,t,r){this.instance=e,this.isEnabled=t,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ng]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(e){var t,r;null!=(t=rR.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?sS.error("failed to load script",t):e()})}V(){var e;if(rE){if(!this.G&&null!=(e=rR.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=rH(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.G=rR.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.G.start(rE),sS.info("starting...")}}else sS.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,sS.info("stopping..."))}}function sT(e,t,r,n,i){return t>r&&(rQ.warn("min cannot be greater than max."),t=r),rY(e)?e>r?(n&&rQ.warn(n+" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n&&rQ.warn(n+" cannot be less than min: "+t+". Using min value instead."),t):e:(n&&rQ.warn(n+" must be a number. using max or fallback. max: "+r+", fallback: "+i),sT(i||r,t,r,n))}class sR{constructor(e){this.K={},this.Y=()=>{Object.keys(this.K).forEach(e=>{var t=this.X(e)+this.Z;t>=this.tt?delete this.K[e]:this.it(e,t)})},this.X=e=>this.K[String(e)],this.it=(e,t)=>{this.K[String(e)]=t},this.consumeRateLimit=e=>{var t,r=null!=(t=this.X(e))?t:this.tt;if(0===(r=Math.max(r-1,0)))return!0;this.it(e,r);var n,i=0===r;return i&&(null==(n=this.et)||n.call(this,e)),i},this.rt=e,this.et=this.rt.et,this.tt=sT(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=sT(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=sT(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}}var sI=r0("[ExceptionAutocapture]");class sA{constructor(e){var t,r,n;this.nt=()=>{var e;if(rg&&this.isEnabled&&null!=(e=rR.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=rR.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=rR.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,n=rR.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=t(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=r(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=n(this.captureException.bind(this)))}catch(e){sI.error("failed to start",e),this.ht()}}},this._instance=e,this.dt=!(null==(t=this._instance.persistence)||!t.props[nd]),this.S=this.vt(),this.ct=new sR({refillRate:null!=(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)?r:1,bucketSize:null!=(n=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)?n:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return rH(e)?t=r3({},t,e):(rV(e)?this.dt:e)&&(t=r3({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(sI.info("enabled"),this.J(this.nt))}J(e){var t,r;null!=(t=rR.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return sI.error("failed to load script",t);e()})}ht(){var e,t,r;null==(e=this.ot)||e.call(this),this.ot=void 0,null==(t=this.lt)||t.call(this),this.lt=void 0,null==(r=this.ut)||r.call(this),this.ut=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.dt=!!t,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[nd]:this.dt}),this.startIfEnabled()}captureException(e){e.$exception_personURL=this._instance.requestRouter.endpointFor("ui")+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var t,r=null!=(t=e.$exception_list[0].type)?t:"Exception";this.ct.consumeRateLimit(r)?sI.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function sC(e){return!rV(Event)&&sk(e,Event)}function sk(e,t){try{return e instanceof t}catch(e){return!1}}function sP(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return sk(e,Error)}}function sN(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function sj(e){return sN(e,"DOMError")}var sL=/\(error: (.*)\)/;function sD(e,t,r,n){var i={platform:"web:javascript",filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return rV(r)||(i.lineno=r),rV(n)||(i.colno=n),i}var sF,sM,s$,sU,sq=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,sH=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sB=/\((\S*)(?::(\d+))(?::(\d+))\)/,sV=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sz=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e,t){void 0===t&&(t=0);for(var r=[],i=e.split("\n"),s=t;s<i.length;s++){var o=i[s];if(!(o.length>1024)){var a=sL.test(o)?o.replace(sL,"$1"):o;if(!a.match(/\S*Error: /)){for(var l of n){var u=l(a);if(u){r.push(u);break}}if(r.length>=50)break}}}if(!r.length)return[];var c=Array.from(r);return c.reverse(),c.slice(0,50).map(e=>{var t;return r3({},e,{filename:e.filename||((t=c)[t.length-1]||{}).filename,function:e.function||"?"})})}}([30,e=>{var t=sq.exec(e);if(t){var[,r,n,i]=t;return sD(r,"?",+n,+i)}var s=sH.exec(e);if(s){if(s[2]&&0===s[2].indexOf("eval")){var o=sB.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=sG(s[1]||"?",s[2]);return sD(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,e=>{var t=sV.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=sW.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}var n=t[3],i=t[1]||"?";return[i,n]=sG(i,n),sD(n,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),sG=(e,t)=>{var r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},sK=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function sY(e,t){void 0===t&&(t=0);var r=e.stacktrace||e.stack||"",n=e&&sJ.test(e.message)?1:0;try{var i,s,o=(i=sz(r,n),s=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var r=Object.keys(t);return sU&&r.length===s$||(s$=r.length,sU=r.reduce((r,n)=>{sM||(sM={});var i=sM[n];if(i)r[i[0]]=i[1];else for(var s=e(n),o=s.length-1;o>=0;o--){var a=s[o],l=null==a?void 0:a.filename,u=t[n];if(l&&u){r[l]=u,sM[n]=[l,u];break}}return r},{})),sU}(sz),i.forEach(e=>{e.filename&&(e.chunk_id=s[e.filename])}),i);return o.slice(0,o.length-t)}catch(e){}return[]}var sJ=/Minified React error #\d+;/i;function sX(e,t){return{$exception_list:function e(t,r){var n,i,s,o,a,l,u,c,h=(n=t,i=r,l=sY(n),u=null==(o=null==i?void 0:i.handled)||o,c=null!=(a=null==i?void 0:i.synthetic)&&a,{type:null!=i&&i.overrideExceptionType?i.overrideExceptionType:n.name,value:(s=n.message).error&&"string"==typeof s.error.message?String(s.error.message):String(s),stacktrace:{frames:l,type:"raw"},mechanism:{handled:u,synthetic:c}});return t.cause&&sP(t.cause)&&t.cause!==t?[h,...e(t.cause,{handled:null==r?void 0:r.handled,synthetic:null==r?void 0:r.synthetic})]:[h]}(e,t),$exception_level:"error"}}function sZ(e,t){var r,n,i,s=null==(r=null==t?void 0:t.handled)||r,o=null==(n=null==t?void 0:t.synthetic)||n,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!=(i=null==t?void 0:t.defaultExceptionType)?i:"Error",value:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=sY(t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function sQ(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return rq(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch(e){return()=>{}}}class s0{constructor(e){var t;this._instance=e,this.ft=(null==rg||null==(t=rg.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(rQ.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.gt&&this.gt(),this.gt=void 0,rQ.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(rg&&rg.history){var r=this;null!=(e=rg.history.pushState)&&e.__posthog_wrapped__||sQ(rg.history,"pushState",e=>function(t,n,i){e.call(this,t,n,i),r._t("pushState")}),null!=(t=rg.history.replaceState)&&t.__posthog_wrapped__||sQ(rg.history,"replaceState",e=>function(t,n,i){e.call(this,t,n,i),r._t("replaceState")}),this.bt()}}_t(e){try{var t,r=null==rg||null==(t=rg.location)?void 0:t.pathname;if(!r)return;r!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ft=r}catch(t){rQ.error("Error capturing "+e+" pageview",t)}}bt(){if(!this.gt){var e=()=>{this._t("popstate")};no(rg,"popstate",e),this.gt=()=>{rg&&rg.removeEventListener("popstate",e)}}}}function s1(e){var t,r;return(null==(t=JSON.stringify(e,(r=[],function(e,t){if(rH(t)){for(;r.length>0&&r[r.length-1]!==this;)r.pop();return r.includes(t)?"[Circular]":(r.push(t),t)}return t})))?void 0:t.length)||0}var s2=((r=s2||{})[r.DomContentLoaded=0]="DomContentLoaded",r[r.Load=1]="Load",r[r.FullSnapshot=2]="FullSnapshot",r[r.IncrementalSnapshot=3]="IncrementalSnapshot",r[r.Meta=4]="Meta",r[r.Custom=5]="Custom",r[r.Plugin=6]="Plugin",r),s3=((n=s3||{})[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n),s5="[SessionRecording]",s4="redacted",s6={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},s8=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],s9=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],s7=["/s/","/e/","/i/"];function oe(e,t,r,n){if(rK(e))return e;var i=(null==t?void 0:t["content-length"])||new Blob([e]).size;return rW(i)&&(i=parseInt(i)),i>r?s5+" "+n+" body too large to record ("+i+" bytes)":e}function ot(e,t){if(rK(e))return e;var r=e;return is(r,!1)||(r=s5+" "+t+" body "+s4),r8(s9,e=>{var n,i;null!=(n=r)&&n.length&&-1!==(null==(i=r)?void 0:i.indexOf(e))&&(r=s5+" "+t+" body "+s4+" as might contain: "+e)}),r}class or{constructor(e,t){var r,n;void 0===t&&(t={}),this.yt={},this.wt=e=>{if(!this.yt[e]){this.yt[e]=!0;var t,r,n=this.St(e);null==(t=(r=this.rt).onBlockedNode)||t.call(r,e,n)}},this.$t=e=>{var t=this.St(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var r=t.closest("svg");if(r)return[this._rrweb.mirror.getId(r),r]}return[e,t]},this.St=e=>this._rrweb.mirror.getNode(e),this.kt=e=>{var t,r,n,i,s,o,a,l;return(null!=(t=null==(r=e.removes)?void 0:r.length)?t:0)+(null!=(n=null==(i=e.attributes)?void 0:i.length)?n:0)+(null!=(s=null==(o=e.texts)?void 0:o.length)?s:0)+(null!=(a=null==(l=e.adds)?void 0:l.length)?a:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,r=this.kt(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var[t]=this.$t(e.id);return!this.ct.consumeRateLimit(t)&&e}));var n=this.kt(t);return 0!==n||r===n?e:void 0},this._rrweb=e,this.rt=t,this.ct=new sR({bucketSize:null!=(r=this.rt.bucketSize)?r:100,refillRate:null!=(n=this.rt.refillRate)?n:10,refillInterval:1e3,et:this.wt})}}var on=Uint8Array,oi=Uint16Array,os=Uint32Array,oo=new on([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oa=new on([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ol=new on([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ou=function(e,t){for(var r=new oi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new os(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},oc=ou(oo,2),oh=oc[0],od=oc[1];oh[28]=258,od[258]=28;for(var op=ou(oa,0)[1],of=new oi(32768),og=0;og<32768;++og){var ov=(43690&og)>>>1|(21845&og)<<1;ov=(61680&(ov=(52428&ov)>>>2|(13107&ov)<<2))>>>4|(3855&ov)<<4,of[og]=((65280&ov)>>>8|(255&ov)<<8)>>>1}var o_=function(e,t,r){for(var n=e.length,i=0,s=new oi(t);i<n;++i)++s[e[i]-1];var o,a=new oi(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(r){o=new oi(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],h=a[e[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[of[h]>>>l]=u}else for(o=new oi(n),i=0;i<n;++i)o[i]=of[a[e[i]-1]++]>>>15-e[i];return o},om=new on(288);for(og=0;og<144;++og)om[og]=8;for(og=144;og<256;++og)om[og]=9;for(og=256;og<280;++og)om[og]=7;for(og=280;og<288;++og)om[og]=8;var oy=new on(32);for(og=0;og<32;++og)oy[og]=5;var ob=o_(om,9,0),oE=o_(oy,5,0),oS=function(e){return(e/8|0)+(7&e&&1)},ow=function(e,t,r){(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof oi?oi:e instanceof os?os:on)(r-t);return n.set(e.subarray(t,r)),n},oO=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},ox=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},oT=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new on(0),0];if(1==i){var o=new on(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,c=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=r[r[u].f<r[h].f?u++:h++],l=r[u!=c&&r[u].f<r[h].f?u++:h++],r[c++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(n=1;n<i;++n)s[n].s>d&&(d=s[n].s);var p=new oi(d+1),f=oR(r[c-1],p,0);if(f>t){n=0;var g=0,v=f-t,_=1<<v;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<i;++n){var m=s[n].s;if(!(p[m]>t))break;g+=_-(1<<f-p[m]),p[m]=t}for(g>>>=v;g>0;){var y=s[n].s;p[y]<t?g-=1<<t-p[y]++-1:++n}for(;n>=0&&g;--n){var b=s[n].s;p[b]==t&&(--p[b],++g)}f=t}return[new on(p),f]},oR=function(e,t,r){return -1==e.s?Math.max(oR(e.l,t,r+1),oR(e.r,t,r+1)):t[e.s]=r},oI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new oi(++t),n=0,i=e[0],s=1,o=function(e){r[n++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[r.subarray(0,n),t]},oA=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},oC=function(e,t,r){var n=r.length,i=oS(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},ok=function(e,t,r,n,i,s,o,a,l,u,c){oO(t,c++,r),++i[256];for(var h=oT(i,15),d=h[0],p=h[1],f=oT(s,15),g=f[0],v=f[1],_=oI(d),m=_[0],y=_[1],b=oI(g),E=b[0],S=b[1],w=new oi(19),O=0;O<m.length;++O)w[31&m[O]]++;for(O=0;O<E.length;++O)w[31&E[O]]++;for(var x=oT(w,7),T=x[0],R=x[1],I=19;I>4&&!T[ol[I-1]];--I);var A,C,k,P,N=u+5<<3,j=oA(i,om)+oA(s,oy)+o,L=oA(i,d)+oA(s,g)+o+14+3*I+oA(w,T)+(2*w[16]+3*w[17]+7*w[18]);if(N<=j&&N<=L)return oC(t,c,e.subarray(l,l+u));if(oO(t,c,1+(L<j)),c+=2,L<j){A=o_(d,p,0),C=d,k=o_(g,v,0),P=g;var D=o_(T,R,0);for(oO(t,c,y-257),oO(t,c+5,S-1),oO(t,c+10,I-4),c+=14,O=0;O<I;++O)oO(t,c+3*O,T[ol[O]]);c+=3*I;for(var F=[m,E],M=0;M<2;++M){var $=F[M];for(O=0;O<$.length;++O){var U=31&$[O];oO(t,c,D[U]),c+=T[U],U>15&&(oO(t,c,$[O]>>>5&127),c+=$[O]>>>12)}}}else A=ob,C=om,k=oE,P=oy;for(O=0;O<a;++O)if(n[O]>255){ox(t,c,A[(U=n[O]>>>18&31)+257]),c+=C[U+257],U>7&&(oO(t,c,n[O]>>>23&31),c+=oo[U]);var q=31&n[O];ox(t,c,k[q]),c+=P[q],q>3&&(ox(t,c,n[O]>>>5&8191),c+=oa[q])}else ox(t,c,A[n[O]]),c+=C[n[O]];return ox(t,c,A[256]),c+C[256]},oP=new os([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oN=function(){for(var e=new os(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&0xedb88320)^r>>>1;e[t]=r}return e}(),oj=function(){var e=0xffffffff;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=oN[255&r^t[n]]^r>>>8;e=r},d:function(){return 0xffffffff^e}}},oL=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},oD=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&oL(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}};function oF(e,t){void 0===t&&(t={});var r,n,i,s=oj(),o=e.length;s.p(e);var a=(n=t,i=10+((r=t).filename&&r.filename.length+1||0),function(e,t,r,n,i,s){var o=e.length,a=new on(n+o+5*(1+Math.floor(o/7e3))+8),l=a.subarray(n,a.length-8),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var h=c+65535;h<o?u=oC(l,u,e.subarray(c,h)):(l[c]=s,u=oC(l,u,e.subarray(c,o)))}else{for(var d=oP[t-1],p=d>>>13,f=8191&d,g=(1<<r)-1,v=new oi(32768),_=new oi(g+1),m=Math.ceil(r/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&g},E=new os(25e3),S=new oi(288),w=new oi(32),O=0,x=0,T=(c=0,0),R=0,I=0;c<o;++c){var A=b(c),C=32767&c,k=_[A];if(v[C]=k,_[A]=C,R<=c){var P=o-c;if((O>7e3||T>24576)&&P>423){u=ok(e,l,0,E,S,w,x,T,I,c-I,u),T=O=x=0,I=c;for(var N=0;N<286;++N)S[N]=0;for(N=0;N<30;++N)w[N]=0}var j=2,L=0,D=f,F=C-k&32767;if(P>2&&A==b(c-F))for(var M=Math.min(p,P)-1,$=Math.min(32767,c),U=Math.min(258,P);F<=$&&--D&&C!=k;){if(e[c+j]==e[c+j-F]){for(var q=0;q<U&&e[c+q]==e[c+q-F];++q);if(q>j){if(j=q,L=F,q>M)break;var H=Math.min(F,q-2),B=0;for(N=0;N<H;++N){var V=c-F+N+32768&32767,W=V-v[V]+32768&32767;W>B&&(B=W,k=V)}}}F+=(C=k)-(k=v[C])+32768&32767}if(L){E[T++]=0x10000000|od[j]<<18|op[L];var z=31&od[j],G=31&op[L];x+=oo[z]+oa[G],++S[257+z],++w[G],R=c+j,++O}else E[T++]=e[c],++S[e[c]]}}u=ok(e,l,s,E,S,w,x,T,I,c-I,u)}return ow(a,0,n+oS(u)+8)}(e,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+n.mem,i,8,!0)),l=a.length;return oD(a,t),oL(a,l-8,s.d()),oL(a,l-4,o),a}function oM(e,t){var r=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var n=new on(e.length+(e.length>>>1)),i=0,s=function(e){n[i++]=e},o=0;o<r;++o){if(i+5>n.length){var a=new on(i+8+(r-o<<1));a.set(n),n=a}var l=e.charCodeAt(o);l<128||t?s(l):(l<2048?s(192|l>>>6):(l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63)):s(224|l>>>12),s(128|l>>>6&63)),s(128|63&l))}return ow(n,0,i)}var o$="disabled",oU="sampled",oq="active",oH="buffering",oB="paused",oV="trigger",oW=oV+"_activated",oz=oV+"_pending",oG=oV+"_"+o$;function oK(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class oY{constructor(e){this.xt=e}triggerStatus(e){var t=this.xt.map(t=>t.triggerStatus(e));return t.includes(oW)?oW:t.includes(oz)?oz:oG}stop(){this.xt.forEach(e=>e.stop())}}class oJ{constructor(e){this.xt=e}triggerStatus(e){var t=new Set;for(var r of this.xt)t.add(r.triggerStatus(e));switch(t.delete(oG),t.size){case 0:return oG;case 1:return Array.from(t)[0];default:return oz}}stop(){this.xt.forEach(e=>e.stop())}}class oX{triggerStatus(){return oz}stop(){}}class oZ{constructor(e){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,r;this.Et=(null==(t=e.sessionRecording)?void 0:t.urlTriggers)||[],this.It=(null==(r=e.sessionRecording)?void 0:r.urlBlocklist)||[]}Pt(e){var t;return 0===this.Et.length?oG:(null==(t=this._instance)?void 0:t.get_property(nR))===e?oW:oz}triggerStatus(e){var t=this.Pt(e),r=t===oW?oW:t===oz?oz:oG;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(e,t,r){if(void 0!==rg&&rg.location.href){var n=rg.location.href,i=this.urlBlocked,s=oK(n,this.It);i&&s||(s&&!i?e():!s&&i&&t(),oK(n,this.Et)&&r("url"))}}stop(){}}class oQ{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=e}triggerStatus(){var e=oz;return rK(this.linkedFlag)&&(e=oG),this.linkedFlagSeen&&(e=oW),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var r;if(this.linkedFlag=(null==(r=e.sessionRecording)?void 0:r.linkedFlag)||null,!rK(this.linkedFlag)&&!this.linkedFlagSeen){var n=rW(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=rW(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((e,r)=>{var s=!1;if(rH(r)&&n in r){var o=r[n];s=rJ(o)?!0===o:i?o===i:!!o}this.linkedFlagSeen=s,s&&t(n,i)})}}stop(){this.Rt()}}class o0{constructor(e){this.Tt=[],this._instance=e}onRemoteConfig(e){var t;this.Tt=(null==(t=e.sessionRecording)?void 0:t.eventTriggers)||[]}Mt(e){var t;return 0===this.Tt.length?oG:(null==(t=this._instance)?void 0:t.get_property(nI))===e?oW:oz}triggerStatus(e){var t=this.Mt(e),r=t===oW?oW:t===oz?oz:oG;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}}function o1(e){return e.isRecordingEnabled?oH:o$}function o2(e){if(!e.receivedFlags)return oH;if(!e.isRecordingEnabled)return o$;if(e.urlTriggerMatching.urlBlocked)return oB;var t=!0===e.isSampled,r=new oY([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?oU:r===oW?oq:r===oz?oH:!1===e.isSampled?o$:oq}function o3(e){if(!e.receivedFlags)return oH;if(!e.isRecordingEnabled)return o$;if(e.urlTriggerMatching.urlBlocked)return oB;var t=new oJ([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),r=t!==oG,n=rJ(e.isSampled);return r&&t===oz?oH:r&&t===oG||n&&!e.isSampled?o$:!0===e.isSampled?oU:oq}var o5="[SessionRecording]",o4=r0(o5);function o6(){var e;return null==rR||null==(e=rR.__PosthogExtensions__)||null==(e=e.rrweb)?void 0:e.record}var o8=[s3.MouseMove,s3.MouseInteraction,s3.Scroll,s3.ViewportResize,s3.Input,s3.TouchMove,s3.MediaInteraction,s3.Drag],o9=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function o7(e){return function(e,t){for(var r="",n=0;n<e.length;){var i=e[n++];(i<128||t)&&(r+=String.fromCharCode(i))}return r}(oF(oM(JSON.stringify(e))),!0)}function ae(e){return e.type===s2.Custom&&"sessionIdle"===e.data.tag}class at{get sessionId(){return this.Ct}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw Error(o5+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var e,t;return this.Lt.triggerStatus(this.sessionId)===oz?6e4:null!=(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)?e:3e5}get jt(){var e=this._instance.get_property(nT);return rJ(e)?e:null}get Nt(){var e,t,r=null==(e=this.C)?void 0:e.data[(null==(t=this.C)?void 0:t.data.length)-1],{sessionStartTimestamp:n}=this.At.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-n:null}get zt(){var e=!!this._instance.get_property(n_),t=!this._instance.config.disable_session_recording;return rg&&e&&t}get Ut(){var e=!!this._instance.get_property(nm),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get qt(){var e,t,r,n,i,s,o=this._instance.config.session_recording.captureCanvas,a=this._instance.get_property(nE),l=null!=(e=null!=(t=null==o?void 0:o.recordCanvas)?t:null==a?void 0:a.enabled)&&e,u=null!=(r=null!=(n=null==o?void 0:o.canvasFps)?n:null==a?void 0:a.fps)?r:4,c=null!=(i=null!=(s=null==o?void 0:o.canvasQuality)?s:null==a?void 0:a.quality)?i:.4;if("string"==typeof c){var h=parseFloat(c);c=isNaN(h)?.4:h}return{enabled:l,fps:sT(u,0,12,"canvas recording fps",4),quality:sT(c,0,1,"canvas recording quality",.4)}}get Bt(){var e,t,r=this._instance.get_property(ny),n={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},i=(null==n?void 0:n.recordHeaders)||(null==r?void 0:r.recordHeaders),s=(null==n?void 0:n.recordBody)||(null==r?void 0:r.recordBody),o=rH(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,a=!!(rJ(o)?o:null==r?void 0:r.capturePerformance);return i||s||a?{recordHeaders:i,recordBody:s,recordPerformance:a}:void 0}get Ht(){var e,t,r,n,i,s,o=this._instance.get_property(nb),a={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(r=this._instance.config.session_recording)?void 0:r.blockSelector},l=null!=(n=null==a?void 0:a.maskAllInputs)?n:null==o?void 0:o.maskAllInputs,u=null!=(i=null==a?void 0:a.maskTextSelector)?i:null==o?void 0:o.maskTextSelector,c=null!=(s=null==a?void 0:a.blockSelector)?s:null==o?void 0:o.blockSelector;return rV(l)&&rV(u)&&rV(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get Wt(){var e=this._instance.get_property(nS);return rY(e)?e:null}get Gt(){var e=this._instance.get_property(nw);return rY(e)?e:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.jt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):oH}constructor(e){if(this.Vt=o1,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.Lt=new oX,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(null!=rE&&rE.visibilityState){var e="window "+rE.visibilityState;this.ui(e,{})}},this._instance=e,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw o4.error("started without valid sessionManager"),Error(o5+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw Error(o5+" cannot be used with __preview_experimental_cookieless_mode.");this.Xt=new oQ(this._instance),this.Kt=new oZ(this._instance),this.Yt=new o0(this._instance);var{sessionId:t,windowId:r}=this.At.checkAndGetSessionAndWindowId();this.Ct=t,this.fi=r,this.C=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&o4.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.zt?(this.gi(e),no(rg,"beforeunload",this.oi),no(rg,"offline",this.li),no(rg,"online",this.hi),no(rg,"visibilitychange",this.di),this.mi(),this.bi(),rK(this.ii)&&(this.ii=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.yi(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.ui("$pageview",{href:t})}}catch(e){o4.error("Could not add $pageview to rrweb session",e)}})),this.ei||(this.ei=this.At.onSessionId((e,t,r)=>{var n,i;r&&(this.ui("$session_id_change",{sessionId:e,windowId:t,changeReason:r}),null==(n=this._instance)||null==(n=n.persistence)||n.unregister(nI),null==(i=this._instance)||null==(i=i.persistence)||i.unregister(nR))}))):this.stopRecording()}stopRecording(){var e,t,r,n;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,null==rg||rg.removeEventListener("beforeunload",this.oi),null==rg||rg.removeEventListener("offline",this.li),null==rg||rg.removeEventListener("online",this.hi),null==rg||rg.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),null==(e=this.ii)||e.call(this),this.ii=void 0,null==(t=this.ni)||t.call(this),this.ni=void 0,null==(r=this.ei)||r.call(this),this.ei=void 0,null==(n=this.si)||n.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),o4.info("stopped"))}Si(){var e;null==(e=this._instance.persistence)||e.unregister(nT)}$i(e){var t,r=this.Ct!==e,n=this.Wt;if(rY(n)){var i=this.jt,s=r||!rJ(i),o=s?function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}(e)%100<sT(100*n,0,100):i;s&&(o?this.ki(oU):o4.warn("Sample rate ("+n+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:n,isSampled:o})),null==(t=this._instance.persistence)||t.register({[nT]:o})}else this.Si()}onRemoteConfig(e){var t,r,n,i;this.ui("$remote_config_received",e),this.xi(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.vi=null==(i=e.sessionRecording)?void 0:i.endpoint),this.mi(),"any"===(null==(r=e.sessionRecording)?void 0:r.triggerMatchType)?(this.Vt=o2,this.Lt=new oY([this.Yt,this.Kt])):(this.Vt=o3,this.Lt=new oJ([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(n=e.sessionRecording)?void 0:n.triggerMatchType}),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e),this.Xt.onRemoteConfig(e,(e,t)=>{this.ki("linked_flag_matched",{flag:e,variant:t})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){rY(this.Wt)&&rK(this.si)&&(this.si=this.At.onSessionId(e=>{this.$i(e)}))}xi(e){if(this._instance.persistence){var t,r=this._instance.persistence,n=()=>{var t,n,i,s,o,a,l,u,c,h=null==(t=e.sessionRecording)?void 0:t.sampleRate,d=rK(h)?null:parseFloat(h);rK(d)&&this.Si();var p=null==(n=e.sessionRecording)?void 0:n.minimumDurationMilliseconds;r.register({[n_]:!!e.sessionRecording,[nm]:null==(i=e.sessionRecording)?void 0:i.consoleLogRecordingEnabled,[ny]:r3({capturePerformance:e.capturePerformance},null==(s=e.sessionRecording)?void 0:s.networkPayloadCapture),[nb]:null==(o=e.sessionRecording)?void 0:o.masking,[nE]:{enabled:null==(a=e.sessionRecording)?void 0:a.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(u=e.sessionRecording)?void 0:u.canvasQuality},[nS]:d,[nw]:rV(p)?null:p,[nO]:null==(c=e.sessionRecording)?void 0:c.scriptConfig})};n(),null==(t=this.ri)||t.call(this),this.ri=this.At.onSessionId(n)}}log(e,t){var r;void 0===t&&(t="log"),null==(r=this._instance.sessionRecording)||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}gi(e){if(!rV(Object.assign)&&!rV(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;(this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),o6())?this.Ei():null==(t=rR.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.Ii,e=>{if(e)return o4.error("could not load recorder",e);this.Ei()}),o4.info("starting"),this.status===oq&&this.ki(e||"recording_initialized")}}get Ii(){var e;return(null==(e=this._instance)||null==(e=e.persistence)||null==(e=e.get_property(nO))?void 0:e.script)||"recorder"}Pi(e){var t;return 3===e.type&&-1!==o8.indexOf(null==(t=e.data)?void 0:t.source)}Ri(e){var t=this.Pi(e);t||this.Zt||e.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.C.data.length,bufferSize:this.C.size}),this.ai());var r=!1;if(t&&(this.ti=e.timestamp,this.Zt)){var n="unknown"===this.Zt;this.Zt=!1,n||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)}if(!this.Zt){var{windowId:i,sessionId:s}=this.At.checkAndGetSessionAndWindowId(!t,e.timestamp),o=this.Ct!==s,a=this.fi!==i;this.fi=i,this.Ct=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Ti()}}Mi(e){try{return e.rrwebMethod(),!0}catch(t){return this.Qt.length<10?this.Qt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):o4.warn("could not emit queued rrweb event.",t,e),!1}}ui(e,t){return this.Mi(o9(()=>o6().addCustomEvent(e,t)))}Ci(){return this.Mi(o9(()=>o6().takeFullSnapshot()))}Ei(){var e,t,r,n,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[s,o]of Object.entries(this._instance.config.session_recording||{}))s in i&&("maskInputOptions"===s?i.maskInputOptions=r3({password:!0},o):i[s]=o);this.qt&&this.qt.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.qt.fps},i.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(i.maskAllInputs=null==(t=this.Ht.maskAllInputs)||t,i.maskTextSelector=null!=(r=this.Ht.maskTextSelector)?r:void 0,i.blockSelector=null!=(n=this.Ht.blockSelector)?n:void 0);var a=o6();if(a){this.Fi=null!=(e=this.Fi)?e:new or(a,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(e,t)=>{var r="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";o4.info(r,{node:t}),this.log(o5+" "+r,"warn")}});var l=this.Oi();this.ci=a(r3({emit:e=>{this.onRRwebEmit(e)},plugins:l},i)),this.ti=Date.now(),this.Zt=rJ(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:i,activePlugins:l.map(e=>null==e?void 0:e.name)}),this.ui("$posthog_config",{config:this._instance.config})}else o4.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),!0!==this.Zt){var e=this.Dt;e&&(this.wi=setInterval(()=>{this.Ci()},e))}}Oi(){var e,t,r,n,i,s,o,a,l,u,c,h,d,p=[],f=null==(h=rR.__PosthogExtensions__)||null==(h=h.rrwebPlugins)?void 0:h.getRecordConsolePlugin;f&&this.Ut&&p.push(f());var g=null==(d=rR.__PosthogExtensions__)||null==(d=d.rrwebPlugins)?void 0:d.getRecordNetworkPlugin;return this.Bt&&rq(g)&&(!iu.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?p.push(g((e=this._instance.config,t=this.Bt,i={payloadSizeLimitBytes:s6.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...s6.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...s6.payloadHostDenyList]},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,o=!1!==e.session_recording.recordBody&&t.recordBody,a=!1!==e.capture_performance&&t.recordPerformance,n=Math.min(1e6,null!=(r=i.payloadSizeLimitBytes)?r:1e6),l=e=>(null!=e&&e.requestBody&&(e.requestBody=oe(e.requestBody,e.requestHeaders,n,"Request")),null!=e&&e.responseBody&&(e.responseBody=oe(e.responseBody,e.responseHeaders,n,"Response")),e),u=t=>{var r;return l(((e,t)=>{var r,n=ic(e.name),i=0===t.indexOf("http")?null==(r=ic(t))?void 0:r.pathname:t;"/"===i&&(i="");var s=null==n?void 0:n.pathname.replace(i||"","");if(!(n&&s&&s7.some(e=>0===s.indexOf(e))))return e})((rK(r=t.requestHeaders)||r8(Object.keys(null!=r?r:{}),e=>{s8.includes(e.toLowerCase())&&(r[e]=s4)}),t),e.api_host))},(c=rq(e.session_recording.maskNetworkRequestFn))&&rq(e.session_recording.maskCapturedNetworkRequestFn)&&rQ.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),c&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var r=e.session_recording.maskNetworkRequestFn({url:t.name});return r3({},t,{name:null==r?void 0:r.url})}),i.maskRequestFn=rq(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var r,n=u(t);return n&&null!=(r=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(n))?r:void 0}:e=>(function(e){if(!rV(e))return e.requestBody=ot(e.requestBody,"Request"),e.responseBody=ot(e.responseBody,"Response"),e})(u(e)),r3({},s6,i,{recordHeaders:s,recordBody:o,recordPerformance:a,recordInitialRequests:a})))):o4.info("NetworkCapture not started because we are on localhost.")),p}onRRwebEmit(e){var t;if(this.Ai(),e&&rH(e)){if(e.type===s2.Meta){var r=this.yi(e.data.href);if(this.Di=r,!r)return;e.data.href=r}else this.Li();if(this.Kt.checkUrlTriggerConditions(()=>this.ji(),()=>this.Ni(),e=>this.zi(e)),!this.Kt.urlBlocked||e.type===s2.Custom&&"recording paused"===e.data.tag){e.type===s2.FullSnapshot&&this.Ti(),e.type===s2.FullSnapshot&&this.Jt&&this.Lt.triggerStatus(this.sessionId)===oz&&this.pi();var n=this.Fi?this.Fi.throttleMutations(e):e;if(n){var i=function(e){if(e&&rH(e)&&6===e.type&&rH(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],r=0;r<e.data.payload.payload.length;r++)e.data.payload.payload[r]&&e.data.payload.payload[r].length>2e3?t.push(e.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[r]);return e.data.payload.payload=t,e}return e}(n);if(this.Ri(i),!0!==this.Zt||ae(i)){if(ae(i)){var s=i.data.payload;s&&(i.timestamp=s.lastActivityTimestamp+s.threshold)}var o=null==(t=this._instance.config.session_recording.compress_events)||t?function(e){if(1024>s1(e))return e;try{if(e.type===s2.FullSnapshot)return r3({},e,{data:o7(e.data),cv:"2024-10"});if(e.type===s2.IncrementalSnapshot&&e.data.source===s3.Mutation)return r3({},e,{cv:"2024-10",data:r3({},e.data,{texts:o7(e.data.texts),attributes:o7(e.data.attributes),removes:o7(e.data.removes),adds:o7(e.data.adds)})});if(e.type===s2.IncrementalSnapshot&&e.data.source===s3.StyleSheetRule)return r3({},e,{cv:"2024-10",data:r3({},e.data,{adds:e.data.adds?o7(e.data.adds):void 0,removes:e.data.removes?o7(e.data.removes):void 0})})}catch(e){o4.error("could not compress event - will use uncompressed event",e)}return e}(i):i,a={$snapshot_bytes:s1(o),$snapshot_data:o,$session_id:this.Ct,$window_id:this.fi};this.status!==o$?this.Ui(a):this.pi()}}}}}Li(){if(!this._instance.config.capture_pageview&&rg){var e=this.yi(rg.location.href);this.Di!==e&&(this.ui("$url_changed",{href:e}),this.Di=e)}}Ai(){if(this.Qt.length){var e=[...this.Qt];this.Qt=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.Mi(e)})}}yi(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var r,n={url:e};return null==(r=n=t.maskNetworkRequestFn(n))?void 0:r.url}return e}pi(){return this.C={size:0,data:[],sessionId:this.Ct,windowId:this.fi},this.C}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var e=this.Gt,t=this.Nt,r=rY(t)&&t>=0,n=rY(e)&&r&&t<e;return this.status===oH||this.status===oB||this.status===o$||n?(this.qi=setTimeout(()=>{this.ai()},2e3),this.C):(this.C.data.length>0&&(function e(t,r){if(void 0===r&&(r=6606028.8),t.size>=r&&t.data.length>1){var n=Math.floor(t.data.length/2),i=t.data.slice(0,n),s=t.data.slice(n);return[e({size:s1(i),data:i,sessionId:t.sessionId,windowId:t.windowId}),e({size:s1(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(e=>e)}return[t]})(this.C).forEach(e=>{this.Bi({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:rI.LIB_VERSION})}),this.pi())}Ui(e){var t,r=2+((null==(t=this.C)?void 0:t.data.length)||0);!this.Zt&&(this.C.size+e.$snapshot_bytes+r>943718.4||this.C.sessionId!==this.Ct)&&(this.C=this.ai()),this.C.size+=e.$snapshot_bytes,this.C.data.push(e.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var t;this.Lt.triggerStatus(this.sessionId)===oz&&(null==(t=this._instance)||null==(t=t.persistence)||t.register({["url"===e?nR:nI]:this.Ct}),this.ai(),this.ki(e+"_trigger_matched"))}ji(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),o4.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Ci(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),o4.info("recording resumed"))}bi(){0!==this.Yt.Tt.length&&rK(this.ni)&&(this.ni=this._instance.on("eventCaptured",e=>{try{this.Yt.Tt.includes(e.event)&&this.zi("event")}catch(e){o4.error("Could not activate event trigger",e)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Ci(),this.ki("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[nT]:!0}),this.Ci(),this.ki("sampling_overridden")}overrideTrigger(e){this.zi(e)}ki(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),o4.info(e.replace("_"," "),t),rN(["recording_initialized","session_id_changed"],e)||this.ui(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.C.data.length,$sdk_debug_replay_internal_buffer_size:this.C.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}}var ar=r0("[SegmentIntegration]"),an="posthog-js";function ai(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"]}=void 0===t?{}:t;return t=>{if(!("*"===s||s.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var o,a,l,u,c,h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=(null==(o=t.exception)?void 0:o.values)||[],p=d.map(e=>r3({},e,{stacktrace:e.stacktrace?r3({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>r3({},e,{platform:"web:javascript"}))}):void 0})),f={$exception_message:(null==(a=d[0])?void 0:a.value)||t.message,$exception_type:null==(l=d[0])?void 0:l.type,$exception_personURL:h,$exception_level:t.level,$exception_list:p,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(u=d[0])?void 0:u.value)||t.message,$sentry_exception_type:null==(c=d[0])?void 0:c.type,$sentry_tags:t.tags};return r&&n&&(f.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+t.event_id),e.exceptions.sendExceptionEvent(f),t}}class as{constructor(e,t,r,n,i){this.name=an,this.setupOnce=function(s){s(ai(e,{organization:t,projectId:r,prefix:n,severityAllowList:i}))}}}var ao=null!=rg&&rg.location?ig(rg.location.hash,"__posthog")||ig(location.hash,"state"):null,aa="_postHogToolbarParams",al=r0("[Toolbar]"),au=((ub=au||{})[ub.UNINITIALIZED=0]="UNINITIALIZED",ub[ub.LOADING=1]="LOADING",ub[ub.LOADED=2]="LOADED",ub);class ac{constructor(e){this.instance=e}Hi(e){rR.ph_toolbar_state=e}Wi(){var e;return null!=(e=rR.ph_toolbar_state)?e:au.UNINITIALIZED}maybeLoadToolbar(e,t,r){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===r&&(r=void 0),!rg||!rE)return!1;e=null!=e?e:rg.location,r=null!=r?r:rg.history;try{if(!t){try{rg.localStorage.setItem("test","test"),rg.localStorage.removeItem("test")}catch(e){return!1}t=null==rg?void 0:rg.localStorage}var n,i=ao||ig(e.hash,"__posthog")||ig(e.hash,"state"),s=i?nt(()=>JSON.parse(atob(decodeURIComponent(i))))||nt(()=>JSON.parse(decodeURIComponent(i))):null;return s&&"ph_authorize"===s.action?((n=s).source="url",n&&Object.keys(n).length>0&&(s.desiredHash?e.hash=s.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((n=JSON.parse(t.getItem(aa)||"{}")).source="localstorage",delete n.userIntent),!(!n.token||this.instance.config.token!==n.token)&&(this.loadToolbar(n),!0)}catch(e){return!1}}Gi(e){var t=rR.ph_load_toolbar||rR.ph_load_editor;!rK(t)&&rq(t)?t(e,this.instance):al.warn("No toolbar load function found")}loadToolbar(e){var t,r=!(null==rE||!rE.getElementById(nV));if(!rg||r)return!1;var n="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,i=r3({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});return(rg.localStorage.setItem(aa,JSON.stringify(r3({},i,{source:void 0}))),this.Wi()===au.LOADED)?this.Gi(i):this.Wi()===au.UNINITIALIZED&&(this.Hi(au.LOADING),null==(t=rR.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this.instance,"toolbar",e=>{e?(al.error("[Toolbar] Failed to load",e),this.Hi(au.UNINITIALIZED)):(this.Hi(au.LOADED),this.Gi(i))}),no(rg,"turbolinks:load",()=>{this.Hi(au.UNINITIALIZED),this.loadToolbar(i)})),!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,r){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===r&&(r=void 0),this.maybeLoadToolbar(e,t,r)}}var ah=r0("[TracingHeaders]");class ad{constructor(e){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var e,t;rV(this.Vi)&&(null==(e=rR.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),rV(this.Ki)&&(null==(t=rR.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}J(e){var t,r;null!=(t=rR.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return ah.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.J(this.nt):(null==(e=this.Vi)||e.call(this),null==(t=this.Ki)||t.call(this),this.Vi=void 0,this.Ki=void 0)}}var ap=r0("[Web Vitals]");class af{constructor(e){var t;this.Yi=!1,this.i=!1,this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),0!==this.C.metrics.length&&(this._instance.capture("$web_vitals",this.C.metrics.reduce((e,t)=>r3({},e,{["$web_vitals_"+t.name+"_event"]:r3({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=e=>{var t,r=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(rV(r))ap.error("Could not read session ID. Dropping metrics!");else{this.C=this.C||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var n=this.te();rV(n)||(rK(null==e?void 0:e.name)||rK(null==e?void 0:e.value)?ap.error("Invalid metric received",e):this.ie&&e.value>=this.ie?ap.error("Ignoring metric with value >= "+this.ie,e):(this.C.url!==n&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),rV(this.C.url)&&(this.C.url=n),this.C.firstMetricTimestamp=rV(this.C.firstMetricTimestamp)?Date.now():this.C.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.C.metrics.push(r3({},e,{$current_url:n,$session_id:r.sessionId,$window_id:r.windowId,timestamp:Date.now()})),this.C.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var e,t,r,n,i=rR.__PosthogExtensions__;rV(i)||rV(i.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:r,onINP:n}=i.postHogWebVitalsCallbacks),e&&t&&r&&n?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&r(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&n(this.Zi.bind(this)),this.i=!0):ap.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Yi=!(null==(t=this._instance.persistence)||!t.props[nf]),this.startIfEnabled()}get allowedMetrics(){var e,t,r=rH(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return rV(r)?(null==(t=this._instance.persistence)?void 0:t.props[nv])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(rH(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var e=rH(this._instance.config.capture_performance)&&rY(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}get isEnabled(){var e=null==rS?void 0:rS.protocol;if("http:"!==e&&"https:"!==e)return ap.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=rH(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:rJ(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return rJ(t)?t:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(ap.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(e){var t=rH(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=rH(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[nf]:t}),this._instance.persistence.register({[nv]:r})),this.Yi=t,this.startIfEnabled()}J(e){var t,r;null!=(t=rR.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"web-vitals",t=>{t?ap.error("failed to load script",t):e()})}te(){var e=rg?rg.location.href:void 0;return e||ap.error("Could not determine current URL"),e}}var ag=r0("[Heatmaps]");function av(e){return rH(e)&&"clientX"in e&&"clientY"in e&&rY(e.clientX)&&rY(e.clientY)}class a_{constructor(e){var t;this.rageclicks=new il,this.Yi=!1,this.i=!1,this.ee=null,this.instance=e,this.Yi=!(null==(t=this.instance.persistence)||!t.props[nh])}get flushIntervalMilliseconds(){var e=5e3;return rH(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return rV(this.instance.config.capture_heatmaps)?rV(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(ag.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds));else{var e,t;clearInterval(null!=(e=this.ee)?e:void 0),null==(t=this.ne)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[nh]:t}),this.Yi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.C;return this.C=void 0,e}oe(e){this.ae(e.originalEvent,"deadclick")}re(){rg&&rE&&(no(rg,"beforeunload",this.se.bind(this)),no(rE,"click",e=>this.ae(e||(null==rg?void 0:rg.event)),{capture:!0}),no(rE,"mousemove",e=>this.le(e||(null==rg?void 0:rg.event)),{capture:!0}),this.ne=new sx(this.instance,sw,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(e,t){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),s=function(e,t,r){for(var n=e;n&&nK(n)&&!nY(n,"body")&&n!==r;){if(rN(t,null==rg?void 0:rg.getComputedStyle(n).position))return!0;n=n4(n)}return!1}(n3(e),["fixed","sticky"],i);return{x:e.clientX+(s?0:n),y:e.clientY+(s?0:r),target_fixed:s,type:t}}ae(e,t){var r;if(void 0===t&&(t="click"),!nG(e.target)&&av(e)){var n=this.ue(e,t);null!=(r=this.rageclicks)&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.he(r3({},n,{type:"rageclick"})),this.he(n)}}le(e){!nG(e.target)&&av(e)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(e,"mousemove"))},500))}he(e){if(rg){var t=rg.location.href;this.C=this.C||{},this.C[t]||(this.C[t]=[]),this.C[t].push(e)}}se(){this.C&&!rB(this.C)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class am{constructor(e){this._instance=e}doPageView(e,t){var r,n=this.ve(e,t);return this.ce={pathname:null!=(r=null==rg?void 0:rg.location.pathname)?r:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),n}doPageLeave(e){var t;return this.ve(e,null==(t=this.ce)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.ce)?void 0:e.pageViewId}}ve(e,t){var r=this.ce;if(!r)return{$pageview_id:t};var n={$pageview_id:t,$prev_pageview_id:r.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=i;if(!(rV(s)||rV(o)||rV(a)||rV(l)||rV(u)||rV(c))){s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var h=s<=1?1:sT(o/s,0,1),d=s<=1?1:sT(a/s,0,1),p=l<=1?1:sT(u/l,0,1),f=l<=1?1:sT(c/l,0,1);n=r9(n,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:d,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:f})}}return r.pathname&&(n.$prev_pageview_pathname=r.pathname),r.timestamp&&(n.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),n}}var ay=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<n;i++){var o=e.charCodeAt(i),a=null;o<128?r++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),rG(a)||(r>t&&(s+=e.substring(t,r)),s+=a,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},ab=!!rO||!!rw,aE="text/plain",aS=(e,t)=>{var[r,n]=e.split("?"),i=r3({},t);null==n||n.split("&").forEach(e=>{var[t]=e.split("=");delete i[t]});var s=ih(i);return r+"?"+(s=s?(n?n+"&":"")+s:n)},aw=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),aO=e=>{var{data:t,compression:r}=e;if(t){if(r===rk.GZipJS){var n=new Blob([oF(oM(aw(t)),{mtime:0})],{type:aE});return{contentType:aE,body:n,estimatedSize:n.size}}if(r===rk.Base64){let e;var i="data="+encodeURIComponent("string"==typeof(e=function(e){var t,r,n,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,u="",c=[];if(!e)return e;e=ay(e);do t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,r=s>>12&63,n=s>>6&63,i=63&s,c[l++]=o.charAt(t)+o.charAt(r)+o.charAt(n)+o.charAt(i);while(a<e.length)switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(aw(t)))?e:aw(e));return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var s=aw(t);return{contentType:"application/json",body:s,estimatedSize:new Blob([s]).size}}},ax=[];rw&&ax.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=null!=(t=aO(e))?t:{},o=new Headers;r8(e.headers,function(e,t){o.append(t,e)}),n&&o.append("Content-Type",n);var a=e.url,l=null;if(rx){var u=new rx;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}rw(a,r3({method:(null==e?void 0:e.method)||"GET",headers:o,keepalive:"POST"===e.method&&52428.8>(s||0),body:i,signal:null==(r=l)?void 0:r.signal},e.fetchOptions)).then(t=>t.text().then(r=>{var n={statusCode:t.status,text:r};if(200===t.status)try{n.json=JSON.parse(r)}catch(e){rQ.error(e)}null==e.callback||e.callback(n)})).catch(t=>{rQ.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),rO&&ax.push({transport:"XHR",method:e=>{var t,r=new rO;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=null!=(t=aO(e))?t:{};r8(e.headers,function(e,t){r.setRequestHeader(t,e)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),r.withCredentials=!0,r.onreadystatechange=()=>{if(4===r.readyState){var t={statusCode:r.status,text:r.responseText};if(200===r.status)try{t.json=JSON.parse(r.responseText)}catch(e){}null==e.callback||e.callback(t)}},r.send(i)}}),null!=rb&&rb.sendBeacon&&ax.push({transport:"sendBeacon",method:e=>{var t=aS(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=null!=(r=aO(e))?r:{},s="string"==typeof i?new Blob([i],{type:n}):i;rb.sendBeacon(t,s)}catch(e){}}});var aT=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};function aR(e,t,r){return aw({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var aI={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>aT(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!aT(t,e))),icontains:(e,t)=>t.map(aA).some(t=>e.map(aA).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(aA).every(t=>e.map(aA).every(e=>!t.includes(e)))},aA=e=>e.toLowerCase(),aC=r0("[Error tracking]");class ak{constructor(e){var t,r;this.fe=[],this._instance=e,this.fe=null!=(t=null==(r=this._instance.persistence)?void 0:r.get_property(np))?t:[]}onRemoteConfig(e){var t,r,n=null!=(t=null==(r=e.errorTracking)?void 0:r.suppressionRules)?t:[];this.fe=n,this._instance.persistence&&this._instance.persistence.register({[np]:this.fe})}sendExceptionEvent(e){if(!this.pe(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});aC.info("Skipping exception capture because a suppression rule matched")}pe(e){var t=e.$exception_list;if(!t||!rU(t)||0===t.length)return!1;var r=t.reduce((e,t)=>{var{type:r,value:n}=t;return rW(r)&&r.length>0&&e.$exception_types.push(r),rW(n)&&n.length>0&&e.$exception_values.push(n),e},{$exception_types:[],$exception_values:[]});return this.fe.some(e=>{var t=e.values.map(e=>{var t,n=aI[e.operator],i=rU(e.value)?e.value:[e.value],s=null!=(t=r[e.key])?t:[];return i.length>0&&n(i,s)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}}var aP="Mobile",aN="Android",aj="Tablet",aL=aN+" "+aj,aD="iPad",aF="Apple",aM=aF+" Watch",a$="Safari",aU="BlackBerry",aq="Samsung",aH=aq+"Browser",aB=aq+" Internet",aV="Chrome",aW=aV+" OS",az=aV+" iOS",aG="Internet Explorer",aK=aG+" "+aP,aY="Opera",aJ=aY+" Mini",aX="Edge",aZ="Microsoft "+aX,aQ="Firefox",a0=aQ+" iOS",a1="Nintendo",a2="PlayStation",a3="Xbox",a5=aN+" "+aP,a4=aP+" "+a$,a6="Windows",a8=a6+" Phone",a9="Nokia",a7="Ouya",le="Generic",lt=le+" "+aP.toLowerCase(),lr=le+" "+aj.toLowerCase(),ln="Konqueror",li="(\\d+(\\.\\d+)?)",ls=RegExp("Version/"+li),lo=RegExp(a3,"i"),la=RegExp(a2+" \\w+","i"),ll=RegExp(a1+" \\w+","i"),lu=RegExp(aU+"|PlayBook|BB10","i"),lc={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},lh=function(e,t){var r;return t=t||"",rN(e," OPR/")&&rN(e,"Mini")?aJ:rN(e," OPR/")?aY:lu.test(e)?aU:rN(e,"IE"+aP)||rN(e,"WPDesktop")?aK:rN(e,aH)?aB:rN(e,aX)||rN(e,"Edg/")?aZ:rN(e,"FBIOS")?"Facebook "+aP:rN(e,"UCWEB")||rN(e,"UCBrowser")?"UC Browser":rN(e,"CriOS")?az:rN(e,"CrMo")||rN(e,aV)?aV:rN(e,aN)&&rN(e,a$)?a5:rN(e,"FxiOS")?a0:rN(e.toLowerCase(),ln.toLowerCase())?ln:(r=t)&&rN(r,aF)||rN(e,a$)&&!rN(e,aV)&&!rN(e,aN)?rN(e,aP)?a4:a$:rN(e,aQ)?aQ:rN(e,"MSIE")||rN(e,"Trident/")?aG:rN(e,"Gecko")?aQ:""},ld={[aK]:[RegExp("rv:"+li)],[aZ]:[RegExp(aX+"?\\/"+li)],[aV]:[RegExp("("+aV+"|CrMo)\\/"+li)],[az]:[RegExp("CriOS\\/"+li)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+li)],[a$]:[ls],[a4]:[ls],[aY]:[RegExp("(Opera|OPR)\\/"+li)],[aQ]:[RegExp(aQ+"\\/"+li)],[a0]:[RegExp("FxiOS\\/"+li)],[ln]:[RegExp("Konqueror[:/]?"+li,"i")],[aU]:[RegExp(aU+" "+li),ls],[a5]:[RegExp("android\\s"+li,"i")],[aB]:[RegExp(aH+"\\/"+li)],[aG]:[RegExp("(rv:|MSIE )"+li)],Mozilla:[RegExp("rv:"+li)]},lp=function(e,t){var r=ld[lh(e,t)];if(rV(r))return null;for(var n=0;n<r.length;n++){var i=r[n],s=e.match(i);if(s)return parseFloat(s[s.length-2])}return null},lf=[[RegExp(a3+"; "+a3+" (.*?)[);]","i"),e=>[a3,e&&e[1]||""]],[RegExp(a1,"i"),[a1,""]],[RegExp(a2,"i"),[a2,""]],[lu,[aU,""]],[RegExp(a6,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[a8,""];if(new RegExp(aP).test(t)&&!/IEMobile\b/.test(t))return[a6+" "+aP,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=lc[r[1]]||"";return/arm/i.test(t)&&(n="RT"),[a6,n]}return[a6,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=rV(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+aN+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+aN+")","i"),e=>e&&e[2]?[aN,[e[2],e[3],e[4]||"0"].join(".")]:[aN,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[aW,""]],[/Linux|debian/i,["Linux",""]]],lg=function(e){return ll.test(e)?a1:la.test(e)?a2:lo.test(e)?a3:RegExp(a7,"i").test(e)?a7:RegExp("("+a8+"|WPDesktop)","i").test(e)?a8:/iPad/.test(e)?aD:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?aM:lu.test(e)?aU:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(a9,"i").test(e)?a9:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(aP).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?aN:aL:aN:RegExp("(pda|"+aP+")","i").test(e)?lt:RegExp(aj,"i").test(e)&&!RegExp(aj+" pc","i").test(e)?lr:""},lv="https?://(.*)",l_=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],lm=r7(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],l_),ly="<masked>",lb=["li_fat_id"];function lE(e,t,r){if(!rE)return{};var n,i=t?r7([],l_,r||[]):[],s=lS(ip(rE.URL,i,ly),e);return r9((n={},r8(lb,function(e){var t=sh.D(e);n[e]=t||null}),n),s)}function lS(e,t){var r=lm.concat(t||[]),n={};return r8(r,function(t){var r=id(e,t);n[t]=r||null}),n}function lw(e){var t=e?0===e.search(lv+"google.([^/?]*)")?"google":0===e.search(lv+"bing.com")?"bing":0===e.search(lv+"yahoo.com")?"yahoo":0===e.search(lv+"duckduckgo.com")?"duckduckgo":null:null,r={};if(!rG(t)){r.$search_engine=t;var n=rE?id(rE.referrer,"yahoo"!=t?"q":"p"):"";n.length&&(r.ph_keyword=n)}return r}function lO(){return navigator.language||navigator.userLanguage}function lx(){return(null==rE?void 0:rE.referrer)||"$direct"}function lT(e,t){var r=e?r7([],l_,t||[]):[],n=null==rS?void 0:rS.href.substring(0,1e3);return{r:lx().substring(0,1e3),u:n?ip(n,r,ly):void 0}}function lR(e){var t,{r:r,u:n}=e,i={$referrer:r,$referring_domain:null==r?void 0:"$direct"==r?"$direct":null==(t=ic(r))?void 0:t.host};if(n){i.$current_url=n;var s=ic(n);i.$host=null==s?void 0:s.host,i.$pathname=null==s?void 0:s.pathname,r9(i,lS(n))}return r&&r9(i,lw(r)),i}function lI(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}var lA=r0("[FeatureFlags]"),lC="$active_feature_flags",lk="$override_feature_flags",lP="$feature_flag_payloads",lN="$override_feature_flag_payloads",lj="$feature_flag_request_id",lL=e=>{var t={};for(var[r,n]of ne(e||{}))n&&(t[r]=n);return t},lD=((uE={}).FeatureFlags="feature_flags",uE.Recordings="recordings",uE);class lF{constructor(e){this.ge=!1,this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.we=!0;else{var e=!this.$e&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ke({disableFlags:e})}}get hasLoadedFlags(){return this._e}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(nk),t=this._instance.get_property(lk),r=this._instance.get_property(lN);if(!r&&!t)return e||{};var n=r9({},e||{});for(var i of[...new Set([...Object.keys(r||{}),...Object.keys(t||{})])]){var s,o,a=n[i],l=null==t?void 0:t[i],u=rV(l)?null!=(s=null==a?void 0:a.enabled)&&s:!!l,c=rV(l)?a.variant:"string"==typeof l?l:void 0,h=null==r?void 0:r[i],d=r3({},a,{enabled:u,variant:u?null!=c?c:null==a?void 0:a.variant:void 0});u!==(null==a?void 0:a.enabled)&&(d.original_enabled=null==a?void 0:a.enabled),c!==(null==a?void 0:a.variant)&&(d.original_variant=null==a?void 0:a.variant),h&&(d.metadata=r3({},null==a?void 0:a.metadata,{payload:h,original_payload:null==a||null==(o=a.metadata)?void 0:o.payload})),n[i]=d}return this.ge||(lA.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:n}),this.ge=!0),n}getFlagVariants(){var e=this._instance.get_property(nA),t=this._instance.get_property(lk);if(!t)return e||{};for(var r=r9({},e),n=Object.keys(t),i=0;i<n.length;i++)r[n[i]]=t[n[i]];return this.ge||(lA.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:r}),this.ge=!0),r}getFlagPayloads(){var e=this._instance.get_property(lP),t=this._instance.get_property(lN);if(!t)return e||{};for(var r=r9({},e||{}),n=Object.keys(t),i=0;i<n.length;i++)r[n[i]]=t[n[i]];return this.ge||(lA.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:r}),this.ge=!0),r}reloadFeatureFlags(){this.be||this._instance.config.advanced_disable_feature_flags||this.$e||(this.$e=setTimeout(()=>{this.ke()},5))}xe(){clearTimeout(this.$e),this.$e=void 0}ensureFlagsLoaded(){this._e||this.me||this.$e||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.be=e}ke(e){var t;if(this.xe(),!this._instance.I())if(this.me)this.ye=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r3({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(nP)||{}),group_properties:this._instance.get_property(nN)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var n=this._instance.config.__preview_remote_config,i=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",s=this._instance.requestRouter.endpointFor("api",(n?"/flags/?v=2":"/flags/?v=2&config=true")+i);n&&(r.timezone=lI()),this.me=!0,this._instance.Ee({method:"POST",url:s,data:r,compression:this._instance.config.disable_compression?void 0:rk.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,n,i,s=!0;200===e.statusCode&&(this.ye||(this.$anon_distinct_id=void 0),s=!1),this.me=!1,this.we||(this.we=!0,this._instance.Ie(null!=(i=e.json)?i:{})),(!r.disable_flags||this.ye)&&((this.Se=!s,e.json&&null!=(n=e.json.quotaLimited)&&n.includes(lD.FeatureFlags))?lA.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(r.disable_flags||this.receivedFeatureFlags(null!=(t=e.json)?t:{},s),this.ye&&(this.ye=!1,this.ke())))}})}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this._e||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],n=""+r,i=this._instance.get_property(lj)||void 0,s=this._instance.get_property(nD)||{};if((t.send_event||!("send_event"in t))&&(!(e in s)||!s[e].includes(n))){rU(s[e])?s[e].push(n):s[e]=[n],null==(l=this._instance.persistence)||l.register({[nD]:s});var o=this.getFeatureFlagDetails(e),a={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:(null==(u=this._instance.config.bootstrap)||null==(u=u.featureFlags)?void 0:u[e])||null,$feature_flag_bootstrapped_payload:(null==(c=this._instance.config.bootstrap)||null==(c=c.featureFlagPayloads)?void 0:c[e])||null,$used_bootstrap_value:!this.Se};rV(null==o||null==(h=o.metadata)?void 0:h.version)||(a.$feature_flag_version=o.metadata.version);var l,u,c,h,d,p,f,g,v,_,m=null!=(d=null==o||null==(p=o.reason)?void 0:p.description)?d:null==o||null==(f=o.reason)?void 0:f.code;m&&(a.$feature_flag_reason=m),null!=o&&null!=(g=o.metadata)&&g.id&&(a.$feature_flag_id=o.metadata.id),rV(null==o?void 0:o.original_variant)&&rV(null==o?void 0:o.original_enabled)||(a.$feature_flag_original_response=rV(o.original_variant)?o.original_enabled:o.original_variant),null!=o&&null!=(v=o.metadata)&&v.original_payload&&(a.$feature_flag_original_payload=null==o||null==(_=o.metadata)?void 0:_.original_payload),this._instance.capture("$feature_flag_called",a)}return r}lA.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var r=this._instance.config.token;this._instance.Ee({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:rk.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var n,i=null==(n=r.json)?void 0:n.featureFlagPayloads;t((null==i?void 0:i[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this._e||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);lA.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this._e=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads(),i=this.getFlagsWithDetails();!function(e,t,r,n,i){void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={});var s,o=((s=e.flags)?(e.featureFlags=Object.fromEntries(Object.keys(s).map(e=>{var t;return[e,null!=(t=s[e].variant)?t:s[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(s).filter(e=>s[e].enabled).filter(e=>{var t;return null==(t=s[e].metadata)?void 0:t.payload}).map(e=>{var t;return[e,null==(t=s[e].metadata)?void 0:t.payload]}))):lA.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e),a=o.flags,l=o.featureFlags,u=o.featureFlagPayloads;if(l){var c=e.requestId;if(rU(l)){lA.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var h={};if(l)for(var d=0;d<l.length;d++)h[l[d]]=!0;t&&t.register({[lC]:l,[nA]:h})}else{var p=l,f=u,g=a;e.errorsWhileComputingFlags&&(p=r3({},r,p),f=r3({},n,f),g=r3({},i,g)),t&&t.register(r3({[lC]:Object.keys(lL(p)),[nA]:p||{},[lP]:f||{},[nk]:g||{}},c?{[lj]:c}:{}))}}}(e,this._instance.persistence,r,n,i),this.Pe(t)}}override(e,t){void 0===t&&(t=!1),lA.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return lA.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(lk),this._instance.persistence.unregister(lN),void this.Pe();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t;if(this.ge=!!(null!=(t=e.suppressWarning)&&t),"flags"in e){if(!1===e.flags)this._instance.persistence.unregister(lk);else if(e.flags)if(rU(e.flags)){for(var r={},n=0;n<e.flags.length;n++)r[e.flags[n]]=!0;this._instance.persistence.register({[lk]:r})}else this._instance.persistence.register({[lk]:e.flags})}return"payloads"in e&&(!1===e.payloads?this._instance.persistence.unregister(lN):e.payloads&&this._instance.persistence.register({[lN]:e.payloads})),void this.Pe()}this.Pe()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._e){var{flags:t,flagVariants:r}=this.Re();e(t,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var r,n=(this._instance.get_property(nC)||[]).find(t=>t.flagKey===e),i={["$feature_enrollment/"+e]:t},s={$feature_flag:e,$feature_enrollment:t,$set:i};n&&(s.$early_access_feature_name=n.name),this._instance.capture("$feature_enrollment_update",s),this.setPersonPropertiesForFlags(i,!1);var o=r3({},this.getFlagVariants(),{[e]:t});null==(r=this._instance.persistence)||r.register({[lC]:Object.keys(lL(o)),[nA]:o}),this.Pe()}getEarlyAccessFeatures(e,t,r){void 0===t&&(t=!1);var n=this._instance.get_property(nC),i=r?"&"+r.map(e=>"stage="+e).join("&"):"";if(n&&!t)return e(n);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:t=>{var r;if(t.json){var n=t.json.earlyAccessFeatures;return null==(r=this._instance.persistence)||r.register({[nC]:n}),e(n)}}})}Re(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,r)=>(e[r]=t[r],e),{})}}Pe(e){var{flags:t,flagVariants:r}=this.Re();this.featureFlagEventHandlers.forEach(n=>n(t,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var r=this._instance.get_property(nP)||{};this._instance.register({[nP]:r3({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(nP)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var r=this._instance.get_property(nN)||{};0!==Object.keys(r).length&&Object.keys(r).forEach(t=>{r[t]=r3({},r[t],e[t]),delete e[t]}),this._instance.register({[nN]:r3({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(nN)||{};this._instance.register({[nN]:r3({},t,{[e]:{}})})}else this._instance.unregister(nN)}reset(){this._e=!1,this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$anon_distinct_id=void 0,this.xe(),this.ge=!1}}var lM=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class l${constructor(e,t){this.S=e,this.props={},this.Te=!1,this.Me=(e=>{var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"})(e),this.B=this.Ce(e),this.load(),e.debug&&rQ.info("Persistence loaded",e.persistence,r3({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.Fe}Ce(e){-1===lM.indexOf(e.persistence.toLowerCase())&&(rQ.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&sp.O()?sp:"localstorage+cookie"===t&&sg.O()?sg:"sessionstorage"===t&&sy.O()?sy:"memory"===t?s_:"cookie"===t?sh:sg.O()?sg:sh}properties(){var e={};return r8(this.props,function(t,r){if(r===nA&&rH(t))for(var n,i=Object.keys(t),s=0;s<i.length;s++)e["$feature/"+i[s]]=t[i[s]];else n=!1,(rG(nz)?n:ry&&nz.indexOf===ry?-1!=nz.indexOf(r):(r8(nz,function(e){if(n||(n=e===r))return r4}),n))||(e[r]=t)}),e}load(){if(!this.Fe){var e=this.B.L(this.Me);e&&(this.props=r9({},e))}}save(){this.Fe||this.B.j(this.Me,this.props,this.Oe,this.Ae,this.De,this.S.debug)}remove(){this.B.N(this.Me,!1),this.B.N(this.Me,!0)}clear(){this.remove(),this.props={}}register_once(e,t,r){if(rH(e)){rV(t)&&(t="None"),this.Oe=rV(r)?this.Le:r;var n=!1;if(r8(e,(e,r)=>{this.props.hasOwnProperty(r)&&this.props[r]!==t||(this.props[r]=e,n=!0)}),n)return this.save(),!0}return!1}register(e,t){if(rH(e)){this.Oe=rV(t)?this.Le:t;var r=!1;if(r8(e,(t,n)=>{e.hasOwnProperty(n)&&this.props[n]!==t&&(this.props[n]=t,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Te){var e=lE(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);rB(nn(e))||this.register(e),this.Te=!0}}update_search_keyword(){var e;this.register((e=null==rE?void 0:rE.referrer)?lw(e):{})}update_referrer_info(){var e;this.register_once({$referrer:lx(),$referring_domain:null!=rE&&rE.referrer&&(null==(e=ic(rE.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[nU]||this.props[nq]||this.register_once({[nH]:lT(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};r8([nq,nU],t=>{var r=this.props[t];r&&r8(r,function(t,r){e["$initial_"+rL(r)]=t})});var t,r,n=this.props[nH];return n&&r9(e,(t=lR(n),r={},r8(t,function(e,t){r["$initial_"+rL(t)]=e}),r)),e}safe_merge(e){return r8(this.props,function(t,r){r in e||(e[r]=t)}),e}update_config(e,t,r){if(this.Le=this.Oe=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!r),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.Ce(e),i=this.props;this.clear(),this.B=n,this.props=i,this.save()}}set_disabled(e){this.Fe=e,this.Fe?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ae&&(this.Ae=e,this.remove(),this.save())}set_secure(e){e!==this.De&&(this.De=e,this.remove(),this.save())}set_event_timer(e,t){var r=this.props[nu]||{};r[e]=t,this.props[nu]=r,this.save()}remove_event_timer(e){var t=(this.props[nu]||{})[e];return rV(t)||(delete this.props[nu][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}class lU{constructor(){this.je={},this.je={}}on(e,t){return this.je[e]||(this.je[e]=[]),this.je[e].push(t),()=>{this.je[e]=this.je[e].filter(e=>e!==t)}}emit(e,t){for(var r of this.je[e]||[])r(t);for(var n of this.je["*"]||[])n(e,t)}}class lq{constructor(e){this.Ne=new lU,this.ze=(e,t)=>this.Ue(e,t)&&this.qe(e,t)&&this.Be(e,t),this.Ue=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.He=new Set,this.We=new Set}init(){var e,t;rV(null==(e=this._instance)?void 0:e.Ge)||null==(t=this._instance)||t.Ge((e,t)=>{this.on(e,t)})}register(e){var t,r;if(!rV(null==(t=this._instance)?void 0:t.Ge)&&(e.forEach(e=>{var t,r;null==(t=this.We)||t.add(e),null==(r=e.steps)||r.forEach(e=>{var t;null==(t=this.He)||t.add((null==e?void 0:e.event)||"")})}),null!=(r=this._instance)&&r.autocapture)){var n,i=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&i.add(null==e?void 0:e.selector)})}),null==(n=this._instance)||n.autocapture.setElementSelectors(i)}}on(e,t){var r;null!=t&&0!=e.length&&(this.He.has(e)||this.He.has(null==t?void 0:t.event))&&this.We&&(null==(r=this.We)?void 0:r.size)>0&&this.We.forEach(e=>{this.Je(t,e)&&this.Ne.emit("actionCaptured",e.name)})}Ve(e){this.onAction("actionCaptured",t=>e(t))}Je(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var r of t.steps)if(this.ze(e,r))return!0;return!1}onAction(e,t){return this.Ne.on(e,t)}qe(e,t){if(null!=t&&t.url){var r,n=null==e||null==(r=e.properties)?void 0:r.$current_url;if(!n||"string"!=typeof n||!lq.Ke(n,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Ke(e,t,r){switch(r){case"regex":return!!rg&&aT(e,t);case"exact":return t===e;case"contains":return aT(e,lq.Ye(t).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static Ye(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Be(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.Xe(e).some(e=>!(null!=t&&t.href&&!lq.Ke(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!lq.Ke(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!lq.Ke(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var r,n=null==e||null==(r=e.properties)?void 0:r.$element_selectors;if(!n||!n.includes(null==t?void 0:t.selector))return!1}return!0}Xe(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}var lH=r0("[Surveys]"),lB="seenSurvey_";class lV{constructor(e){this._instance=e,this.Qe=new Map,this.Ze=new Map}register(e){var t;rV(null==(t=this._instance)?void 0:t.Ge)||(this.tr(e),this.ir(e))}ir(e){var t=e.filter(e=>{var t,r;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(r=e.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0});0!==t.length&&(null==this.er&&(this.er=new lq(this._instance),this.er.init(),this.er.Ve(e=>{this.onAction(e)})),t.forEach(e=>{var t,r,n,i,s;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(r=e.conditions)&&null!=(r=r.actions)&&r.values&&(null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)?void 0:n.length)>0&&(null==(i=this.er)||i.register(e.conditions.actions.values),null==(s=e.conditions)||null==(s=s.actions)||null==(s=s.values)||s.forEach(t=>{if(t&&t.name){var r=this.Ze.get(t.name);r&&r.push(e.id),this.Ze.set(t.name,r||[e.id])}}))}))}tr(e){var t;0!==e.filter(e=>{var t,r;return(null==(t=e.conditions)?void 0:t.events)&&(null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.length)>0}).length&&(null==(t=this._instance)||t.Ge((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var r=this.Qe.get(t.name);r&&r.push(e.id),this.Qe.set(t.name,r||[e.id])}})}))}onEvent(e,t){var r,n=(null==(r=this._instance)||null==(r=r.persistence)?void 0:r.props[nL])||[];if("survey shown"===e&&t&&n.length>0){lH.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:n});var i,s=null==t||null==(i=t.properties)?void 0:i.$survey_id;if(s){var o=n.indexOf(s);o>=0&&(n.splice(o,1),this.rr(n))}}else this.Qe.has(e)&&(lH.info("survey event matched, updating activated surveys",{event:e,surveys:this.Qe.get(e)}),this.rr(n.concat(this.Qe.get(e)||[])))}onAction(e){var t,r=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[nL])||[];this.Ze.has(e)&&this.rr(r.concat(this.Ze.get(e)||[]))}rr(e){var t;null==(t=this._instance)||null==(t=t.persistence)||t.register({[nL]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[nL])||[]}getEventToSurveys(){return this.Qe}sr(){return this.er}}class lW{constructor(e){this.nr=void 0,this.ar=null,this.lr=!1,this.ur=!1,this.hr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(rK(t))return lH.warn("Flags not loaded yet. Not loading surveys.");var r=rU(t);this.nr=r?t.length>0:t,lH.info("flags response received, isSurveysEnabled: "+this.nr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var r=localStorage.key(t);(null!=r&&r.startsWith(lB)||null!=r&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this.ar)if(this.ur)lH.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)lH.info("Disabled. Not loading surveys.");else{var e=null==rR?void 0:rR.__PosthogExtensions__;if(e){var t=this.nr;if(!rV(t)){this.ur=!0;try{var r=e.generateSurveys;if(r)return void this.dr(r,t);var n=e.loadExternalDependency;if(!n)return void this.vr("PostHog loadExternalDependency extension not found.");n(this._instance,"surveys",r=>{r||!e.generateSurveys?this.vr("Could not load surveys script",r):this.dr(e.generateSurveys,t)})}catch(e){throw this.vr("Error initializing surveys",e),e}finally{this.ur=!1}}}else lH.error("PostHog Extensions not found.")}}dr(e,t){this.ar=e(this._instance,t),this._surveyEventReceiver=new lV(this._instance),lH.info("Surveys loaded successfully"),this.cr({isLoaded:!0})}vr(e,t){lH.error(e,t),this.cr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.hr.push(e),this.ar&&this.cr({isLoaded:!0}),()=>{this.hr=this.hr.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return lH.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(nj);if(r&&!t)return e(r,{isLoaded:!0});if(this.lr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.lr=!0,this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{this.lr=!1;var r=t.statusCode;if(200!==r||!t.json){var n="Surveys API could not be loaded, status: "+r;return lH.error(n),e([],{isLoaded:!1,error:n})}var i,s,o=t.json.surveys||[],a=o.filter(e=>{var t,r;return!(!e.start_date||e.end_date)&&(!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)||!(null==(r=e.conditions)||null==(r=r.actions)||null==(r=r.values)||!r.length))});return a.length>0&&(null==(s=this._surveyEventReceiver)||s.register(a)),null==(i=this._instance.persistence)||i.register({[nj]:o}),e(o,{isLoaded:!0})}})}catch(e){throw this.lr=!1,e}}cr(e){for(var t of this.hr)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(e){lH.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!rK(this.ar))return this.ar.getActiveMatchingSurveys(e,t);lH.warn("init was not called")}pr(e){var t=null;return this.getSurveys(r=>{var n;t=null!=(n=r.find(t=>t.id===e))?n:null}),t}gr(e){if(rK(this.ar))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.pr(e):e;return t?this.ar.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(rK(this.ar))return lH.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.gr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return rK(this.ar)?(lH.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(t=>{var n,i=null!=(n=t.find(t=>t.id===e))?n:null;if(i){var s=this.gr(i);r({visible:s.eligible,disabledReason:s.reason})}else r({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(rK(this.ar))lH.warn("init was not called");else{var r=this.pr(e),n=null==rE?void 0:rE.querySelector(t);r?n?this.ar.renderSurvey(r,n):lH.warn("Survey element not found"):lH.warn("Survey not found")}}}(uS={}).Button="button",uS.Tab="tab",uS.Selector="selector",(uw={}).TopLeft="top_left",uw.TopRight="top_right",uw.TopCenter="top_center",uw.MiddleLeft="middle_left",uw.MiddleRight="middle_right",uw.MiddleCenter="middle_center",uw.Left="left",uw.Center="center",uw.Right="right",uw.NextToTrigger="next_to_trigger",(uO={}).Popover="popover",uO.API="api",uO.Widget="widget",(ux={}).Open="open",ux.MultipleChoice="multiple_choice",ux.SingleChoice="single_choice",ux.Rating="rating",ux.Link="link",(uT={}).NextQuestion="next_question",uT.End="end",uT.ResponseBased="response_based",uT.SpecificQuestion="specific_question",(uR={}).Once="once",uR.Recurring="recurring",uR.Always="always";var lz=((uI={}).SHOWN="survey shown",uI.DISMISSED="survey dismissed",uI.SENT="survey sent",uI),lG=((uA={}).SURVEY_ID="$survey_id",uA.SURVEY_NAME="$survey_name",uA.SURVEY_RESPONSE="$survey_response",uA.SURVEY_ITERATION="$survey_iteration",uA.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",uA.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",uA.SURVEY_SUBMISSION_ID="$survey_submission_id",uA.SURVEY_QUESTIONS="$survey_questions",uA.SURVEY_COMPLETED="$survey_completed",uA),lK=r0("[RateLimiter]");class lY{constructor(e){var t,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{lK.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void lK.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(r=e.config.rate_limiting)?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){void 0===e&&(e=!1);var t,r,n,i=(new Date).getTime(),s=null!=(t=null==(r=this.instance.persistence)?void 0:r.get_property(n$))?t:{tokens:this.captureEventsBurstLimit,last:i};s.tokens+=(i-s.last)/1e3*this.captureEventsPerSecond,s.last=i,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||e||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(n=this.instance.persistence)||n.set_property(n$,s),{isRateLimited:o,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var lJ=r0("[RemoteConfig]");class lX{constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=rR._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}_r(e){var t,r;null!=(t=rR.__PosthogExtensions__)&&t.loadExternalDependency?null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(lJ.error("PostHog Extensions not found. Cannot load remote config."),e())}mr(e){this._instance.Ee({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return lJ.info("Using preloaded remote config",this.remoteConfig),void this.Ie(this.remoteConfig);if(this._instance.I())return void lJ.warn("Remote config is disabled. Falling back to local config.");this._r(e=>{e?this.Ie(e):(lJ.info("No config found after loading remote JS config. Falling back to JSON."),this.mr(e=>{this.Ie(e)}))})}catch(e){lJ.error("Error loading remote config",e)}}Ie(e){e?this._instance.config.__preview_remote_config?(this._instance.Ie(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):lJ.info("__preview_remote_config is disabled. Logging config instead",e):lJ.error("Failed to fetch remote config from PostHog.")}}class lZ{constructor(e,t){this.br=!0,this.yr=[],this.wr=sT((null==t?void 0:t.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.Sr=e}enqueue(e){this.yr.push(e),this.$r||this.kr()}unload(){this.Er();var e=Object.values(this.yr.length>0?this.Ir():{});[...e.filter(e=>0===e.url.indexOf("/e")),...e.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.Sr(r3({},e,{transport:"sendBeacon"}))})}enable(){this.br=!1,this.kr()}kr(){var e=this;this.br||(this.$r=setTimeout(()=>{if(this.Er(),this.yr.length>0){var t=this.Ir();for(var r in t)!function(){var n=t[r],i=(new Date).getTime();n.data&&rU(n.data)&&r8(n.data,e=>{e.offset=Math.abs(e.timestamp-i),delete e.timestamp}),e.Sr(n)}()}},this.wr))}Er(){clearTimeout(this.$r),this.$r=void 0}Ir(){var e={};return r8(this.yr,t=>{var r,n=(t?t.batchKey:null)||t.url;rV(e[n])&&(e[n]=r3({},t,{data:[]})),null==(r=e[n].data)||r.push(t.data)}),this.yr=[],e}}var lQ=["retriesPerformedSoFar"];class l0{constructor(e){this.Pr=!1,this.Rr=3e3,this.yr=[],this._instance=e,this.yr=[],this.Tr=!0,!rV(rg)&&"onLine"in rg.navigator&&(this.Tr=rg.navigator.onLine,no(rg,"online",()=>{this.Tr=!0,this.se()}),no(rg,"offline",()=>{this.Tr=!1}))}get length(){return this.yr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,r=r5(e,lQ);rY(t)&&t>0&&(r.url=aS(r.url,{retry_count:t})),this._instance.Ee(r3({},r,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.Mr(r3({retriesPerformedSoFar:t},r)):null==r.callback||r.callback(e)}}))}Mr(e){var t,r,n,i=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=i+1;var s=(n=(Math.random()-.5)*((r=Math.min(18e5,t=3e3*Math.pow(2,i)))-t/2),Math.ceil(r+n)),o=Date.now()+s;this.yr.push({retryAt:o,requestOptions:e});var a="Enqueued failed request for retry in "+s;navigator.onLine||(a+=" (Browser is offline)"),rQ.warn(a),this.Pr||(this.Pr=!0,this.Cr())}Cr(){this.Fr&&clearTimeout(this.Fr),this.Fr=setTimeout(()=>{this.Tr&&this.yr.length>0&&this.se(),this.Cr()},this.Rr)}se(){var e=Date.now(),t=[],r=this.yr.filter(r=>r.retryAt<e||(t.push(r),!1));if(this.yr=t,r.length>0)for(var{requestOptions:n}of r)this.retriableRequest(n)}unload(){for(var{requestOptions:e}of(this.Fr&&(clearTimeout(this.Fr),this.Fr=void 0),this.yr))try{this._instance.Ee(r3({},e,{transport:"sendBeacon"}))}catch(e){rQ.error(e)}this.yr=[]}}class l1{constructor(e){this.Or=()=>{this.Ar||(this.Ar={});var e,t,r,n,i=this.scrollElement(),s=this.scrollY(),o=i?Math.max(0,i.scrollHeight-i.clientHeight):0,a=s+((null==i?void 0:i.clientHeight)||0),l=(null==i?void 0:i.scrollHeight)||0;this.Ar.lastScrollY=Math.ceil(s),this.Ar.maxScrollY=Math.max(s,null!=(e=this.Ar.maxScrollY)?e:0),this.Ar.maxScrollHeight=Math.max(o,null!=(t=this.Ar.maxScrollHeight)?t:0),this.Ar.lastContentY=a,this.Ar.maxContentY=Math.max(a,null!=(r=this.Ar.maxContentY)?r:0),this.Ar.maxContentHeight=Math.max(l,null!=(n=this.Ar.maxContentHeight)?n:0)},this._instance=e}getContext(){return this.Ar}resetContext(){var e=this.Ar;return setTimeout(this.Or,0),e}startMeasuringScrollPosition(){no(rg,"scroll",this.Or,{capture:!0}),no(rg,"scrollend",this.Or,{capture:!0}),no(rg,"resize",this.Or)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==rg?void 0:rg.document.documentElement;for(var e of rU(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var t=null==rg?void 0:rg.document.querySelector(e);if(t)return t}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return rg&&(rg.scrollY||rg.pageYOffset||rg.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return rg&&(rg.scrollX||rg.pageXOffset||rg.document.documentElement.scrollLeft)||0}}var l2=e=>lT(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class l3{constructor(e,t,r,n){this.Dr=e=>{var t=this.Lr();if(!t||t.sessionId!==e){var r={sessionId:e,props:this.jr(this._instance)};this.Nr.register({[nM]:r})}},this._instance=e,this.zr=t,this.Nr=r,this.jr=n||l2,this.zr.onSessionId(this.Dr)}Lr(){return this.Nr.props[nM]}getSetOnceProps(){var e,t=null==(e=this.Lr())?void 0:e.props;return t?"r"in t?lR(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return r8(nn(this.getSetOnceProps()),(t,r)=>{"$current_url"===r&&(r="url"),e["$session_entry_"+rL(r)]=t}),e}}var l5=r0("[SessionId]");class l4{constructor(e,t,r){if(this.Ur=[],!e.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Nr=e.persistence,this.fi=void 0,this.Ct=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.qr=t||sa,this.Br=r||sa;var n,i=this.S.persistence_name||this.S.token,s=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*sT(s,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Hr(),this.Wr="ph_"+i+"_window_id",this.Gr="ph_"+i+"_primary_window_exists",this.Jr()){var o=sy.L(this.Wr),a=sy.L(this.Gr);o&&!a?this.fi=o:sy.N(this.Wr),sy.j(this.Gr,!0)}if(null!=(n=this.S.bootstrap)&&n.sessionID)try{var l=(e=>{var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Vr(this.S.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){l5.error("Invalid sessionID in bootstrap",e)}this.Kr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return rV(this.Ur)&&(this.Ur=[]),this.Ur.push(e),this.Ct&&e(this.Ct,this.fi),()=>{this.Ur=this.Ur.filter(t=>t!==e)}}Jr(){return"memory"!==this.S.persistence&&!this.Nr.Fe&&sy.O()}Yr(e){e!==this.fi&&(this.fi=e,this.Jr()&&sy.j(this.Wr,e))}Xr(){return this.fi?this.fi:this.Jr()?sy.L(this.Wr):null}Vr(e,t,r){e===this.Ct&&t===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=t,this.Ct=e,this.Nr.register({[nx]:[t,e,r]}))}Qr(){if(this.Ct&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ct,this._sessionStartTimestamp];var e=this.Nr.props[nx];return rU(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Vr(null,null,null)}Kr(){no(rg,"beforeunload",()=>{this.Jr()&&sy.N(this.Gr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),this.S.__preview_experimental_cookieless_mode)throw Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var r=t||(new Date).getTime(),[n,i,s]=this.Qr(),o=this.Xr(),a=rY(s)&&s>0&&Math.abs(r-s)>864e5,l=!1,u=!i,c=!e&&Math.abs(r-n)>this.sessionTimeoutMs;u||c||a?(i=this.qr(),o=this.Br(),l5.info("new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),s=r,l=!0):o||(o=this.Br(),l=!0);var h=0===n||!e||a?r:n,d=0===s?(new Date).getTime():s;return this.Yr(o),this.Vr(i,h,d),e||this.Hr(),l&&this.Ur.forEach(e=>e(i,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:d,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:n}}Hr(){clearTimeout(this.Zr),this.Zr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var l6=["$set_once","$set"],l8=r0("[SiteApps]");class l9{constructor(e){this._instance=e,this.ts=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}es(e,t){if(t){var r=this.globalsForEvent(t);this.ts.push(r),this.ts.length>1e3&&(this.ts=this.ts.slice(10))}}get siteAppLoaders(){var e;return null==(e=rR._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ge(this.es.bind(this));this.rs=()=>{e(),this.ts=[],this.rs=void 0}}}globalsForEvent(e){if(!e)throw Error("Event payload is required");var t,r,n,i,s,o,a,l={},u=this._instance.get_property("$groups")||[];for(var[c,h]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))l[c]={id:u[c],type:c,properties:h};var{$set_once:d,$set:p}=e;return{event:r3({},r5(e,l6),{properties:r3({},e.properties,p?{$set:r3({},null!=(t=null==(r=e.properties)?void 0:r.$set)?t:{},p)}:{},d?{$set_once:r3({},null!=(n=null==(i=e.properties)?void 0:i.$set_once)?n:{},d)}:{}),elements_chain:null!=(s=null==(o=e.properties)?void 0:o.$elements_chain)?s:"",distinct_id:null==(a=e.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],r=()=>{var r;!t.errored&&this.ts.length&&(l8.info("Processing "+this.ts.length+" events for site app with id "+e.id),this.ts.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(r=this.rs)||r.call(this))},n=!1,i=i=>{t.errored=!i,t.loaded=!0,l8.info("Site app with id "+e.id+" "+(i?"loaded":"errored")),n&&r()};try{var{processEvent:s}=e.init({posthog:this._instance,callback:e=>{i(e)}});s&&(t.processEvent=s),n=!0}catch(t){l8.error("Error while initializing PostHog app with config id "+e.id,t),i(!1)}if(n&&t.loaded)try{r()}catch(r){l8.error("Error while processing buffered events PostHog app with config id "+e.id,r),t.errored=!0}}ss(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}ns(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{null==r.processEvent||r.processEvent(t)}catch(t){l8.error("Error while processing event "+e.event+" for site app "+r.id,t)}}}onRemoteConfig(e){var t,r,n,i=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.ss(),void this._instance.on("eventCaptured",e=>this.ns(e))):void l8.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(r=this.rs)||r.call(this),null!=(n=e.siteApps)&&n.length)if(this.isEnabled){var s=function(e){var t;rR["__$$ph_site_app_"+e]=i._instance,null==(t=rR.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(i._instance,a,t=>{if(t)return l8.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:o,url:a}of e.siteApps)s(o)}else l8.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var l7=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],ue=function(e,t){if(!e)return!1;var r=e.toLowerCase();return l7.concat(t||[]).some(e=>{var t=e.toLowerCase();return -1!==r.indexOf(t)})},ut=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&ue(r,t))return!0;try{var n=null==e?void 0:e.userAgentData;if(null!=n&&n.brands&&n.brands.some(e=>ue(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver},ur=((uC={}).US="us",uC.EU="eu",uC.CUSTOM="custom",uC),un="i.posthog.com";class ui{constructor(e){this.os={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+un,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.os[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=ur.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.os[this.apiHost]=ur.EU:this.os[this.apiHost]=ur.CUSTOM),this.os[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===ur.CUSTOM)return this.apiHost+t;var r=un+t;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var us={icontains:(e,t)=>!!rg&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!rg&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!rg&&aT(t.href,e),not_regex:(e,t)=>!!rg&&!aT(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class uo{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{uo.ls("retrieved web experiments from the server"),t.us=new Map,e.forEach(e=>{if(e.feature_flag_key){t.us&&(uo.ls("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(r=t.us)||r.set(e.feature_flag_key,e));var r,n=t._instance.getFeatureFlag(e.feature_flag_key);rW(n)&&e.variants[n]&&t.hs(e.name,n,e.variants[n].transforms)}else if(e.variants)for(var i in e.variants){var s=e.variants[i];uo.ds(s)&&t.hs(e.name,i,s.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())uo.ls("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(rK(this.us))return this.us=new Map,this.loadIfEnabled(),void this.previewWebExperiment();uo.ls("applying feature flags",e),e.forEach(e=>{var t;if(this.us&&null!=(t=this.us)&&t.has(e)){var r,n=this._instance.getFeatureFlag(e),i=null==(r=this.us)?void 0:r.get(e);n&&null!=i&&i.variants[n]&&this.hs(i.name,n,i.variants[n].transforms)}})}}previewWebExperiment(){var e=uo.getWindowLocation();if(null!=e&&e.search){var t=id(null==e?void 0:e.search,"__experiment_id"),r=id(null==e?void 0:e.search,"__experiment_variant");t&&r&&(uo.ls("previewing web experiments "+t+" && "+r),this.getWebExperiments(e=>{this.vs(parseInt(t),r,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var n=this._instance.get_property("$web_experiments");if(n&&!t)return e(n);this._instance.Ee({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>200===t.statusCode&&t.json?e(t.json.experiments||[]):e([])})}vs(e,t,r){var n=r.filter(t=>t.id===e);n&&n.length>0&&(uo.ls("Previewing web experiment ["+n[0].name+"] with variant ["+t+"]"),this.hs(n[0].name,t,n[0].variants[t].transforms))}static ds(e){return!rK(e.conditions)&&uo.cs(e)&&uo.fs(e)}static cs(e){if(rK(e.conditions)||rK(null==(t=e.conditions)?void 0:t.url))return!0;var t,r,n,i,s=uo.getWindowLocation();return!!s&&(null==(r=e.conditions)||!r.url||us[null!=(n=null==(i=e.conditions)?void 0:i.urlMatchType)?n:"icontains"](e.conditions.url,s))}static getWindowLocation(){return null==rg?void 0:rg.location}static fs(e){if(rK(e.conditions)||rK(null==(r=e.conditions)?void 0:r.utm))return!0;var t=lE();if(t.utm_source){var r,n,i,s,o,a,l,u,c,h=null==(n=e.conditions)||null==(n=n.utm)||!n.utm_campaign||(null==(i=e.conditions)||null==(i=i.utm)?void 0:i.utm_campaign)==t.utm_campaign,d=null==(s=e.conditions)||null==(s=s.utm)||!s.utm_source||(null==(o=e.conditions)||null==(o=o.utm)?void 0:o.utm_source)==t.utm_source,p=null==(a=e.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==t.utm_medium,f=null==(u=e.conditions)||null==(u=u.utm)||!u.utm_term||(null==(c=e.conditions)||null==(c=c.utm)?void 0:c.utm_term)==t.utm_term;return h&&p&&f&&d}return!1}static ls(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];rQ.info("[WebExperiments] "+e,r)}hs(e,t,r){this._is_bot()?uo.ls("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?r.forEach(r=>{if(r.selector){uo.ls("applying transform of variant "+t+" for experiment "+e+" ",r);var n,i=null==(n=document)?void 0:n.querySelectorAll(r.selector);null==i||i.forEach(e=>{r.html&&(e.innerHTML=r.html),r.css&&e.setAttribute("style",r.css)})}}):uo.ls("Control variants leave the page unmodified.")}_is_bot(){return rb&&this._instance?ut(rb,this._instance.config.custom_blocked_useragents):void 0}}var ua=r0("[PostHog ExternalIntegrations]"),ul={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class uu{constructor(e){this._instance=e}J(e,t){var r;null==(r=rR.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,e,e=>{if(e)return ua.error("failed to load script",e);t()})}startIfEnabledOrStop(){var e,t=this,r=function(e){var r,n,s;!i||null!=(r=rR.__PosthogExtensions__)&&null!=(r=r.integrations)&&r[e]||t.J(ul[e],()=>{var r;null==(r=rR.__PosthogExtensions__)||null==(r=r.integrations)||null==(r=r[e])||r.start(t._instance)}),!i&&null!=(n=rR.__PosthogExtensions__)&&null!=(n=n.integrations)&&n[e]&&(null==(s=rR.__PosthogExtensions__)||null==(s=s.integrations)||null==(s=s[e])||s.stop())};for(var[n,i]of Object.entries(null!=(e=this._instance.config.integrations)?e:{}))r(n)}}var uc={},uh=()=>{},ud="posthog",up=!ab&&-1===(null==rT?void 0:rT.indexOf("MSIE"))&&-1===(null==rT?void 0:rT.indexOf("Mozilla")),uf=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(e){var t=null==e?void 0:e.hostname;if(!rW(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of ni)if(r===n)return!1;return!0}(null==rE?void 0:rE.location),persistence:"localStorage+cookie",persistence_name:"",loaded:uh,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==e||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=e?e:"unset",debug:rS&&rW(null==rS?void 0:rS.search)&&-1!==rS.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==rg||null==(t=rg.location)?void 0:t.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;rQ.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:uh}},ug=e=>{var t={};rV(e.process_person)||(t.person_profiles=e.process_person),rV(e.xhr_headers)||(t.request_headers=e.xhr_headers),rV(e.cookie_name)||(t.persistence_name=e.cookie_name),rV(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),rV(e.store_google)||(t.save_campaign_params=e.store_google),rV(e.verbose)||(t.debug=e.verbose);var r=r9({},t,e);return rU(e.property_blacklist)&&(rV(e.property_denylist)?r.property_denylist=e.property_blacklist:rU(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:rQ.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class uv{constructor(){this.__forceAllowLocalhost=!1}get ps(){return this.__forceAllowLocalhost}set ps(e){rQ.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class u_{get decideEndpointWasHit(){var e,t;return null!=(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&e}get flagsEndpointWasHit(){var e,t;return null!=(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&e}constructor(){this.webPerformance=new uv,this.gs=!1,this.version=rI.LIB_VERSION,this._s=new lU,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=uf(),this.SentryIntegration=as,this.sentryIntegration=e=>{var t;return t=ai(this,e),{name:an,processEvent:e=>t(e)}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.bs=!1,this.ys=null,this.ws=null,this.Ss=null,this.featureFlags=new lF(this),this.toolbar=new ac(this),this.scrollManager=new l1(this),this.pageViewManager=new am(this),this.surveys=new lW(this),this.experiments=new uo(this),this.exceptions=new ak(this),this.rateLimiter=new lY(this),this.requestRouter=new ui(this),this.consent=new sE(this),this.externalIntegrations=new uu(this),this.people={set:(e,t,r)=>{var n=rW(e)?{[e]:t}:e;this.setPersonProperties(n),null==r||r({})},set_once:(e,t,r)=>{var n=rW(e)?{[e]:t}:e;this.setPersonProperties(void 0,n),null==r||r({})}},this.on("eventCaptured",e=>rQ.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,r){if(r&&r!==ud){var n,i=null!=(n=uc[r])?n:new u_;return i._init(e,t,r),uc[r]=i,uc[ud][r]=i,i}return this._init(e,t,r)}_init(e,t,r){if(void 0===t&&(t={}),rV(e)||rz(e))return rQ.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return rQ.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.$s=t,this.ks=[],t.person_profiles&&(this.ws=t.person_profiles),this.set_config(r9({},uf(t.defaults),ug(t),{name:r,token:e})),this.config.on_xhr_error&&rQ.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:rk.GZipJS;var n=this.xs();this.persistence=new l$(this.config,n),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new l$(r3({},this.config,{persistence:"sessionStorage"}),n);var i=r3({},this.persistence.props),s=r3({},this.sessionPersistence.props);if(this.register({$initialization_time:(new Date).toISOString()}),this.Es=new lZ(e=>this.Is(e),this.config.request_queue_config),this.Ps=new l0(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new l4(this),this.sessionPropsManager=new l3(this,this.sessionManager,this.persistence)),new ad(this).startIfEnabledOrStop(),this.siteApps=new l9(this),null==(o=this.siteApps)||o.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new at(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new im(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new a_(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new af(this),this.exceptionObserver=new sA(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new sx(this,sO),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new s0(this),this.historyAutocapture.startIfEnabled(),rI.DEBUG=rI.DEBUG||this.config.debug,rI.DEBUG&&rQ.info("Starting in debug mode",{this:this,config:t,thisC:r3({},this.config),p:i,s:s}),void 0!==(null==(a=t.bootstrap)?void 0:a.distinctID)){var o,a,l,u,c=this.config.get_device_id(sa()),h=null!=(l=t.bootstrap)&&l.isIdentifiedID?c:t.bootstrap.distinctID;this.persistence.set_property(nF,null!=(u=t.bootstrap)&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:h})}if(this.Rs()){var d,p,f=Object.keys((null==(d=t.bootstrap)?void 0:d.featureFlags)||{}).filter(e=>{var r;return!(null==(r=t.bootstrap)||null==(r=r.featureFlags)||!r[e])}).reduce((e,r)=>{var n;return e[r]=(null==(n=t.bootstrap)||null==(n=n.featureFlags)?void 0:n[r])||!1,e},{}),g=Object.keys((null==(p=t.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter(e=>f[e]).reduce((e,r)=>{var n,i;return null!=(n=t.bootstrap)&&null!=(n=n.featureFlagPayloads)&&n[r]&&(e[r]=null==(i=t.bootstrap)||null==(i=i.featureFlagPayloads)?void 0:i[r]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:f,featureFlagPayloads:g})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:nW,$device_id:null},"");else if(!this.get_distinct_id()){var v=this.config.get_device_id(sa());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(nF,"anonymous")}return no(rg,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var r=e.config.segment;if(!r)return t();!function(e,t){var r=e.config.segment;if(!r)return t();var n=r=>{var n=()=>r.anonymousId()||sa();e.config.get_device_id=n,r.id()&&(e.register({distinct_id:r.id(),$device_id:n()}),e.persistence.set_property(nF,"identified")),t()},i=r.user();"then"in i&&rq(i.then)?i.then(e=>n(e)):n(i)}(e,()=>{var n;r.register((Promise&&Promise.resolve||ar.warn("This browser does not have Promise support, and can not use the segment integration"),n=(t,r)=>{if(!r)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(ar.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(ar.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var n=e.calculateEventProperties(r,t.event.properties);return t.event.properties=Object.assign({},n,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>n(e,e.event.event),page:e=>n(e,"$pageview"),identify:e=>n(e,"$identify"),screen:e=>n(e,"$screen")})).then(()=>{t()})})}(this,()=>this.Ts()):this.Ts(),rq(this.config._onCapture)&&this.config._onCapture!==uh&&(rQ.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this.config.ip&&rQ.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ie(e){var t,r,n,i,s,o,a,l;rE&&rE.body?(this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=rN(e.supportedCompression,rk.GZipJS)?rk.GZipJS:rN(e.supportedCompression,rk.Base64)?rk.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ws?this.ws:"identified_only"}),null==(r=this.siteApps)||r.onRemoteConfig(e),null==(n=this.sessionRecording)||n.onRemoteConfig(e),null==(i=this.autocapture)||i.onRemoteConfig(e),null==(s=this.heatmaps)||s.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(o=this.webVitalsAutocapture)||o.onRemoteConfig(e),null==(a=this.exceptionObserver)||a.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)):(rQ.info("document not ready yet, trying again in 500 milliseconds..."),setTimeout(()=>{this.Ie(e)},500))}Ts(){try{this.config.loaded(this)}catch(e){rQ.critical("`loaded` function failed",e)}this.Ms(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Cs()},1),new lX(this).load(),this.featureFlags.flags()}Ms(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null==(e=this.Es)||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||r6(this.__request_queue,e=>this.Is(e)),this.__request_queue=[],this.Ms()}_handle_unload(){var e,t;this.config.request_batching?(this.Fs()&&this.capture("$pageleave"),null==(e=this.Es)||e.unload(),null==(t=this.Ps)||t.unload()):this.Fs()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Ee(e){this.__loaded&&(up?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=aS(e.url,{ip:+!!this.config.ip}),e.headers=r3({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,r,n,i=r3({},e);i.timeout=i.timeout||6e4,i.url=aS(i.url,{_:(new Date).getTime().toString(),ver:rI.LIB_VERSION,compression:i.compression});var s=null!=(t=i.transport)?t:"fetch",o=null!=(r=null==(n=ns(ax,e=>e.transport===s))?void 0:n.method)?r:ax[0].method;if(!o)throw Error("No available transport method");o(i)})(r3({},e,{callback:t=>{var r,n;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(r=(n=this.config).on_request_error)||r.call(n,t)),null==e.callback||e.callback(t)}}))))}Is(e){this.Ps?this.Ps.retriableRequest(e):this.Ee(e)}_execute_array(e){var t,r=[],n=[],i=[];r6(e,e=>{e&&(rU(t=e[0])?i.push(e):rq(e)?e.call(this):rU(e)&&"alias"===t?r.push(e):rU(e)&&-1!==t.indexOf("capture")&&rq(this[t])?i.push(e):n.push(e))});var s=function(e,t){r6(e,function(e){if(rU(e[0])){var r=t;r8(e,function(e){r=r[e[0]].apply(r,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};s(r,this),s(n,this),s(i,this)}Rs(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,r){var n;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Es){if(!this.consent.isOptedOut())if(!rV(e)&&rW(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=null!=r&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){null!=t&&t.$current_url&&!rW(null==t?void 0:t.$current_url)&&(rQ.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,o=(null==r?void 0:r.timestamp)||s,a=sa(),l={uuid:a,event:e,properties:this.calculateEventProperties(e,t||{},o,a)};i&&(l.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==r?void 0:r.$set)&&(l.$set=null==r?void 0:r.$set);var u,c,h=this.Os(null==r?void 0:r.$set_once);if(h&&(l.$set_once=h),(d=l,p=null!=r&&r._noTruncate?null:this.config.properties_string_max_length,f=e=>rW(e)&&!rG(p)?e.slice(0,p):e,g=new Set,l=function e(t,r){var n;return t!==Object(t)?f?f(t,r):t:g.has(t)?void 0:(g.add(t),rU(t)?(n=[],r6(t,t=>{n.push(e(t))})):(n={},r8(t,(t,r)=>{g.has(t)||(n[r]=e(t,r))})),n)}(d)).timestamp=o,rV(null==r?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=s),e===lz.DISMISSED||e===lz.SENT){var d,p,f,g,v,_,m,y=null==t?void 0:t[lG.SURVEY_ID],b=null==t?void 0:t[lG.SURVEY_ITERATION];localStorage.setItem((c=""+lB+(u={id:y,current_iteration:b}).id,u.current_iteration&&u.current_iteration>0&&(c=""+lB+u.id+"_"+u.current_iteration),c),"true"),l.$set=r3({},l.$set,{[(v={id:y,current_iteration:b},m="$survey_"+(_=e===lz.SENT?"responded":"dismissed")+"/"+v.id,v.current_iteration&&v.current_iteration>0&&(m="$survey_"+_+"/"+v.id+"/"+v.current_iteration),m)]:!0})}var E=r3({},l.properties.$set,l.$set);if(rB(E)||this.setPersonPropertiesForFlags(E),!rK(this.config.before_send)){var S=this.As(l);if(!S)return;l=S}this._s.emit("eventCaptured",l);var w={method:"POST",url:null!=(n=null==r?void 0:r._url)?n:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:null==r?void 0:r._batchKey};return!this.config.request_batching||r&&(null==r||!r._batchKey)||null!=r&&r.send_instantly?this.Is(w):this.Es.enqueue(w),l}rQ.critical("This capture call is ignored due to client rate limiting.")}}else rQ.error("No event name provided to posthog.capture")}else rQ.uninitializedWarning("posthog.capture")}Ge(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,r,n,i){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return t;var s,o=i?void 0:this.persistence.remove_event_timer(e),a=r3({},t);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),"$snapshot"===e){var l=r3({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!rW(a.distinct_id)&&!rY(a.distinct_id)||rz(a.distinct_id))&&rQ.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var u,c=function(e,t){if(!rT)return{};var r,n,i=e?r7([],l_,t||[]):[],[s,o]=function(e){for(var t=0;t<lf.length;t++){var[r,n]=lf[t],i=r.exec(e),s=i&&(rq(n)?n(i,e):n);if(s)return s}return["",""]}(rT);return r9(nn({$os:s,$os_version:o,$browser:lh(rT,navigator.vendor),$device:lg(rT),$device_type:(n=lg(rT))===aD||n===aL||"Kobo"===n||"Kindle Fire"===n||n===lr?aj:n===a1||n===a3||n===a2||n===a7?"Console":n===aM?"Wearable":n?aP:"Desktop",$timezone:lI(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}}()}),{$current_url:ip(null==rS?void 0:rS.href,i,ly),$host:null==rS?void 0:rS.host,$pathname:null==rS?void 0:rS.pathname,$raw_user_agent:rT.length>1e3?rT.substring(0,997)+"...":rT,$browser_version:lp(rT,navigator.vendor),$browser_language:lO(),$browser_language_prefix:"string"==typeof(r=lO())?r.split("-")[0]:void 0,$screen_height:null==rg?void 0:rg.screen.height,$screen_width:null==rg?void 0:rg.screen.width,$viewport_height:null==rg?void 0:rg.innerHeight,$viewport_width:null==rg?void 0:rg.innerWidth,$lib:"web",$lib_version:rI.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId(i,r.getTime());a.$session_id=h,a.$window_id=d}this.sessionPropsManager&&r9(a,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&r9(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(s=this.Ps)?void 0:s.length}catch(e){a.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===ur.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u="$pageview"!==e||i?"$pageleave"!==e||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,n),a=r9(a,u),"$pageview"===e&&rE&&(a.title=rE.title),!rV(o)){var p=r.getTime()-o;a.$duration=parseFloat((p/1e3).toFixed(3))}rT&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=r9({},c,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),rU(this.config.property_denylist)?r8(this.config.property_denylist,function(e){delete a[e]}):rQ.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;f&&(rQ.error("sanitize_properties is deprecated. Use before_send instead"),a=f(a,e));var g=this.Ds();return a.$process_person_profile=g,g&&!i&&this.Ls("_calculate_event_properties"),a}Os(e){if(!this.persistence||!this.Ds()||this.gs)return e;var t,r=r9({},this.persistence.get_initial_props(),(null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps())||{},e||{}),n=this.config.sanitize_properties;return n&&(rQ.error("sanitize_properties is deprecated. Use before_send instead"),r=n(r,"$set_once")),this.gs=!0,rB(r)?void 0:r}register(e,t){var r;null==(r=this.persistence)||r.register(e,t)}register_once(e,t,r){var n;null==(n=this.persistence)||n.register_once(e,t,r)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}js(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e,t,r){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,r)}on(e,t){return this._s.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,r;return null!=(t=null==(r=this.sessionManager)?void 0:r.onSessionId(e))?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,r){if(!this.__loaded||!this.persistence)return rQ.uninitializedWarning("posthog.identify");if(rY(e)&&(e=e.toString(),rQ.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))rQ.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==nW){if(this.Ls("posthog.identify")){var n=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:n},""),e!==n&&e!==this.get_property(nl)&&(this.unregister(nl),this.register({distinct_id:e}));var i="anonymous"===(this.persistence.get_property(nF)||"anonymous");e!==n&&i?(this.persistence.set_property(nF,"identified"),this.setPersonPropertiesForFlags(r3({},r||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:n},{$set:t||{},$set_once:r||{}}),this.Ss=aR(e,t,r),this.featureFlags.setAnonymousDistinctId(n)):(t||r)&&this.setPersonProperties(t,r),e!==n&&(this.reloadFeatureFlags(),this.unregister(nD))}}else rQ.critical('The string "'+nW+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else rQ.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Ls("posthog.setPersonProperties")){var r=aR(this.get_distinct_id(),e,t);this.Ss!==r?(this.setPersonPropertiesForFlags(r3({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.Ss=r):rQ.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,r){if(e&&t){if(this.Ls("posthog.group")){var n=this.getGroups();n[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:r3({},n,{[e]:t})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),n[e]===t||r||this.reloadFeatureFlags()}}else rQ.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Ls("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){if(rQ.info("reset"),!this.__loaded)return rQ.uninitializedWarning("posthog.reset");var t,r,n,i,s=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(r=this.sessionPersistence)||r.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(n=this.persistence)||n.set_property(nF,"anonymous"),null==(i=this.sessionManager)||i.resetSessionId(),this.Ss=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:nW,$device_id:null},"");else{var o=this.config.get_device_id(sa());this.register_once({distinct_id:o,$device_id:e?o:s},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!=(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&r){var i,s=null!=(i=e.timestampLookBack)?i:10;if(!r)return n;n+="?t="+Math.max(Math.floor(((new Date).getTime()-r)/1e3)-s,0)}return n}alias(e,t){return e===this.get_property(na)?(rQ.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ls("posthog.alias")?(rV(t)&&(t=this.get_distinct_id()),e!==t?(this.js(nl,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(rQ.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=r3({},this.config);if(rH(e)){r9(this.config,ug(e));var r,n,i,s,o,a=this.xs();null==(r=this.persistence)||r.update_config(this.config,t,a),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new l$(r3({},this.config,{persistence:"sessionStorage"}),a),sp.O()&&"true"===sp.D("ph_debug")&&(this.config.debug=!0),this.config.debug&&(rI.DEBUG=!0,rQ.info("set_config",{config:e,oldConfig:t,newConfig:r3({},this.config)})),null==(n=this.sessionRecording)||n.startIfEnabledOrStop(),null==(i=this.autocapture)||i.startIfEnabled(),null==(s=this.heatmaps)||s.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ns(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(e){var t,r,n,i,s,o=!0===e,a={sampling:o||!(null==e||!e.sampling),linked_flag:o||!(null==e||!e.linked_flag),url_trigger:o||!(null==e||!e.url_trigger),event_trigger:o||!(null==e||!e.event_trigger)};Object.values(a).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),a.sampling&&(null==(r=this.sessionRecording)||r.overrideSampling()),a.linked_flag&&(null==(n=this.sessionRecording)||n.overrideLinkedFlag()),a.url_trigger&&(null==(i=this.sessionRecording)||i.overrideTrigger("url")),a.event_trigger&&(null==(s=this.sessionRecording)||s.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var r=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(r3({},function(e,t){var{error:r,event:n}=e,i={$exception_list:[]},s=r||n;if(sj(s)||sN(s,"DOMException")){if("stack"in s)i=sX(s,t);else{var o=s.name||(sj(s)?"DOMError":"DOMException"),a=s.message?o+": "+s.message:o;i=sZ(a,r3({},t,{overrideExceptionType:sj(s)?"DOMError":"DOMException",defaultExceptionMessage:a}))}return"code"in s&&(i.$exception_DOMException_code=""+s.code),i}if(sN(s,"ErrorEvent")&&s.error)return sX(s.error,t);if(sP(s))return sX(s,t);if(sN(s,"Object")||sC(s))return function(e,t){var r,n,i,s=null==(n=null==t?void 0:t.handled)||n,o=null==(i=null==t?void 0:t.synthetic)||i,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:sC(e)?e.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(e,t){void 0===t&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}(e),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=sY(null==t?void 0:t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:rW(r=e.level)&&!rz(r)&&rP.indexOf(r)>=0?e.level:"error"}}(s,t);if(rV(r)&&rW(n)){var l="Error",u=n,c=n.match(sK);return c&&(l=c[1],u=c[2]),sZ(u,r3({},t,{overrideExceptionType:l,defaultExceptionMessage:u}))}return sZ(s,t)}(e instanceof Error?{error:e,event:e.message}:{event:e},{syntheticException:r}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!=(e=this.config.name)?e:ud;return t!==ud&&(t=ud+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(nF))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(nF))}Ds(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&rB(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[nl])&&(null==(t=this.persistence)||null==(t=t.props)||!t[nB]))}Fs(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Ds()||this.Ls("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ls(e){return"never"===this.config.person_profiles?(rQ.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.js(nB,!0),!0)}xs(){var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default;return this.config.disable_persistence||e&&!!t}Ns(){var e,t,r,n,i=this.xs();return(null==(e=this.persistence)?void 0:e.Fe)!==i&&(null==(r=this.persistence)||r.set_disabled(i)),(null==(t=this.sessionPersistence)?void 0:t.Fe)!==i&&(null==(n=this.sessionPersistence)||n.set_disabled(i)),i}opt_in_capturing(e){var t;this.consent.optInOut(!0),this.Ns(),(rV(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!=(t=null==e?void 0:e.captureEventName)?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Cs()}opt_out_capturing(){this.consent.optInOut(!1),this.Ns()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.Ns()}_is_bot(){return rb?ut(rb,this.config.custom_blocked_useragents):void 0}Cs(){rE&&("visible"===rE.visibilityState?this.bs||(this.bs=!0,this.capture("$pageview",{title:rE.title},{send_instantly:!0}),this.ys&&(rE.removeEventListener("visibilitychange",this.ys),this.ys=null)):this.ys||(this.ys=this.Cs.bind(this),no(rE,"visibilitychange",this.ys)))}debug(e){!1===e?(null==rg||rg.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==rg||rg.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var e,t,r,n,i=this.$s||{};return"advanced_disable_flags"in i?!!i.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(rQ.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(t="advanced_disable_decide",r=(e="advanced_disable_flags")in i&&!rV(i[e]),n=t in i&&!rV(i[t]),r?i[e]:!!n&&(rQ&&rQ.warn("Config field '"+t+"' is deprecated. Please use '"+e+"' instead. The old field will be removed in a future major version."),i[t]))}As(e){if(rK(this.config.before_send))return e;var t=rU(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var n of t){if(rK(r=n(r))){var i="Event '"+e.event+"' was rejected in beforeSend function";return rX(e.event)?rQ.warn(i+". This can cause unexpected behavior."):rQ.info(i),null}r.properties&&!rB(r.properties)||rQ.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return null==(e=this.pageViewManager.ce)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(r)})}}for(var um=["identify"],uy=0;uy<um.length;uy++)u_.prototype[um[uy]]=nr(u_.prototype[um[uy]]);var ub,uE,uS,uw,uO,ux,uT,uR,uI,uA,uC,uk,uP=(uk=uc[ud]=new u_,function(){function e(){e.done||(e.done=!0,up=!1,r8(uc,function(e){e._dom_loaded()}))}null!=rE&&rE.addEventListener?"complete"===rE.readyState?e():no(rE,"DOMContentLoaded",e,{capture:!1}):rg&&rQ.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),uk);let uN=new class{initStarted=!1;initialized=!1;pendingGroups={};pendingIdentification=null;pendingEvents=[];config;maxPendingEvents=20;constructor(e={}){const t=e.apiHost||g.default.env.NEXT_PUBLIC_POSTHOG_HOST||"https://ph.supabase.green",r=e.uiHost||g.default.env.NEXT_PUBLIC_POSTHOG_UI_HOST||"https://eu.posthog.com";this.config={apiKey:e.apiKey||g.default.env.NEXT_PUBLIC_POSTHOG_KEY,apiHost:t,uiHost:r}}init(e=!0){if(this.initStarted||!e)return;if(!this.config.apiKey)return void console.warn("PostHog API key not found. Skipping initialization.");let t={api_host:this.config.apiHost,ui_host:this.config.uiHost,autocapture:!1,capture_pageview:!1,capture_pageleave:!1,loaded:e=>{if(Object.entries(this.pendingGroups).forEach(([t,r])=>{e.group(t,r)}),this.pendingGroups={},this.pendingIdentification){try{e.identify(this.pendingIdentification.userId,this.pendingIdentification.properties)}catch(e){console.error("PostHog identify failed:",e)}this.pendingIdentification=null}this.pendingEvents.forEach(({event:t,properties:r})=>{try{e.capture(t,r,{transport:"sendBeacon"})}catch(e){console.error("PostHog capture failed:",e)}}),this.pendingEvents=[],this.initialized=!0}};this.initStarted=!0,uP.init(this.config.apiKey,t)}capturePageView(e,t=!0){if(t){if(!this.initialized){this.pendingEvents.length>=this.maxPendingEvents&&this.pendingEvents.shift(),this.pendingEvents.push({event:"$pageview",properties:e});return}try{e.$groups&&Object.entries(e.$groups).forEach(([e,t])=>{t&&uP.group(e,t)}),uP.capture("$pageview",e,{transport:"sendBeacon"})}catch(e){console.error("PostHog pageview capture failed:",e)}}}capturePageLeave(e,t=!0){if(t){if(!this.initialized){this.pendingEvents.length>=this.maxPendingEvents&&this.pendingEvents.shift(),this.pendingEvents.push({event:"$pageleave",properties:e});return}try{uP.capture("$pageleave",e,{transport:"sendBeacon"})}catch(e){console.error("PostHog pageleave capture failed:",e)}}}identify(e,t,r=!0){if(r){if(!this.initialized){this.pendingIdentification={userId:e,properties:t};return}try{uP.identify(e,t)}catch(e){console.error("PostHog identify failed:",e)}}}reset(){if(this.pendingIdentification=null,this.pendingGroups={},this.pendingEvents=[],this.initStarted)try{uP.reset()}catch(e){console.error("PostHog reset failed:",e)}}getDistinctId(){if(this.initialized)try{return uP.get_distinct_id()}catch(e){console.error("PostHog getDistinctId failed:",e);return}}};e.s(["posthogClient",0,uN],239745);let{TELEMETRY_DATA:uj}=o;function uL(e){try{let t=new URL(e).hostname;return"supabase.com"!==t&&!t.endsWith(".supabase.com")}catch{return!1}}function uD(e,t,r,n,i,s){{let e=ri(t),o=e.ph.referrer,a=s?.ph?.referrer,l=!!(a&&uL(a)&&!uL(o)),u=s?{...e,ph:{...e.ph,referrer:l?a:o}}:e,c=s?function(e){let t=e.page_url;try{let e=new URL(t);e.hash="";let r=e.searchParams,n=e=>{let t=r.get(e);return t&&t.length>0?t:void 0},i={...n("utm_source")&&{$utm_source:n("utm_source")},...n("utm_medium")&&{$utm_medium:n("utm_medium")},...n("utm_campaign")&&{$utm_campaign:n("utm_campaign")},...n("utm_content")&&{$utm_content:n("utm_content")},...n("utm_term")&&{$utm_term:n("utm_term")}},s={...n("gclid")&&{gclid:n("gclid")},...n("gbraid")&&{gbraid:n("gbraid")},...n("wbraid")&&{wbraid:n("wbraid")},...n("msclkid")&&{msclkid:n("msclkid")},...n("fbclid")&&{fbclid:n("fbclid")},...n("rdt_cid")&&{rdt_cid:n("rdt_cid")},...n("ttclid")&&{ttclid:n("ttclid")},...n("twclid")&&{twclid:n("twclid")},...n("li_fat_id")&&{li_fat_id:n("li_fat_id")}};return{...i,...s,first_touch_url:e.href,first_touch_pathname:e.pathname,...e.search&&{first_touch_search:e.search}}}catch{return{}}}(s):{},h=u.ph.referrer,d=(()=>{if(h)try{return new URL(h).hostname}catch{return}})();u.session_id&&(document.cookie=`session_id=${u.session_id}; ${rr()}`),uN.capturePageView({$current_url:u.page_url,$pathname:u.pathname,$host:new URL(u.page_url).hostname,...h&&{$referrer:h},...d&&{$referring_domain:d},...c,$groups:{...n?{organization:n}:{},...i?{project:i}:{}},page_title:u.page_title,...u.session_id&&{$session_id:u.session_id},...u.ph,...Object.fromEntries(Object.entries(r||{}).map(([e,t])=>[`$feature/${e}`,t]))})}return Promise.resolve()}function uF(e,t,r,n,i){{let e=ri(t);uN.capturePageLeave({$current_url:e.page_url,$pathname:e.pathname,page_title:e.page_title,...e.session_id&&{$session_id:e.session_id}})}return Promise.resolve()}function uM(e,t,r){if(!tk())return;let n={...ri(r),action:t.action,custom_properties:"properties"in t?t.properties:{},groups:"groups"in t?{...t.groups}:{}};return n.groups?.project==="Unknown"&&(delete n.groups.project,n.groups?.organization==="Unknown"&&delete n.groups),tM(`${t$(e)}/telemetry/event`,n,{headers:{Version:"2"}})}function u$(e,t){return tk()?tM(`${t$(e)}/telemetry/identify`,t,{headers:{Version:"2"}}):Promise.resolve()}function uU(e){let t=p();(0,s.useEffect)(()=>{if(t?.id){let r=uN.getDistinctId();u$(e,{user_id:t.id,...r&&{anonymous_id:r}}),uN.identify(t.id,{gotrue_id:t.id})}},[e,t?.id])}function uq(e){return tM(`${e}/telemetry/reset`,{})}e.s(["PageTelemetry",0,({API_URL:e,hasAcceptedConsent:t,enabled:r=!0,organizationSlug:n,projectRef:i})=>{let a=(0,t7.useRouter)(),l=a?.pathname,u=(0,rd.usePathname)(),c=re(),h=n||c.slug,d=i||c.ref,p=tB();!function({enabled:e}){let t=o.TELEMETRY_DATA;(0,s.useEffect)(()=>{if(!e)return;let r=document.cookie.split(";"),n=rr();if(r.find(e=>e.trim().startsWith(`${t}=`)))return;let i=encodeURIComponent(JSON.stringify(ri(window.location.pathname)));document.cookie=`${t}=${i}; ${n}`},[e,t])}({enabled:r&&tI});let f=rf(l??u??window.location.pathname),g=rf(p.posthog),v=(0,s.useCallback)(()=>r&&t?uD(e,f.current,g.current,h,d).catch(e=>{console.error("Problem sending telemetry page:",e)}):Promise.resolve(),[e,r,t,h,d]),_=(0,s.useCallback)(()=>r&&t&&f.current?uF(e,f.current,g.current,h,d).catch(e=>{console.error("Problem sending telemetry page-leave:",e)}):Promise.resolve(),[e,r,t,h,d]),m=(0,s.useRef)(!1),y=(0,s.useRef)(null);return(0,s.useEffect)(()=>{t&&tI&&uN.init(!0)},[t,tI]),(0,s.useEffect)(()=>{if((a?.isReady??!0)&&t&&!m.current){let t=document.cookie.split(";"),r=t.map(e=>e.trim()).find(e=>e.startsWith(`${uj}=`))?.slice(`${uj}=`.length);if(r)try{let t=JSON.parse(decodeURIComponent(r));uD(e,f.current,g.current,h,d,t)}catch(t){tA||console.warn("Invalid telemetry cookie data:",t),uD(e,f.current,g.current,h,d)}finally{rn()}else uD(e,f.current,g.current,h,d);m.current=!0}},[a?.isReady,t,h,d]),(0,s.useEffect)(()=>{if(null!==a)return a.events.on("routeChangeComplete",e),()=>{a.events.off("routeChangeComplete",e)};function e(){m.current&&v()}},[a]),(0,s.useEffect)(()=>{null===a&&(u&&null!==y.current&&y.current!==u&&v(),y.current=u)},[u,a,v]),(0,s.useEffect)(()=>{if(!r)return;let e=()=>_();return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[r,_]),uU(e),null},"TelemetryTagManager",0,()=>{if(tI&&g.default.env.NEXT_PUBLIC_GOOGLE_TAG_MANAGER_ID)return(0,i.jsx)(rp.default,{id:"consent",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s);j.async=true;j.src=\"https://ss.supabase.com/4icgbaujh.js?\"+i;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','60a389s=aWQ9R1RNLVdDVlJMTU43&page=2');"}})},"handlePageLeaveTelemetry",()=>uF,"handleResetTelemetry",()=>uq,"sendTelemetryEvent",()=>uM,"sendTelemetryIdentify",()=>u$,"useTelemetryIdentify",()=>uU],709364),e.s([],128328)}]);