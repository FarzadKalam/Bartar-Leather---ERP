(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,937942,e=>{"use strict";var t=e.i(478902),r=e.i(210419),i=e.i(843778);let s="underline transition underline-offset-2 decoration-foreground-lighter hover:decoration-foreground text-inherit hover:text-foreground";e.s(["InlineLink",0,({href:e,className:n,children:a,title:o,...u})=>{let l=(0,i.cn)(s,n);return e.startsWith("http")?(0,t.jsx)("a",{title:o,className:l,href:e,target:"_blank",rel:"noreferrer noopener",...u,children:a}):(0,t.jsx)(r.default,{className:l,href:e,title:o,...u,children:a})},"InlineLinkClassName",0,s])},265735,e=>{"use strict";e.i(128328);var t=e.i(704206),r=e.i(158639),i=e.i(811025),s=e.i(164045);function n({enabled:e=!0}={}){let a=(0,t.useIsLoggedIn)(),{ref:o,slug:u}=(0,r.useParams)(),{data:l}=(0,s.useProjectDetailQuery)({ref:o});return(0,i.useOrganizationsQuery)({enabled:a&&e,select:e=>e.find(e=>void 0!==u?e.slug===u:void 0!==l?e.id===l.organization_id:void 0)})}e.s(["useSelectedOrganizationQuery",()=>n])},775662,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useIntersection",{enumerable:!0,get:function(){return u}});let i=e.r(389959),s=e.r(211516),n="function"==typeof IntersectionObserver,a=new Map,o=[];function u({rootRef:e,rootMargin:t,disabled:r}){let u=r||!n,[l,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),f=(0,i.useCallback)(e=>{d.current=e},[]);return(0,i.useEffect)(()=>{if(n){if(u||l)return;let r=d.current;if(r&&r.tagName)return function(e,t,r){let{id:i,observer:s,elements:n}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},i=o.find(e=>e.root===r.root&&e.margin===r.margin);if(i&&(t=a.get(i)))return t;let s=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:s},o.push(r),a.set(r,t),t}(r);return n.set(e,t),s.observe(e),function(){if(n.delete(e),s.unobserve(e),0===n.size){s.disconnect(),a.delete(i);let e=o.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&o.splice(e,1)}}}(r,e=>e&&c(e),{root:e?.current,rootMargin:t})}else if(!l){let e=(0,s.requestIdleCallback)(()=>c(!0));return()=>(0,s.cancelIdleCallback)(e)}},[u,t,e,l,d.current]),[f,l,(0,i.useCallback)(()=>{c(!1)},[])]}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},123665,(e,t,r)=>{"use strict";function i(e,t,r,i){return!1}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getDomainLocale",{enumerable:!0,get:function(){return i}}),e.r(451904),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},130584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let i=e.r(389959);function s(e,t){let r=(0,i.useRef)(null),s=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,i)),t&&(s.current=n(t,i))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},747898,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},260429,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return P},useLinkStatus:function(){return E}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let n=e.r(887602),a=e.r(478902),o=n._(e.r(389959)),u=e.r(372001),l=e.r(458478),c=e.r(915154),d=e.r(56648),f=e.r(586392),h=e.r(29202),p=e.r(775662),g=e.r(123665),m=e.r(331030),v=e.r(130584);e.r(747898);let y=new Set;function b(e,t,r,i){if("undefined"!=typeof window&&(0,l.isLocalURL)(t)){if(!i.bypassPrefetchedCheck){let s=t+"%"+r+"%"+(void 0!==i.locale?i.locale:"locale"in e?e.locale:void 0);if(y.has(s))return;y.add(s)}e.prefetch(t,r,i).catch(e=>{})}}function C(e){return"string"==typeof e?e:(0,c.formatUrl)(e)}let _=o.default.forwardRef(function(e,t){let r,i,{href:s,as:n,children:c,prefetch:y=null,passHref:_,replace:w,shallow:E,scroll:P,locale:x,onClick:M,onNavigate:I,onMouseEnter:R,onTouchStart:T,legacyBehavior:N=!1,...O}=e;r=c,N&&("string"==typeof r||"number"==typeof r)&&(r=(0,a.jsx)("a",{children:r}));let S=o.default.useContext(h.RouterContext),A=!1!==y,{href:L,as:j}=o.default.useMemo(()=>{if(!S){let e=C(s);return{href:e,as:n?C(n):e}}let[e,t]=(0,u.resolveHref)(S,s,!0);return{href:e,as:n?(0,u.resolveHref)(S,n):t||e}},[S,s,n]),U=o.default.useRef(L),K=o.default.useRef(j);N&&(i=o.default.Children.only(r));let z=N?i&&"object"==typeof i&&i.ref:t,[B,k,D]=(0,p.useIntersection)({rootMargin:"200px"}),G=o.default.useCallback(e=>{(K.current!==j||U.current!==L)&&(D(),K.current=j,U.current=L),B(e)},[j,L,D,B]),Q=(0,v.useMergedRef)(G,z);o.default.useEffect(()=>{!S||k&&A&&b(S,L,j,{locale:x})},[j,L,k,x,A,S?.locale,S]);let H={ref:Q,onClick(e){N||"function"!=typeof M||M(e),N&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),!S||e.defaultPrevented||function(e,t,r,i,s,n,a,o,u){let c,{nodeName:d}=e.currentTarget;if(!("A"===d.toUpperCase()&&((c=e.currentTarget.getAttribute("target"))&&"_self"!==c||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which)||e.currentTarget.hasAttribute("download"))){if(!(0,l.isLocalURL)(r)){s&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(u){let e=!1;if(u({preventDefault:()=>{e=!0}}),e)return}let e=a??!0;"beforePopState"in t?t[s?"replace":"push"](r,i,{shallow:n,locale:o,scroll:e}):t[s?"replace":"push"](i||r,{scroll:e})})()}}(e,S,L,j,w,E,P,x,I)},onMouseEnter(e){N||"function"!=typeof R||R(e),N&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),S&&b(S,L,j,{locale:x,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){N||"function"!=typeof T||T(e),N&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),S&&b(S,L,j,{locale:x,priority:!0,bypassPrefetchedCheck:!0})}};if((0,d.isAbsoluteUrl)(j))H.href=j;else if(!N||_||"a"===i.type&&!("href"in i.props)){let e=void 0!==x?x:S?.locale;H.href=S?.isLocaleDomain&&(0,g.getDomainLocale)(j,e,S?.locales,S?.domainLocales)||(0,m.addBasePath)((0,f.addLocale)(j,e,S?.defaultLocale))}return N?o.default.cloneElement(i,H):(0,a.jsx)("a",{...O,...H,children:r})}),w=(0,o.createContext)({pending:!1}),E=()=>(0,o.useContext)(w),P=_;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},210419,(e,t,r)=>{t.exports=e.r(260429)},93558,e=>{"use strict";var t=e.i(478902),r=e.i(709520),i=e.i(389959),s=e.i(843778);let n=(0,r.cva)((0,s.cn)("relative w-full text-sm rounded-lg border p-4","[&>svg~*]:pl-10 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg]:w-[23px] [&>svg]:h-[23px] [&>svg]:p-1 [&>svg]:flex [&>svg]:rounded"),{variants:{variant:{default:"bg-surface-200/25 border-default text-foreground [&>svg]:text-background [&>svg]:bg-foreground",destructive:"bg-destructive-200 border-destructive-400 [&>svg]:text-destructive-200 [&>svg]:bg-destructive-600",warning:"bg-warning-200 border-warning-400 [&>svg]:text-warning-200 [&>svg]:bg-warning-600"}},defaultVariants:{variant:"default"}}),a=i.forwardRef(({className:e,variant:r,...i},a)=>(0,t.jsx)("div",{ref:a,role:"alert",className:(0,s.cn)(n({variant:r}),e),...i}));a.displayName="Alert";let o=i.forwardRef(({className:e,...r},i)=>(0,t.jsx)("h5",{ref:i,className:(0,s.cn)("mb-0.5",e),...r}));o.displayName="AlertTitle";let u=i.forwardRef(({className:e,children:r,...i},n)=>{let a="string"==typeof r||"number"==typeof r?(0,t.jsx)("p",{children:r}):r;return(0,t.jsx)("div",{ref:n,className:(0,s.cn)("text-sm text-foreground-light font-normal","mb-0.5","[&_p]:mb-0.5 [&_p:last-child]:mb-0",e),...i,children:a})});u.displayName="AlertDescription",e.s(["Alert",()=>a,"AlertDescription",()=>u,"AlertTitle",()=>o])},206413,e=>{"use strict";var t=e.i(93558);e.s(["AlertDescription_Shadcn_",()=>t.AlertDescription])},592360,e=>{"use strict";var t=e.i(93558);e.s(["AlertTitle_Shadcn_",()=>t.AlertTitle])},178527,e=>{"use strict";var t=e.i(93558);e.s(["Alert_Shadcn_",()=>t.Alert])},710483,e=>{"use strict";var t=e.i(478902),r=e.i(709520),i=e.i(389959),s=e.i(178527),n=e.i(206413),a=e.i(592360),o=e.i(843778);let u={note:"default",tip:"default",caution:"warning",danger:"destructive",deprecation:"warning",default:"default",warning:"warning",destructive:"destructive"},l=()=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 20",className:"w-6 h-6",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.625 9.8252C0.625 4.44043 4.99023 0.0751953 10.375 0.0751953C15.7598 0.0751953 20.125 4.44043 20.125 9.8252C20.125 15.21 15.7598 19.5752 10.375 19.5752C4.99023 19.5752 0.625 15.21 0.625 9.8252ZM9.3584 4.38135C9.45117 4.28857 9.55518 4.20996 9.66699 4.14648C9.88086 4.02539 10.1245 3.96045 10.375 3.96045C10.5845 3.96045 10.7896 4.00586 10.9766 4.09229C11.1294 4.1626 11.2705 4.26025 11.3916 4.38135C11.6611 4.65088 11.8125 5.0166 11.8125 5.39795C11.8125 5.5249 11.7959 5.6499 11.7637 5.77002C11.6987 6.01172 11.5718 6.23438 11.3916 6.41455C11.1221 6.68408 10.7563 6.83545 10.375 6.83545C9.99365 6.83545 9.62793 6.68408 9.3584 6.41455C9.08887 6.14502 8.9375 5.7793 8.9375 5.39795C8.9375 5.29492 8.94873 5.19287 8.97021 5.09375C9.02783 4.82568 9.16162 4.57812 9.3584 4.38135ZM10.375 15.6899C10.0933 15.6899 9.82275 15.5781 9.62354 15.3789C9.42432 15.1797 9.3125 14.9092 9.3125 14.6274V9.31494C9.3125 9.0332 9.42432 8.7627 9.62354 8.56348C9.82275 8.36426 10.0933 8.25244 10.375 8.25244C10.6567 8.25244 10.9272 8.36426 11.1265 8.56348C11.3257 8.7627 11.4375 9.0332 11.4375 9.31494V14.6274C11.4375 14.7944 11.3979 14.9575 11.3242 15.104C11.2739 15.2046 11.2075 15.2979 11.1265 15.3789C10.9272 15.5781 10.6567 15.6899 10.375 15.6899Z"})}),c=()=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 20",className:"w-6 h-6",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.15137 1.95117C9.30615 -0.0488281 12.1943 -0.0488281 13.3481 1.95117L20.7031 14.6992C21.8574 16.6992 20.4131 19.1992 18.104 19.1992H3.39502C1.08594 19.1992 -0.356933 16.6992 0.797364 14.6992L8.15137 1.95117ZM11.7666 16.0083C11.4971 16.2778 11.1313 16.4292 10.75 16.4292C10.3687 16.4292 10.0029 16.2778 9.7334 16.0083C9.46387 15.7388 9.3125 15.373 9.3125 14.9917C9.3125 14.9307 9.31641 14.8706 9.32373 14.811C9.33545 14.7197 9.35547 14.6304 9.38379 14.5439L9.41406 14.4609C9.48584 14.2803 9.59375 14.1147 9.7334 13.9751C10.0029 13.7056 10.3687 13.5542 10.75 13.5542C11.1313 13.5542 11.4971 13.7056 11.7666 13.9751C12.0361 14.2446 12.1875 14.6104 12.1875 14.9917C12.1875 15.373 12.0361 15.7388 11.7666 16.0083ZM10.75 4.69971C11.0317 4.69971 11.3022 4.81152 11.5015 5.01074C11.7007 5.20996 11.8125 5.48047 11.8125 5.76221V11.0747C11.8125 11.3564 11.7007 11.627 11.5015 11.8262C11.3022 12.0254 11.0317 12.1372 10.75 12.1372C10.4683 12.1372 10.1978 12.0254 9.99854 11.8262C9.79932 11.627 9.6875 11.3564 9.6875 11.0747V5.76221C9.6875 5.48047 9.79932 5.20996 9.99854 5.01074C10.1978 4.81152 10.4683 4.69971 10.75 4.69971Z"})}),d=(0,r.cva)("",{variants:{type:{default:"[&>svg]:bg-foreground-muted",warning:"",destructive:""}}}),f=(0,i.forwardRef)(({type:e="note",variant:r,showIcon:i=!0,label:f,title:h,description:p,children:g,layout:m="vertical",actions:v,childProps:y={},icon:b,...C},_)=>{let w=r?u[r]:u[e];return(0,t.jsxs)(s.Alert_Shadcn_,{ref:_,variant:w,...C,className:(0,o.cn)("overflow-hidden",d({type:w}),C.className),children:[b||(i&&"warning"===w||"destructive"===w?(0,t.jsx)(c,{}):i?(0,t.jsx)(l,{}):null),(0,t.jsxs)("div",{className:(0,o.cn)("flex","vertical"===m?"flex-col":"flex-row items-center justify-between gap-x-6 lg:gap-x-8"),children:[f||h?(0,t.jsxs)("div",{children:[(0,t.jsx)(a.AlertTitle_Shadcn_,{...y.title,className:(0,o.cn)("text mt-0.5 flex gap-3 text-sm",!f&&"flex-col",y.title?.className),children:f||h}),p&&(0,t.jsx)(n.AlertDescription_Shadcn_,{className:y.description?.className,children:p}),g&&(0,t.jsx)(n.AlertDescription_Shadcn_,{...y.description,className:(0,o.cn)("",y?.description?.className),children:g})]}):(0,t.jsx)("div",{className:"text my-0.5 [&_p]:mt-0 [&_p]:mb-1.5 [&_p:last-child]:mb-0",children:g}),v&&(0,t.jsx)("div",{className:(0,o.cn)("flex flex-row gap-3","vertical"===m?"mt-3 items-start":"items-center"),children:v})]})]})});e.s(["Admonition",0,f])},611223,711950,268546,486144,e=>{"use strict";var t=e.i(38429),r=e.i(356003),i=e.i(355901),s=e.i(234745);let n={list:()=>["organizations"],detail:e=>["organizations",e],members:e=>["organizations",e,"members"],mfa:e=>["organizations",e,"mfa"],paymentMethods:e=>["organizations",e,"payment-methods"],entitlements:e=>["entitlements",e],roles:e=>["organizations",e,"roles"],freeProjectLimitCheck:e=>["organizations",e,"free-project-limit-check"],customerProfile:e=>["organizations",e,"customer-profile"],auditLogs:(e,{date_start:t,date_end:r})=>["organizations",e,"audit-logs",{date_start:t,date_end:r}],subscriptionPreview:(e,t)=>["organizations",e,"subscription","preview",t],taxId:e=>["organizations",e,"tax-ids"],tokenValidation:(e,t)=>["organizations",e,"validate-token",t],projectClaim:(e,t)=>["organizations",e,"project-claim",t],availableRegions:(e,t,r)=>["organizations",e,"available-regions",t,r]};e.s(["organizationKeys",0,n],711950);var a=e.i(783104),o=e.i(61837);async function u(){let{data:e,error:t}=await (0,s.post)("/platform/profile");return t&&(0,s.handleError)(t),e}e.s(["useProfileCreateMutation",0,({onSuccess:e,onError:s,...l}={})=>{let c=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:()=>u(),async onSuccess(t,r,i){await Promise.all([c.invalidateQueries({queryKey:o.profileKeys.profile()}),c.invalidateQueries({queryKey:n.list()}),c.invalidateQueries({queryKey:a.permissionKeys.list()})]),await e?.(t,r,i)},async onError(e,t,r){void 0===s?i.toast.error(`Failed to create profile: ${e.message}`):s(e,t,r)},...l})}],611223);var l=e.i(242882),c=e.i(892354);async function d(){let{error:e,data:t}=await c.auth.getSession();if(e)throw e;if(!t.session)throw Error("Session not found with getSession()");let{identities:r=[],new_email:i,email_change_sent_at:s}=t.session.user;return{identities:r,new_email:i,email_change_sent_at:s}}e.s(["useProfileIdentitiesQuery",0,({enabled:e=!0,...t}={})=>(0,l.useQuery)({queryKey:o.profileKeys.identities(),queryFn:()=>d(),...t})],268546);var f=e.i(869176),h=e.i(10429);async function p(e){let{data:t,error:r}=await (0,s.get)("/platform/profile",{signal:e,headers:{Version:"2"}});return(r&&(0,s.handleError)(r),h.IS_PLATFORM)?t:{...t,disabled_features:f.default.env.NEXT_PUBLIC_DISABLED_FEATURES?.split(",")??[]}}e.s(["useProfileQuery",0,({enabled:e=!0,...t}={})=>(0,l.useQuery)({queryKey:o.profileKeys.profile(),queryFn:({signal:e})=>p(e),staleTime:18e5,...t,enabled:e})],486144)},162082,e=>{"use strict";var t=e.i(38429);e.i(128328);var r=e.i(277948),i=e.i(234745),s=e.i(10429),n=e.i(271226);async function a({event:e,pathname:t}){try{await (0,r.sendTelemetryEvent)(s.API_URL,e,t)}catch(e){(0,i.handleError)(e)}}e.s(["sendEvent",()=>a,"useSendEventMutation",0,({onSuccess:e,onError:r,...i}={})=>{let s=(0,n.useRouter)();return(0,t.useMutation)({mutationFn:e=>a({event:e,pathname:s.pathname}),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,t,i){void 0===r?console.error(`Failed to send Telemetry event: ${e.message}`):r(e,t,i)},...i})}])},519835,e=>{"use strict";var t=e.i(869176);e.i(128328);var r=e.i(947748),i=e.i(48189);let s=t.default.env.NEXT_PUBLIC_GITHUB_INTEGRATION_APP_NAME||(void 0!==t.default.env.NEXT_PUBLIC_IS_NIMBUS?"supabase-snap":"prod"===t.default.env.NEXT_PUBLIC_ENVIRONMENT?"supabase":"staging"===t.default.env.NEXT_PUBLIC_ENVIRONMENT?"supabase-staging":"supabase-local-testing"),n=t.default.env.NEXT_PUBLIC_GITHUB_INTEGRATION_CLIENT_ID||(void 0!==t.default.env.NEXT_PUBLIC_IS_NIMBUS?"Iv23li2pAiqDGgaSrP8q":"prod"===t.default.env.NEXT_PUBLIC_ENVIRONMENT?"Iv1.b91a6d8eaa272168":"staging"===t.default.env.NEXT_PUBLIC_ENVIRONMENT?"Iv1.2681ab9a0360d8ad":"Iv1.5022a3b44d150fbf"),a=`https://github.com/login/oauth/authorize?client_id=${n}`,o=`https://github.com/apps/${s}/installations/new`,u=`https://github.com/settings/connections/applications/${n}`;function l(e,t){let s,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,u=void 0!==window.screenTop?window.screenTop:window.screenY,l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;if("install"===e)s=o;else{let e=(0,i.makeRandomString)(32);localStorage.setItem(r.LOCAL_STORAGE_KEYS.GITHUB_AUTHORIZATION_STATE,e),s=`${a}&state=${e}&prompt=select_account`}let d=l/window.screen.availWidth,f=window.open(s,"GitHub",`scrollbars=yes,resizable=no,status=no,location=no,toolbar=no,menubar=no,
     width=${600/d}, 
     height=${800/d}, 
     top=${(c-800)/2/d+u}, 
     left=${(l-600)/2/d+n}
     `);if(f){if(t){let e=setInterval(()=>{f.closed&&(clearInterval(e),t())},500);setTimeout(()=>{clearInterval(e)},3e5)}f.focus()}}e.s(["GITHUB_INTEGRATION_INSTALLATION_URL",0,o,"GITHUB_INTEGRATION_REVOKE_AUTHORIZATION_URL",0,u,"getGitHubProfileImgUrl",0,e=>`https://github.com/${e}.png?size=96`,"openInstallGitHubIntegrationWindow",()=>l])},432478,e=>{"use strict";var t=e.i(869176),r=e.i(478902),i=e.i(817729),s=e.i(271226),n=e.i(389959),a=e.i(355901);e.i(128328);var o=e.i(704206),u=e.i(154985),l=e.i(611223),c=e.i(268546),d=e.i(486144),f=e.i(162082),h=e.i(601116),p=e.i(519835);let g=(0,n.createContext)({profile:void 0,error:null,isLoading:!0,isError:!1,isSuccess:!1}),m=()=>(0,n.useContext)(g);function v(){let{profile:e,isLoading:t}=m(),{data:r,isPending:i}=(0,c.useProfileIdentitiesQuery)();e?.username;let s=e?.auth0_id?.startsWith("github"),n=s?r?.identities.find(e=>"github"===e.provider)?.identity_data?.user_name:void 0,a=s?(0,p.getGitHubProfileImgUrl)(n):void 0;return{username:e?.username,primaryEmail:e?.primary_email,avatarUrl:a,isLoading:t||i}}e.s(["ProfileProvider",0,({children:e})=>{let c=(0,o.useUser)(),p=(0,o.useIsLoggedIn)(),m=(0,s.useRouter)(),v=(0,h.useSignOut)(),{mutate:y}=(0,f.useSendEventMutation)(),{mutate:b,isPending:C}=(0,l.useProfileCreateMutation)({onSuccess:()=>{if(y({action:"sign_up",properties:{category:"conversion"}}),c){let e=window;e.dataLayer=e.dataLayer||[],e.dataLayer.push({event:"sign_up",email:c.email})}},onError:e=>{409===e.code?(i.captureMessage("Profile already exists: "+e.message),"prod"!==t.default.env.NEXT_PUBLIC_ENVIRONMENT&&a.toast.error("[DEV] createProfile called despite profile already exists: "+e.message)):(i.captureMessage("Failed to create users profile: "+e.message),a.toast.error("Failed to create your profile. Please refresh to try again."))}}),{error:_,data:w,isPending:E,isError:P,isSuccess:x}=(0,d.useProfileQuery)({enabled:p});(0,n.useEffect)(()=>{P&&(_?.message==="User's profile not found"&&b(),_?.code===401&&v().then(()=>m.push("/sign-in")))},[_,v,m,b,P]);let{isInitialLoading:M}=(0,u.usePermissionsQuery)({enabled:p}),I=(0,n.useMemo)(()=>({error:_,profile:w,isLoading:E||C||M,isError:P,isSuccess:x}),[E,C,M,w,_,P,x]);return(0,r.jsx)(g.Provider,{value:I,children:e})},"useProfile",0,m,"useProfileNameAndPicture",()=>v])},66863,e=>{"use strict";var t=e.i(551390),r=e.i(518516),i=e.i(554532),s=class extends r.Removable{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||n(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#i({type:"continue"})};this.#r=(0,i.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#i({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let r="pending"===this.state.status,s=!this.#r.canStart();try{if(r)t();else{this.#i({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#i({type:"pending",context:t,variables:e,isPaused:s})}let i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#i({type:"success",data:i}),i}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#i({type:"error",error:t})}}finally{this.#t.runNext(this)}}#i(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),t.notifyManager.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function n(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}e.s(["Mutation",()=>s,"getDefaultState",()=>n])},38429,e=>{"use strict";var t=e.i(389959),r=e.i(66863),i=e.i(551390),s=e.i(976149),n=e.i(201844),a=class extends s.Subscribable{#s;#n=void 0;#a;#o;constructor(e,t){super(),this.#s=e,this.setOptions(t),this.bindMethods(),this.#u()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#s.defaultMutationOptions(e),(0,n.shallowEqualObjects)(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#a,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.hashKey)(t.mutationKey)!==(0,n.hashKey)(this.options.mutationKey)?this.reset():this.#a?.state.status==="pending"&&this.#a.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#a?.removeObserver(this)}onMutationUpdate(e){this.#u(),this.#l(e)}getCurrentResult(){return this.#n}reset(){this.#a?.removeObserver(this),this.#a=void 0,this.#u(),this.#l()}mutate(e,t){return this.#o=t,this.#a?.removeObserver(this),this.#a=this.#s.getMutationCache().build(this.#s,this.options),this.#a.addObserver(this),this.#a.execute(e)}#u(){let e=this.#a?.state??(0,r.getDefaultState)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#l(e){i.notifyManager.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#n.variables,r=this.#n.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,r),this.#o.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#o.onError?.(e.error,t,r),this.#o.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#n)})})}},o=e.i(356003);function u(e,r){let s=(0,o.useQueryClient)(r),[u]=t.useState(()=>new a(s,e));t.useEffect(()=>{u.setOptions(e)},[u,e]);let l=t.useSyncExternalStore(t.useCallback(e=>u.subscribe(i.notifyManager.batchCalls(e)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c=t.useCallback((e,t)=>{u.mutate(e,t).catch(n.noop)},[u]);if(l.error&&(0,n.shouldThrowError)(u.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}e.s(["useMutation",()=>u],38429)},892354,e=>{"use strict";var t=e.i(869176);let r=e.i(109294).gotrueClient,i="/organizations",s=async e=>{try{let{data:t,error:i}=await r.getClaims(e.replace(/bearer /i,""));if(i)throw i;return{claims:t?.claims??null,error:null}}catch(e){return console.error(e),{claims:null,error:e}}};e.s(["auth",0,r,"buildPathWithParams",0,e=>{let[t,r]=e.split("?",2),i=new URLSearchParams(r||""),s=new URLSearchParams(location.search);for(let[e,t]of i.entries())s.set(e,t);let n=s.toString();return n?`${t}?${n}`:t},"getReturnToPath",0,(e=i)=>{if("undefined"==typeof location)return e;let r=new URLSearchParams(location.search),s=r.get("returnTo")??e;t.default.env.NEXT_PUBLIC_BASE_PATH&&(s=s.replace(t.default.env.NEXT_PUBLIC_BASE_PATH,"")),r.delete("returnTo");let n=r.toString(),[a,o]=((e,t=i)=>e.startsWith("//")||e.includes("://")?t:/^\/[a-zA-Z0-9/\-_]*(?:\?[a-zA-Z0-9\-_=&]*)?$/.test(e)?e:t)(s,e).split("?"),u=new URLSearchParams(o||"");n&&new URLSearchParams(n).forEach((e,t)=>{u.append(t,e)});let l=u.toString();return a+(l?`?${l}`:"")},"getUserClaims",0,s])},154985,783104,e=>{"use strict";var t=e.i(242882);e.i(128328);var r=e.i(704206),i=e.i(234745),s=e.i(10429);let n={list:()=>["permissions"]};async function a(e){let{data:t,error:r}=await (0,i.get)("/platform/profile/permissions",{signal:e});return r&&(0,i.handleError)(r,{sentryContext:{tags:{permissionsQuery:!0},contexts:{rawError:r}}}),t}e.s(["permissionKeys",0,n],783104),e.s(["usePermissionsQuery",0,({enabled:e=!0,...i}={})=>{let o=(0,r.useIsLoggedIn)();return(0,t.useQuery)({queryKey:n.list(),queryFn:({signal:e})=>a(e),...i,enabled:s.IS_PLATFORM&&e&&o,staleTime:3e5})}],154985)},61837,e=>{"use strict";e.s(["profileKeys",0,{profile:()=>["profile"],mfaFactors:()=>["mfa","factors"],identities:()=>["profile","identities"],aaLevel:()=>["mfa","aaLevel"],auditLogs:({date_start:e,date_end:t})=>["profile","audit-logs",{date_start:e,date_end:t}]}])},811025,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(837508),s=e.i(432478),n=e.i(711950);function a(e){return{...e,billing_email:e.billing_email??"Unknown",managed_by:function(e){switch(e.billing_partner){case"vercel_marketplace":return i.MANAGED_BY.VERCEL_MARKETPLACE;case"aws_marketplace":return i.MANAGED_BY.AWS_MARKETPLACE;default:return i.MANAGED_BY.SUPABASE}}(e),partner_id:e.slug.startsWith("vercel_")?e.slug.replace("vercel_",""):void 0}}async function o({signal:e,headers:t}){let{data:i,error:s}=await (0,r.get)("/platform/organizations",{signal:e,headers:t});return(s&&(0,r.handleError)(s),Array.isArray(i))?i.map(a).sort((e,t)=>e.name.localeCompare(t.name)):[]}function u(e){return e.invalidateQueries({queryKey:n.organizationKeys.list()})}e.s(["castOrganizationResponseToOrganization",()=>a,"invalidateOrganizationsQuery",()=>u,"useOrganizationsQuery",0,({enabled:e=!0,...r}={})=>{let{profile:i}=(0,s.useProfile)();return(0,t.useQuery)({queryKey:n.organizationKeys.list(),queryFn:({signal:e})=>o({signal:e}),enabled:e&&void 0!==i,...r,staleTime:18e5})}])}]);